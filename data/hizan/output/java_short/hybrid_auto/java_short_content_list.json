[
    {
        "type": "text",
        "text": "LEARN JAVA ",
        "text_level": 1,
        "bbox": [
            174,
            81,
            831,
            142
        ],
        "page_idx": 0
    },
    {
        "type": "text",
        "text": "THE EASY WAY ",
        "text_level": 1,
        "bbox": [
            87,
            156,
            908,
            211
        ],
        "page_idx": 0
    },
    {
        "type": "text",
        "text": "A HANDS-ON INTRODUCTION ",
        "bbox": [
            202,
            235,
            791,
            256
        ],
        "page_idx": 0
    },
    {
        "type": "text",
        "text": "TO PROGrAMMiNG ",
        "bbox": [
            327,
            265,
            670,
            283
        ],
        "page_idx": 0
    },
    {
        "type": "text",
        "text": "BRYSON PAYNE ",
        "bbox": [
            365,
            339,
            628,
            357
        ],
        "page_idx": 0
    },
    {
        "type": "image",
        "img_path": "images/f45cc7ba180373808f780dee9d687133a1dd3b7d17d7b6f9ffbbe7a34665b85d.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            0,
            373,
            1000,
            1000
        ],
        "page_idx": 0
    },
    {
        "type": "text",
        "text": "Learn Java the Easy Way ",
        "text_level": 1,
        "bbox": [
            555,
            147,
            902,
            168
        ],
        "page_idx": 2
    },
    {
        "type": "text",
        "text": "L e a r n J a v a ",
        "text_level": 1,
        "bbox": [
            234,
            190,
            773,
            244
        ],
        "page_idx": 4
    },
    {
        "type": "text",
        "text": "the Easy Way ",
        "text_level": 1,
        "bbox": [
            160,
            258,
            839,
            304
        ],
        "page_idx": 4
    },
    {
        "type": "text",
        "text": "A H a n d s - O n I n t r o d u c t i o n t o Programming ",
        "text_level": 1,
        "bbox": [
            152,
            352,
            843,
            427
        ],
        "page_idx": 4
    },
    {
        "type": "text",
        "text": "by Bryson Payne ",
        "bbox": [
            339,
            639,
            658,
            672
        ],
        "page_idx": 4
    },
    {
        "type": "image",
        "img_path": "images/38aecc96509a3673b90865797334161dcc69ad1b2ee725037817b146ec811be9.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            456,
            705,
            531,
            768
        ],
        "page_idx": 4
    },
    {
        "type": "text",
        "text": "no starch press ",
        "bbox": [
            436,
            773,
            561,
            812
        ],
        "page_idx": 4
    },
    {
        "type": "text",
        "text": "San Francisco ",
        "bbox": [
            430,
            834,
            565,
            849
        ],
        "page_idx": 4
    },
    {
        "type": "text",
        "text": "Learn Java the Easy Way. Copyright $\\circledcirc$ 2018 by Bryson Payne. ",
        "text_level": 1,
        "bbox": [
            93,
            64,
            579,
            81
        ],
        "page_idx": 5
    },
    {
        "type": "text",
        "text": "All rights reserved. No part of this work may be reproduced or transmitted in any form or by any means, electronic or mechanical, including photocopying, recording, or by any information storage or retrieval system, without the prior written permission of the copyright owner and the publisher. ",
        "bbox": [
            91,
            88,
            817,
            136
        ],
        "page_idx": 5
    },
    {
        "type": "text",
        "text": "ISBN-10: 1-59327-805-5 ",
        "bbox": [
            93,
            172,
            257,
            186
        ],
        "page_idx": 5
    },
    {
        "type": "text",
        "text": "ISBN-13: 978-1-59327-805-2 ",
        "bbox": [
            93,
            187,
            285,
            202
        ],
        "page_idx": 5
    },
    {
        "type": "text",
        "text": "Publisher: William Pollock ",
        "bbox": [
            93,
            211,
            281,
            225
        ],
        "page_idx": 5
    },
    {
        "type": "text",
        "text": "Production Editor: Riley Hoffman ",
        "bbox": [
            95,
            228,
            331,
            241
        ],
        "page_idx": 5
    },
    {
        "type": "text",
        "text": "Cover Illustration: Josh Ellingson ",
        "bbox": [
            95,
            243,
            325,
            256
        ],
        "page_idx": 5
    },
    {
        "type": "text",
        "text": "Interior Design: Octopod Studios ",
        "bbox": [
            95,
            258,
            329,
            271
        ],
        "page_idx": 5
    },
    {
        "type": "text",
        "text": "Developmental Editors: Jan Cash and Tyler Ortman ",
        "bbox": [
            95,
            273,
            454,
            286
        ],
        "page_idx": 5
    },
    {
        "type": "text",
        "text": "Technical Reviewer: Bryan Fagan ",
        "bbox": [
            95,
            288,
            325,
            301
        ],
        "page_idx": 5
    },
    {
        "type": "text",
        "text": "Copyeditor: Rachel Monaghan ",
        "bbox": [
            95,
            303,
            309,
            316
        ],
        "page_idx": 5
    },
    {
        "type": "text",
        "text": "Compositors: Riley Hoffman and Meg Sneeringer ",
        "bbox": [
            95,
            318,
            440,
            331
        ],
        "page_idx": 5
    },
    {
        "type": "text",
        "text": "Proofreader: Paula L. Fleming ",
        "bbox": [
            95,
            333,
            307,
            346
        ],
        "page_idx": 5
    },
    {
        "type": "text",
        "text": "Indexer: BIM Creatives, LLC. ",
        "bbox": [
            95,
            348,
            299,
            360
        ],
        "page_idx": 5
    },
    {
        "type": "text",
        "text": "For information on distribution, translations, or bulk sales, please contact No Starch Press, Inc. directly: ",
        "bbox": [
            93,
            370,
            813,
            385
        ],
        "page_idx": 5
    },
    {
        "type": "text",
        "text": "No Starch Press, Inc. ",
        "bbox": [
            95,
            387,
            240,
            400
        ],
        "page_idx": 5
    },
    {
        "type": "text",
        "text": "245 8th Street, San Francisco, CA 94103 ",
        "bbox": [
            95,
            402,
            373,
            415
        ],
        "page_idx": 5
    },
    {
        "type": "text",
        "text": "phone: 1.415.863.9900; sales@nostarch.com ",
        "bbox": [
            95,
            417,
            400,
            430
        ],
        "page_idx": 5
    },
    {
        "type": "text",
        "text": "www.nostarch.com ",
        "bbox": [
            95,
            433,
            226,
            445
        ],
        "page_idx": 5
    },
    {
        "type": "text",
        "text": "Library of Congress Cataloging-in-Publication Data ",
        "bbox": [
            93,
            456,
            418,
            471
        ],
        "page_idx": 5
    },
    {
        "type": "text",
        "text": "Names: Payne, Bryson, author. ",
        "bbox": [
            93,
            480,
            313,
            493
        ],
        "page_idx": 5
    },
    {
        "type": "text",
        "text": "Title: Learn Java the easy way : a hands-on introduction to programming / Bryson Payne. ",
        "bbox": [
            95,
            495,
            640,
            524
        ],
        "page_idx": 5
    },
    {
        "type": "text",
        "text": "Description: San Francisco : No Starch Press, Inc., [2018] ",
        "bbox": [
            95,
            525,
            529,
            539
        ],
        "page_idx": 5
    },
    {
        "type": "text",
        "text": "Identifiers: LCCN 2017022283 (print) | LCCN 2017035701 (ebook) | ISBN 9781593278465 (epub) | ISBN 1593278462 (epub) | ISBN 9781593278052 (pbk.) | ISBN 1593278055 (pbk.) ",
        "bbox": [
            95,
            540,
            662,
            584
        ],
        "page_idx": 5
    },
    {
        "type": "text",
        "text": "Subjects: LCSH: Java (Computer program language) | Java (Computer program language) ",
        "bbox": [
            95,
            585,
            640,
            614
        ],
        "page_idx": 5
    },
    {
        "type": "text",
        "text": "Classification: LCC QA76.73.J38 (ebook) | LCC QA76.73.J38 P3955 2018 (print) | DDC 005.13/3--dc23 ",
        "bbox": [
            95,
            615,
            662,
            642
        ],
        "page_idx": 5
    },
    {
        "type": "text",
        "text": "LC record available at https://lccn.loc.gov/2017022283 ",
        "bbox": [
            95,
            645,
            500,
            659
        ],
        "page_idx": 5
    },
    {
        "type": "text",
        "text": "No Starch Press and the No Starch Press logo are registered trademarks of No Starch Press, Inc. Other product and company names mentioned herein may be the trademarks of their respective owners. Rather than use a trademark symbol with every occurrence of a trademarked name, we are using the names only in an editorial fashion and to the benefit of the trademark owner, with no intention of infringement of the trademark. ",
        "bbox": [
            91,
            668,
            835,
            741
        ],
        "page_idx": 5
    },
    {
        "type": "text",
        "text": "The information in this book is distributed on an “As Is” basis, without warranty. While every precaution has been taken in the preparation of this work, neither the author nor No Starch Press, Inc. shall have any liability to any person or entity with respect to any loss or damage caused or alleged to be caused directly or indirectly by the information contained in it. ",
        "bbox": [
            91,
            750,
            839,
            812
        ],
        "page_idx": 5
    },
    {
        "type": "text",
        "text": "About the Author ",
        "text_level": 1,
        "bbox": [
            174,
            180,
            394,
            202
        ],
        "page_idx": 6
    },
    {
        "type": "text",
        "text": "Dr. Bryson Payne is a tenured professor of computer science at the University of North Georgia, where he has taught aspiring coders since 1998. He is a Certified Information Systems Security Professional (CISSP) and Certified Ethical Hacker (CEH), among other industry certifications. He was also the first Department Head of Computer Science at UNG and the founding Director of the Center for Cyber Operations Education, an NSA Center of Academic Excellence in Cyber Defense. He enjoys working with K–12 schools worldwide to promote computer science education. ",
        "bbox": [
            246,
            211,
            888,
            355
        ],
        "page_idx": 6
    },
    {
        "type": "text",
        "text": "Featured in CIO magazine, Campus Technology, and the Wall Street Journal, Dr. Payne is also the best-selling author of Teach Your Kids to Code: A Parent-Friendly Guide to Python Programming (No Starch Press, 2015), now published in five languages (Korean, Portuguese, Russian, Chinese, and English). He’s also a popular online instructor of several courses, including the highly rated Udemy course Real-World Ethical Hacking (2017). His courses reach more than 20,000 enrolled students from more than 150 countries. He holds a PhD in computer science from Georgia State University and has published articles in scholarly and trade journals, in addition to speaking regularly at regional and national conferences on computer science and cybersecurity education. ",
        "bbox": [
            246,
            357,
            888,
            552
        ],
        "page_idx": 6
    },
    {
        "type": "text",
        "text": "Dr. Payne lives north of Atlanta, Georgia, with his lovely wife, Bev; two sons, Alex and Max; and three cats, Leo, Rocky, and Pixel. ",
        "bbox": [
            246,
            555,
            888,
            588
        ],
        "page_idx": 6
    },
    {
        "type": "text",
        "text": "About the Technical Reviewer ",
        "text_level": 1,
        "bbox": [
            174,
            645,
            543,
            666
        ],
        "page_idx": 6
    },
    {
        "type": "text",
        "text": "Bryan Fagan is a middle school engineering and technology teacher. He lives in Dahlonega, Georgia, where he teaches, enjoys the slow-rolling Appalachian mountains with his wife and daughter, and trains in Brazilian jiujitsu. He is the founder of Make Stuff, an after-school makerspace for middle school students. ",
        "bbox": [
            246,
            677,
            888,
            765
        ],
        "page_idx": 6
    },
    {
        "type": "text",
        "text": "To Mom, for always believing in me ",
        "bbox": [
            341,
            249,
            654,
            267
        ],
        "page_idx": 8
    },
    {
        "type": "text",
        "text": "B r i e f C o n t e n t s ",
        "text_level": 1,
        "bbox": [
            333,
            178,
            668,
            201
        ],
        "page_idx": 10
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Acknowledgments . . . . xvii ",
            "Introduction . xix ",
            "Chapter 1: Getting Started ",
            "Chapter 2: Build a Hi-Lo Guessing Game App! . . . 19 ",
            "Chapter 3: Creating a GUI for Our Guessing Game . . . . . 43 ",
            "Chapter 4: Creating Your First Android App . . 75 ",
            "Chapter 5: Polishing Your App by Adding Menus and Preferences . . . . 109 ",
            "Chapter 6: Deciphering Secret Messages . . . . 125 ",
            "Chapter 7: Creating Advanced GUIs and Sharing Your App . . . . . 147 ",
            "Chapter 8: Make Secret Messages a Phone App to Share with Friends! . . . . 175 ",
            "Chapter 9: Paint Colorful Bubbles with Your Mouse! 197 ",
            "Chapter 10: Adding Animation and Collision Detection with Timers . . . . 221 ",
            "Chapter 11: Making BubbleDraw a Multitouch Android App . . 249 ",
            "Appendix: Debugging and Avoiding Common Errors in Java . . . 273 ",
            "Index . . . 279 "
        ],
        "bbox": [
            97,
            273,
            815,
            687
        ],
        "page_idx": 10
    },
    {
        "type": "text",
        "text": "C o n t e n t s i n D e ta il ",
        "text_level": 1,
        "bbox": [
            299,
            64,
            706,
            87
        ],
        "page_idx": 12
    },
    {
        "type": "text",
        "text": "Acknowl edgments ",
        "text_level": 1,
        "bbox": [
            97,
            147,
            329,
            165
        ],
        "page_idx": 12
    },
    {
        "type": "text",
        "text": "xvii ",
        "bbox": [
            771,
            148,
            817,
            165
        ],
        "page_idx": 12
    },
    {
        "type": "text",
        "text": "Introduction ",
        "text_level": 1,
        "bbox": [
            97,
            196,
            265,
            213
        ],
        "page_idx": 12
    },
    {
        "type": "text",
        "text": "xix ",
        "bbox": [
            777,
            196,
            815,
            213
        ],
        "page_idx": 12
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Why Should I Learn to Code? . . xx ",
            "Why Should I Learn Java? . . . xx ",
            "What’s in This Book . xx ",
            "What Tools Do I Need? . xxi ",
            "Online Resources . . xxi ",
            "Start Now! . . xxii "
        ],
        "bbox": [
            95,
            220,
            815,
            319
        ],
        "page_idx": 12
    },
    {
        "type": "text",
        "text": "1 ",
        "text_level": 1,
        "bbox": [
            97,
            343,
            113,
            358
        ],
        "page_idx": 12
    },
    {
        "type": "text",
        "text": "Getting Started 1 ",
        "text_level": 1,
        "bbox": [
            97,
            361,
            813,
            378
        ],
        "page_idx": 12
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Java on Windows, macOS, and Linux . . . . ",
            "Installing Java 8 and 9 for Developers . . . . . 2 ",
            "Installing the Eclipse IDE for Java Developers . . . . ",
            "Setting Up Eclipse . . . . "
        ],
        "bbox": [
            95,
            385,
            813,
            451
        ],
        "page_idx": 12
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Installing the WindowBuilder Editor . . 6 ",
            "Customizing Eclipse’s Look and Feel . "
        ],
        "bbox": [
            168,
            451,
            813,
            484
        ],
        "page_idx": 12
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Installing Android Studio for Mobile App Development . . . 8 ",
            "Getting to Know Java with JShell 9 "
        ],
        "bbox": [
            95,
            484,
            813,
            516
        ],
        "page_idx": 12
    },
    {
        "type": "text",
        "text": "Running JShell . . 9 ",
        "bbox": [
            168,
            518,
            813,
            534
        ],
        "page_idx": 12
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Working with Java Expressions in JShell 12 ",
            "Declaring Java Variables in JShell . 13 ",
            "Printing Output in Java . . 15 ",
            "JShell Commands 16 "
        ],
        "bbox": [
            168,
            534,
            813,
            597
        ],
        "page_idx": 12
    },
    {
        "type": "text",
        "text": "What You Learned . . 17 ",
        "bbox": [
            95,
            600,
            813,
            615
        ],
        "page_idx": 12
    },
    {
        "type": "text",
        "text": "",
        "text_level": 1,
        "bbox": [
            97,
            641,
            113,
            656
        ],
        "page_idx": 12
    },
    {
        "type": "text",
        "text": "Buil d a Hi -Lo Guessing Game App! 19 ",
        "text_level": 1,
        "bbox": [
            97,
            659,
            815,
            675
        ],
        "page_idx": 12
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Planning the Game Step-by-Step . . . . . 20 ",
            "Creating a New Java Project . . . . . . 20 ",
            "Creating the HiLo Class 21 "
        ],
        "bbox": [
            95,
            683,
            815,
            732
        ],
        "page_idx": 12
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Generating a Random Number . . . 23 ",
            "Getting User Input from the Keyboard . . 25 ",
            "Making the Program Print Output . . 27 "
        ],
        "bbox": [
            168,
            732,
            813,
            780
        ],
        "page_idx": 12
    },
    {
        "type": "text",
        "text": "Loops: Ask, Check, Repeat . . 28 ",
        "bbox": [
            95,
            783,
            813,
            798
        ],
        "page_idx": 12
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "if Statements: Testing for the Right Conditions . . 30 ",
            "Adding a Play Again Loop . . . . 33 "
        ],
        "bbox": [
            168,
            798,
            813,
            831
        ],
        "page_idx": 12
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Testing the Game . . 36 ",
            "What You Learned . 38 "
        ],
        "bbox": [
            95,
            833,
            813,
            863
        ],
        "page_idx": 12
    },
    {
        "type": "text",
        "text": "Programming Challenges . . . . . . . 39 ",
        "bbox": [
            97,
            864,
            815,
            881
        ],
        "page_idx": 12
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "#1: Expanding Your Range . . . 40 ",
            "#2: Counting Tries . 40 ",
            "#3: Playing MadLibs . 41 "
        ],
        "bbox": [
            168,
            882,
            813,
            930
        ],
        "page_idx": 12
    },
    {
        "type": "text",
        "text": "3 Creating a GU I for Our Guessing Game 43 ",
        "text_level": 1,
        "bbox": [
            91,
            64,
            811,
            97
        ],
        "page_idx": 13
    },
    {
        "type": "text",
        "text": "Practicing with JShell . 44 ",
        "bbox": [
            91,
            105,
            811,
            121
        ],
        "page_idx": 13
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Creating a GUI in Four Lines of Code . . . 44 ",
            "Creating an Interactive GUI in 10 Lines of Code! 45 "
        ],
        "bbox": [
            162,
            121,
            809,
            154
        ],
        "page_idx": 13
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Setting Up the GUI App in Eclipse . . . . . 48 ",
            "GUI Design with Eclipse’s WindowBuilder Editor . 50 "
        ],
        "bbox": [
            93,
            156,
            809,
            187
        ],
        "page_idx": 13
    },
    {
        "type": "text",
        "text": "Designing the User Interface . . . . . 51 ",
        "bbox": [
            93,
            189,
            805,
            205
        ],
        "page_idx": 13
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Setting GUI Properties in the Properties Pane . . . 51 ",
            "Customizing GUI Components in the Palette Pane . . . 52 ",
            "Aligning GUI Elements . . 54 ",
            "Naming GUI Components for Coding . . . 55 ",
            "Connecting the GUI to Your Java Code . . 56 "
        ],
        "bbox": [
            162,
            205,
            809,
            286
        ],
        "page_idx": 13
    },
    {
        "type": "text",
        "text": "Adding a Method to Check the Player’s Guess . . . . 58 ",
        "bbox": [
            93,
            288,
            809,
            304
        ],
        "page_idx": 13
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Getting Text from a JTextField . 59 ",
            "Converting Strings to Numbers . . 60 "
        ],
        "bbox": [
            162,
            304,
            809,
            336
        ],
        "page_idx": 13
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Starting a New Game 61 ",
            "Listening for User Events: Click to Guess! 62 ",
            "Setting Up the GUI Window . . . . . 64 ",
            "Time to Play! . 66 ",
            "Adding a Play Again Feature 66 ",
            "Improving the UX . . 67 "
        ],
        "bbox": [
            93,
            337,
            809,
            435
        ],
        "page_idx": 13
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Allowing Users to Press Enter to Guess . . 68 ",
            "Automatically Removing Old Guesses . 68 "
        ],
        "bbox": [
            162,
            436,
            809,
            469
        ],
        "page_idx": 13
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Handling Bad User Input . . 70 ",
            "What You Learned . 73 "
        ],
        "bbox": [
            93,
            469,
            809,
            501
        ],
        "page_idx": 13
    },
    {
        "type": "text",
        "text": "Programming Challenges . . . . 73 ",
        "bbox": [
            93,
            503,
            809,
            518
        ],
        "page_idx": 13
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "#1: Showing Users How Many Tries They Took 73 ",
            "#2: Showing and Hiding a Play Again Button . . . 73 ",
            "#3: Creating a GUI MadLib . . 74 "
        ],
        "bbox": [
            162,
            519,
            809,
            567
        ],
        "page_idx": 13
    },
    {
        "type": "text",
        "text": "4 Creating Your Fi rst Android A pp 75 ",
        "text_level": 1,
        "bbox": [
            93,
            594,
            809,
            627
        ],
        "page_idx": 13
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Starting a New Android Studio App Project . . . . . 76 ",
            "Building the GUI Layout in Design View . . 80 ",
            "Naming GUI Components in Android Studio . . 83 ",
            "Connecting the GUI to Java in Android Studio . . 85 ",
            "Adding Methods to Check the Guess and Begin a New Game . 88 ",
            "Handling Events in Android . 91 ",
            "Running the App on the Android Emulator . . 94 ",
            "Running the App on a Real Android Device . . 100 "
        ],
        "bbox": [
            93,
            635,
            809,
            765
        ],
        "page_idx": 13
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Preparing Your Device . . 100 ",
            "Connecting Your Device . . . 101 ",
            "Running the App on Your Device . . . 101 "
        ],
        "bbox": [
            162,
            768,
            809,
            815
        ],
        "page_idx": 13
    },
    {
        "type": "text",
        "text": "Improving the UX . . . 102 ",
        "bbox": [
            93,
            816,
            809,
            833
        ],
        "page_idx": 13
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Centering the User’s Guess in the Text Field . 103 ",
            "Adding a Listener for the Enter Key . . 103 ",
            "Adding One More Finishing Touch . 104 "
        ],
        "bbox": [
            164,
            834,
            809,
            881
        ],
        "page_idx": 13
    },
    {
        "type": "text",
        "text": "What You Learned . 105 ",
        "bbox": [
            93,
            882,
            809,
            897
        ],
        "page_idx": 13
    },
    {
        "type": "page_number",
        "text": "xii ",
        "bbox": [
            93,
            951,
            113,
            963
        ],
        "page_idx": 13
    },
    {
        "type": "footer",
        "text": "Contents in Detail ",
        "bbox": [
            136,
            954,
            232,
            963
        ],
        "page_idx": 13
    },
    {
        "type": "text",
        "text": "Programming Challenges . . . . . . 105 ",
        "text_level": 1,
        "bbox": [
            97,
            63,
            815,
            79
        ],
        "page_idx": 14
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "#1: “Toast”-ing to the Number of Tries . . . 106 ",
            "#2: Adding Visual Appeal . . . 107 ",
            "#3: Creating a MadLibs Mobile App . . . 107 "
        ],
        "bbox": [
            170,
            79,
            815,
            130
        ],
        "page_idx": 14
    },
    {
        "type": "text",
        "text": "5 Poli shing Your App by Adding Menus and Preferences ",
        "text_level": 1,
        "bbox": [
            97,
            154,
            549,
            205
        ],
        "page_idx": 14
    },
    {
        "type": "text",
        "text": "Adding an Options Menu in Android . . 109 ",
        "bbox": [
            97,
            213,
            815,
            229
        ],
        "page_idx": 14
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Adding Items to the Menu’s XML File . . 110 ",
            "Displaying the Options Menu 111 ",
            "Responding to User Selections . 112 ",
            "Creating an Alert Dialog Pop-up for the About Screen . . 113 "
        ],
        "bbox": [
            170,
            229,
            815,
            297
        ],
        "page_idx": 14
    },
    {
        "type": "text",
        "text": "Changing the Guessing Range . . . . 114 ",
        "bbox": [
            97,
            297,
            815,
            313
        ],
        "page_idx": 14
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Adding a Variable for the Range . . 115 ",
            "Using the range Variable . . 115 ",
            "Building the Dialog to Allow the User to Select the Range . . . . . 116 "
        ],
        "bbox": [
            170,
            313,
            815,
            363
        ],
        "page_idx": 14
    },
    {
        "type": "text",
        "text": "Storing User Preferences and Game Stats . . . . . 118 ",
        "bbox": [
            97,
            363,
            815,
            379
        ],
        "page_idx": 14
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Storing and Retrieving the User’s Preferred Range . . . 118 ",
            "Storing the Number of Games Won . . 120 "
        ],
        "bbox": [
            170,
            379,
            815,
            412
        ],
        "page_idx": 14
    },
    {
        "type": "text",
        "text": "What You Learned . 122 ",
        "bbox": [
            97,
            412,
            815,
            427
        ],
        "page_idx": 14
    },
    {
        "type": "text",
        "text": "Programming Challenges . . . . . . . . 122 ",
        "text_level": 1,
        "bbox": [
            97,
            429,
            815,
            445
        ],
        "page_idx": 14
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "#1: You Win Some, You Lose Some . 122 ",
            "#2: Ratio of Wins to Losses . . . 123 "
        ],
        "bbox": [
            170,
            445,
            815,
            477
        ],
        "page_idx": 14
    },
    {
        "type": "text",
        "text": "6 Deciphering Secret Messages ",
        "text_level": 1,
        "bbox": [
            97,
            503,
            440,
            537
        ],
        "page_idx": 14
    },
    {
        "type": "text",
        "text": "The Caesar Cipher . . . . 125 ",
        "bbox": [
            97,
            543,
            815,
            561
        ],
        "page_idx": 14
    },
    {
        "type": "text",
        "text": "Setting Up the Secret Messages App . . . . . 126 ",
        "bbox": [
            97,
            561,
            815,
            576
        ],
        "page_idx": 14
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Creating the Secret Messages Project in Eclipse . . 127 ",
            "Beginning to Code SecretMessages.java . . . 128 ",
            "Messing with Strings . . 128 "
        ],
        "bbox": [
            170,
            578,
            815,
            627
        ],
        "page_idx": 14
    },
    {
        "type": "text",
        "text": "Characters and Values in Java . . 132 ",
        "bbox": [
            97,
            627,
            815,
            642
        ],
        "page_idx": 14
    },
    {
        "type": "text",
        "text": "Encoding Just the Letters 133 ",
        "bbox": [
            97,
            644,
            815,
            659
        ],
        "page_idx": 14
    },
    {
        "type": "text",
        "text": "Closing the Scanner . . . 135 ",
        "bbox": [
            97,
            660,
            815,
            675
        ],
        "page_idx": 14
    },
    {
        "type": "text",
        "text": "Adding a Custom Key Value . . . . . 137 ",
        "bbox": [
            97,
            677,
            815,
            693
        ],
        "page_idx": 14
    },
    {
        "type": "text",
        "text": "Encoding Digits . . 138 ",
        "bbox": [
            97,
            693,
            815,
            708
        ],
        "page_idx": 14
    },
    {
        "type": "text",
        "text": "Running Command Line Apps Without Eclipse . . . 141 ",
        "bbox": [
            97,
            710,
            815,
            726
        ],
        "page_idx": 14
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Finding Your Workspace Folders . 141 ",
            "Opening a Command Line Window . . 142 "
        ],
        "bbox": [
            170,
            726,
            815,
            758
        ],
        "page_idx": 14
    },
    {
        "type": "text",
        "text": "What You Learned . 144 ",
        "bbox": [
            97,
            759,
            815,
            774
        ],
        "page_idx": 14
    },
    {
        "type": "text",
        "text": "Programming Challenges . . . . . . . 144 ",
        "text_level": 1,
        "bbox": [
            97,
            776,
            815,
            792
        ],
        "page_idx": 14
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "#1: Looping the Loop 144 ",
            "#2: Reversing and Encoding 145 ",
            "#3: Safely Handling Keys with try and catch . . 145 "
        ],
        "bbox": [
            170,
            792,
            815,
            842
        ],
        "page_idx": 14
    },
    {
        "type": "footer",
        "text": "Contents in Detail ",
        "bbox": [
            759,
            953,
            857,
            963
        ],
        "page_idx": 14
    },
    {
        "type": "page_number",
        "text": "xiii ",
        "bbox": [
            878,
            950,
            904,
            963
        ],
        "page_idx": 14
    },
    {
        "type": "text",
        "text": "7 Creating Advanced GU Is and Sharing Your App 147 ",
        "text_level": 1,
        "bbox": [
            91,
            64,
            811,
            100
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "Setting Up the Secret Messages GUI App Project . . . . 148 ",
        "bbox": [
            91,
            105,
            811,
            123
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "Designing the GUI and Naming Components . . . . 148 ",
        "bbox": [
            91,
            123,
            809,
            139
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "Coding the Secret Messages GUI App . . . . 152 ",
        "bbox": [
            91,
            139,
            809,
            156
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "Creating the encode() Method 152 ",
        "bbox": [
            162,
            156,
            809,
            172
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "Writing the Event Handler for the Encode/Decode Button . . . 154 ",
        "bbox": [
            162,
            172,
            809,
            187
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "Handling Bad Input and User Errors . . . 156 ",
        "bbox": [
            162,
            187,
            809,
            205
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "Building the main() Method and Running the App . . . . 156 ",
        "bbox": [
            162,
            205,
            809,
            222
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "Improving the GUI . . . . 159 ",
        "bbox": [
            91,
            222,
            809,
            238
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "Setting Line Wrap and Word Wrap . . . 161 ",
        "bbox": [
            162,
            238,
            807,
            255
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "Handling Bad Input and User Errors: Part 2 . . 162 ",
        "bbox": [
            162,
            255,
            809,
            271
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "Adding a Slider to the Secret Messages GUI . . 164 ",
        "bbox": [
            162,
            271,
            809,
            288
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "Code Cracking with the Slider . . . . 166 ",
        "bbox": [
            91,
            288,
            809,
            304
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "Bonus: Sharing Your App as a Runnable JAR File . . . . 169 ",
        "bbox": [
            91,
            304,
            809,
            321
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "What You Learned . 172 ",
        "bbox": [
            91,
            321,
            809,
            336
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "Programming Challenges . . . . . 172 ",
        "bbox": [
            91,
            337,
            809,
            355
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "#1: Movin’ On Up! . . 172 ",
        "bbox": [
            162,
            355,
            809,
            370
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "#2: Scrolling Away! 173 ",
        "bbox": [
            162,
            370,
            809,
            387
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "#3: Changing the Text to Change the Slider . . . 174 ",
        "bbox": [
            162,
            387,
            809,
            405
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "8 Make Secret Messages a Phone App to Share wi th Friends! 175 ",
        "text_level": 1,
        "bbox": [
            91,
            427,
            809,
            481
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "Setting Up the Mobile GUI . 176 ",
        "bbox": [
            91,
            487,
            809,
            504
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "Designing the Mobile GUI . . 177 ",
        "bbox": [
            91,
            504,
            809,
            519
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "Wiring the GUI to the Java Code . . . . . 182 ",
        "bbox": [
            91,
            521,
            809,
            537
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "Connecting the Encode Button to the encode() Method . . . 182 ",
        "bbox": [
            162,
            537,
            809,
            552
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "Testing the App . . . . . . . . . . 185 ",
        "bbox": [
            162,
            552,
            809,
            570
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "Working with the SeekBar . . . 187 ",
        "bbox": [
            162,
            570,
            809,
            587
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "Running the App on the Emulator and on an Android Device . . . . . 188 ",
        "bbox": [
            91,
            587,
            809,
            603
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "Bonus: Customizing the Floating Action Button . . 190 ",
        "bbox": [
            91,
            603,
            809,
            620
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "Receiving Secret Messages from Other Apps . . . . . . 193 ",
        "bbox": [
            91,
            620,
            809,
            636
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "What You Learned . 195 ",
        "bbox": [
            91,
            636,
            809,
            651
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "Programming Challenges . . . . . . . 196 ",
        "bbox": [
            91,
            653,
            809,
            669
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "#1: Creating a Move Up Button . . 196 ",
        "bbox": [
            162,
            669,
            809,
            686
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "#2: Changing the SeekBar’s Progress . . 196 ",
        "bbox": [
            162,
            686,
            809,
            702
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "9 Paint Col orful Bubbl es wi th Your Mouse! 197 ",
        "text_level": 1,
        "bbox": [
            91,
            726,
            809,
            762
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "Creating the BubbleDraw Project Files . . . 198 ",
        "bbox": [
            91,
            767,
            809,
            785
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "Building the BubbleDraw Frame . . . . 199 ",
        "bbox": [
            91,
            785,
            809,
            801
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "Creating a Class for Bubbles . 200 ",
        "bbox": [
            91,
            801,
            809,
            816
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "Defining a Bubble . . . . . . 200 ",
        "bbox": [
            162,
            816,
            809,
            834
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "Designing a Bubble’s Methods . . 202 ",
        "bbox": [
            162,
            834,
            809,
            851
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "Storing Bubbles in an ArrayList . . . . 205 ",
        "bbox": [
            91,
            851,
            809,
            867
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "Adding a Constructor to the BubblePanel Class . . . . . 206 ",
        "bbox": [
            162,
            867,
            809,
            884
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "Adding a Method to Draw on the Screen . . . 207 ",
        "bbox": [
            162,
            884,
            809,
            900
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "Testing the BubblePanel Class . . . . . 208 ",
        "bbox": [
            162,
            900,
            809,
            917
        ],
        "page_idx": 15
    },
    {
        "type": "footer",
        "text": "xiv Contents in Detail ",
        "bbox": [
            91,
            951,
            236,
            965
        ],
        "page_idx": 15
    },
    {
        "type": "text",
        "text": "Handling Mouse Events from the User . . . . 210 ",
        "bbox": [
            97,
            63,
            815,
            79
        ],
        "page_idx": 16
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Creating a Reusable Event Listener . 211 ",
            "Handling Clicks and Drags . . . . 212 ",
            "Bonus: Handling MouseWheel Events . . 215 "
        ],
        "bbox": [
            170,
            81,
            813,
            130
        ],
        "page_idx": 16
    },
    {
        "type": "text",
        "text": "What You Learned 218 ",
        "bbox": [
            97,
            130,
            813,
            145
        ],
        "page_idx": 16
    },
    {
        "type": "text",
        "text": "Programming Challenges . . . . . . . . 218 ",
        "bbox": [
            97,
            147,
            813,
            163
        ],
        "page_idx": 16
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "#1: No Bubble Too Small . . 218 ",
            "#2: PixelDraw! . . 219 "
        ],
        "bbox": [
            170,
            163,
            813,
            195
        ],
        "page_idx": 16
    },
    {
        "type": "text",
        "text": "",
        "text_level": 1,
        "bbox": [
            99,
            220,
            128,
            235
        ],
        "page_idx": 16
    },
    {
        "type": "text",
        "text": "Adding Animation and Colli sion Detection wi th Ti mers 221 ",
        "text_level": 1,
        "bbox": [
            97,
            238,
            813,
            273
        ],
        "page_idx": 16
    },
    {
        "type": "text",
        "text": "Copying the BubbleDraw Java Project to Create BubbleDrawGUI . . . . 222 ",
        "bbox": [
            97,
            280,
            813,
            297
        ],
        "page_idx": 16
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Renaming the Main Class and Java File . . 222 ",
            "Adding Transparency 224 "
        ],
        "bbox": [
            170,
            297,
            813,
            330
        ],
        "page_idx": 16
    },
    {
        "type": "text",
        "text": "Adding Animation: Bubbles Rising! 225 ",
        "bbox": [
            99,
            331,
            813,
            346
        ],
        "page_idx": 16
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Adding a Timer . . . 226 ",
            "Setting the Timer . . . . 226 ",
            "Preparing the Animation 227 ",
            "Starting the Timer . . . 229 "
        ],
        "bbox": [
            170,
            346,
            813,
            412
        ],
        "page_idx": 16
    },
    {
        "type": "text",
        "text": "Forever Blowing Bubbles: Adding Random Speed and Direction . . 229 ",
        "bbox": [
            99,
            412,
            813,
            427
        ],
        "page_idx": 16
    },
    {
        "type": "text",
        "text": "Building a GUI for Our Animated Drawing App . . . . . . . 232 ",
        "bbox": [
            99,
            429,
            813,
            445
        ],
        "page_idx": 16
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Setting Up the GUI Panel and Buttons . 232 ",
            "Coding the Clear and Pause/Start Buttons . . . 234 "
        ],
        "bbox": [
            170,
            445,
            813,
            478
        ],
        "page_idx": 16
    },
    {
        "type": "text",
        "text": "Bouncing off the Walls with Collision Detection . 235 ",
        "bbox": [
            99,
            478,
            813,
            493
        ],
        "page_idx": 16
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "A Soft Bounce . . 236 ",
            "A Hard Bounce . . 238 "
        ],
        "bbox": [
            170,
            495,
            813,
            525
        ],
        "page_idx": 16
    },
    {
        "type": "text",
        "text": "Adding a Slider to Control the Animation Speed . . . 240 ",
        "bbox": [
            99,
            528,
            813,
            543
        ],
        "page_idx": 16
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Customizing the Slider . . 241 ",
            "Implementing the Slider Event Handler . . 242 "
        ],
        "bbox": [
            170,
            545,
            813,
            576
        ],
        "page_idx": 16
    },
    {
        "type": "text",
        "text": "What You Learned . 243 ",
        "bbox": [
            99,
            578,
            813,
            591
        ],
        "page_idx": 16
    },
    {
        "type": "text",
        "text": "Programming Challenges . . . . . . . 244 ",
        "bbox": [
            99,
            594,
            813,
            609
        ],
        "page_idx": 16
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "#1: No Bubble Left Behind . 244 ",
            "#2: Flexi-Draw! . . 244 ",
            "#3: PixelDraw 2.0 . 245 "
        ],
        "bbox": [
            170,
            611,
            813,
            657
        ],
        "page_idx": 16
    },
    {
        "type": "text",
        "text": "",
        "text_level": 1,
        "bbox": [
            99,
            684,
            126,
            699
        ],
        "page_idx": 16
    },
    {
        "type": "text",
        "text": "Making Bubbl eDraw a Multitouch Android App 249 ",
        "text_level": 1,
        "bbox": [
            97,
            702,
            813,
            717
        ],
        "page_idx": 16
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Setting Up the BubbleDraw Project . . . . 250 ",
            "Creating the BubbleView Constructor . 252 "
        ],
        "bbox": [
            97,
            726,
            813,
            758
        ],
        "page_idx": 16
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Adding the Animation Variables 252 ",
            "Creating the BubbleView() Constructor . . . 254 ",
            "Preparing the Layout to Use BubbleView . . 254 "
        ],
        "bbox": [
            170,
            759,
            813,
            807
        ],
        "page_idx": 16
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Modifying the Bubble Class . . . . . 255 ",
            "Drawing in Android with the onDraw() Method . 257 ",
            "Testing BubbleDraw with 100 Bubbles . . . . 258 ",
            "Adding testBubbles() 258 ",
            "Fixing the OnTouchListener Error . . . 259 ",
            "Running the BubbleDraw App . . . . . 260 "
        ],
        "bbox": [
            99,
            809,
            813,
            908
        ],
        "page_idx": 16
    },
    {
        "type": "footer",
        "text": "Contents in Detail ",
        "bbox": [
            765,
            953,
            863,
            963
        ],
        "page_idx": 16
    },
    {
        "type": "page_number",
        "text": "xv ",
        "bbox": [
            884,
            953,
            904,
            963
        ],
        "page_idx": 16
    },
    {
        "type": "text",
        "text": "Using Threaded Animation and Multitasking in Java . . . . 261 ",
        "bbox": [
            91,
            63,
            807,
            79
        ],
        "page_idx": 17
    },
    {
        "type": "text",
        "text": "Using Touch to Draw with Your Finger . . . . . 264 ",
        "bbox": [
            91,
            81,
            809,
            97
        ],
        "page_idx": 17
    },
    {
        "type": "text",
        "text": "Using Multitouch to Draw with 10 Fingers at a Time! . . . 266 ",
        "bbox": [
            162,
            97,
            809,
            112
        ],
        "page_idx": 17
    },
    {
        "type": "text",
        "text": "Testing Multitouch Events on an Android Device . . . . 266 ",
        "bbox": [
            162,
            114,
            807,
            130
        ],
        "page_idx": 17
    },
    {
        "type": "text",
        "text": "Changing the App Launcher Icon . . . . 268 ",
        "bbox": [
            91,
            130,
            809,
            145
        ],
        "page_idx": 17
    },
    {
        "type": "text",
        "text": "Creating a Custom App Icon . . . . 268 ",
        "bbox": [
            162,
            147,
            809,
            163
        ],
        "page_idx": 17
    },
    {
        "type": "text",
        "text": "Adding the Custom Icon to Your App . . . 268 ",
        "bbox": [
            162,
            163,
            809,
            180
        ],
        "page_idx": 17
    },
    {
        "type": "text",
        "text": "Displaying Your New Icon . . . 269 ",
        "bbox": [
            162,
            181,
            809,
            196
        ],
        "page_idx": 17
    },
    {
        "type": "text",
        "text": "Changing the App Name . . . 270 ",
        "bbox": [
            162,
            196,
            809,
            213
        ],
        "page_idx": 17
    },
    {
        "type": "text",
        "text": "What You Learned . 270 ",
        "bbox": [
            91,
            214,
            809,
            228
        ],
        "page_idx": 17
    },
    {
        "type": "text",
        "text": "Programming Challenges . . . 271 ",
        "bbox": [
            91,
            229,
            807,
            244
        ],
        "page_idx": 17
    },
    {
        "type": "text",
        "text": "#1: Combining One-Finger and Multitouch Events, v1.0 . . . . 271 ",
        "bbox": [
            162,
            246,
            807,
            262
        ],
        "page_idx": 17
    },
    {
        "type": "text",
        "text": "#2: Combining One-Finger and Multitouch Events, v2.0 . 271 ",
        "bbox": [
            162,
            264,
            807,
            279
        ],
        "page_idx": 17
    },
    {
        "type": "text",
        "text": "Appendix ",
        "text_level": 1,
        "bbox": [
            91,
            303,
            202,
            319
        ],
        "page_idx": 17
    },
    {
        "type": "text",
        "text": "Debugging and Avoiding Common Errors in Java 273 ",
        "text_level": 1,
        "bbox": [
            91,
            321,
            809,
            337
        ],
        "page_idx": 17
    },
    {
        "type": "text",
        "text": "Spelling and Case . . . 274 ",
        "bbox": [
            91,
            343,
            809,
            361
        ],
        "page_idx": 17
    },
    {
        "type": "text",
        "text": "Correcting Typos in Eclipse . . . . 274 ",
        "bbox": [
            162,
            361,
            809,
            378
        ],
        "page_idx": 17
    },
    {
        "type": "text",
        "text": "Correcting Typos in Android Studio . . 275 ",
        "bbox": [
            162,
            379,
            809,
            394
        ],
        "page_idx": 17
    },
    {
        "type": "text",
        "text": "Avoiding Other Common Spelling Errors . . . . 276 ",
        "bbox": [
            162,
            394,
            809,
            411
        ],
        "page_idx": 17
    },
    {
        "type": "text",
        "text": "Comparison Trouble . . 276 ",
        "bbox": [
            91,
            412,
            809,
            427
        ],
        "page_idx": 17
    },
    {
        "type": "text",
        "text": "Grouping Symbols . . . . 276 ",
        "bbox": [
            91,
            427,
            809,
            444
        ],
        "page_idx": 17
    },
    {
        "type": "text",
        "text": "Quick Fixes in Eclipse . . 277 ",
        "bbox": [
            162,
            445,
            809,
            460
        ],
        "page_idx": 17
    },
    {
        "type": "text",
        "text": "Code Completion in Android Studio . . . 277 ",
        "bbox": [
            162,
            460,
            809,
            477
        ],
        "page_idx": 17
    },
    {
        "type": "text",
        "text": "Summary . . . . . 278 ",
        "bbox": [
            91,
            478,
            809,
            493
        ],
        "page_idx": 17
    },
    {
        "type": "text",
        "text": "Index 279 ",
        "text_level": 1,
        "bbox": [
            91,
            516,
            809,
            534
        ],
        "page_idx": 17
    },
    {
        "type": "page_number",
        "text": "xvi ",
        "bbox": [
            93,
            951,
            117,
            963
        ],
        "page_idx": 17
    },
    {
        "type": "footer",
        "text": "Contents in Detail ",
        "bbox": [
            140,
            954,
            234,
            963
        ],
        "page_idx": 17
    },
    {
        "type": "text",
        "text": "Ac k n owl e d g m e n t s ",
        "text_level": 1,
        "bbox": [
            367,
            381,
            775,
            403
        ],
        "page_idx": 18
    },
    {
        "type": "text",
        "text": "This book would not have been possible without the exceptional support of the No Starch Press team. Thanks especially to Bill Pollock, Tyler Ortman, Riley Hoffman, Jan Cash, Serena Yang, Amanda Hariri, and Julia Borden for their tireless editing, review, and marketing, and for the innumerable ways they helped me improve this book from my original manuscript. ",
        "bbox": [
            240,
            549,
            900,
            639
        ],
        "page_idx": 18
    },
    {
        "type": "text",
        "text": "Thanks to Bryan Fagan for his awesome work as a technical reviewer. ",
        "bbox": [
            275,
            639,
            880,
            657
        ],
        "page_idx": 18
    },
    {
        "type": "text",
        "text": "Thanks to all of my current and former students who inspire me to continue to create interesting, engaging content—especially Shah and Susan Rahman, Justin and Diane Turner, Jacob Elliott, Brian Murray, Aaron Walker, Robert Brown, Trent Deal, Seth Park, Simon Singh, Andrew Miller, the Ctrl-Alt-Del robotics team, Jackson Grant, Quintin Kerns, Grace and Jack Halley, Matthew Harpur, and David Knight. Thanks also to the students from 150 countries enrolled in my online courses, especially Hayden Redd and Bob Watson. ",
        "bbox": [
            240,
            657,
            904,
            798
        ],
        "page_idx": 18
    },
    {
        "type": "text",
        "text": "Thanks to my inspiring colleagues and friends who continually motivate me to be my best: Markus Hitz, Chuck Robertson, Irene Kokkala, Tamirat Abegaz, Antonio Sanz Montemayor, Don Watkins, Eddie Mienie, Rose Procter, Ron Larson, Victor Parker, Keith Antonia, Billy Wells, Jim Goldy, James Daniel, and Craig Gentry. ",
        "bbox": [
            240,
            801,
            880,
            891
        ],
        "page_idx": 18
    },
    {
        "type": "text",
        "text": "Thanks to my father-in-law, Norman Petty, whose passion for technology is surpassed only by his love for family, and my stepdad, Dale Carver, ",
        "bbox": [
            240,
            891,
            880,
            927
        ],
        "page_idx": 18
    },
    {
        "type": "text",
        "text": "who always has time for my 3D-printed gadgets. Thanks most of all to my beautiful wife, Bev, and my amazing sons, Alex and Max, for their unending patience while I wrote two books in three years. ",
        "bbox": [
            236,
            64,
            878,
            117
        ],
        "page_idx": 19
    },
    {
        "type": "text",
        "text": "Special thanks to Kalen Cole. At eleven years old, Kalen embraced my first book, Teach Your Kids to Code, learning to code at his own pace. He even sent me his first creative design using lines of code he’d written himself. Way to go, Kalen! You are an inspiration to every kid who’s just beginning to discover who they are and what they want to become. ",
        "bbox": [
            236,
            118,
            894,
            208
        ],
        "page_idx": 19
    },
    {
        "type": "page_number",
        "text": "xviii ",
        "bbox": [
            93,
            951,
            126,
            963
        ],
        "page_idx": 19
    },
    {
        "type": "footer",
        "text": "Acknowledgments ",
        "bbox": [
            152,
            954,
            250,
            965
        ],
        "page_idx": 19
    },
    {
        "type": "text",
        "text": "I n t r od u c t io n ",
        "text_level": 1,
        "bbox": [
            422,
            381,
            722,
            405
        ],
        "page_idx": 20
    },
    {
        "type": "image",
        "img_path": "images/842340c5cab1a363309296ccb4148f2becc1d42e34a1572770d2b11601eb7f41.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            164,
            475,
            359,
            626
        ],
        "page_idx": 20
    },
    {
        "type": "text",
        "text": "Java is used on billions of devices worldwide. From mobile apps to desktop software, Java powers the largest enterprises ",
        "bbox": [
            361,
            552,
            865,
            632
        ],
        "page_idx": 20
    },
    {
        "type": "text",
        "text": "and the smallest personal devices. Students, IT professionals, and anyone considering a career in programming will find that they need to learn Java. As a computer science professor who has taught Java for almost 20 years, I wrote this book to help you learn Java the way I learned to code: with hands-on projects. I’ve found that students learn best by building real apps and games that are interesting, engaging, and worth sharing. In this book, you’ll make a simple Hi-Lo guessing game, a Secret Messages app to exchange messages with friends, and an interactive drawing app called BubbleDraw. No prior programming experience is required, but if you have learned other languages, you’ll also pick up Java faster using this hands-on approach. ",
        "bbox": [
            236,
            636,
            900,
            879
        ],
        "page_idx": 20
    },
    {
        "type": "text",
        "text": "Why Should I Learn to Code? ",
        "text_level": 1,
        "bbox": [
            128,
            63,
            488,
            85
        ],
        "page_idx": 21
    },
    {
        "type": "text",
        "text": "First, jobs. According to the US Bureau of Labor Statistics, seven of the top ten fastest-growing, highest-paying job fields are in computing. Programmers are in demand worldwide, and millions more will be needed over the next several years. No matter where you are, as long as you have an internet connection, you can make money as a programmer. ",
        "bbox": [
            236,
            94,
            894,
            184
        ],
        "page_idx": 21
    },
    {
        "type": "text",
        "text": "But high income and job security aren’t the only reasons to learn to code. Coding is problem solving, and the world needs more problem solvers. You can write apps that connect people and help them work. You can enable new forms of commerce and even create entirely new markets. You can break down barriers, help an individual or a community or a whole continent, and create opportunities that hadn’t existed before. Thanks to the reach of the internet and smartphones, you can write an app and share it with billions of people. ",
        "bbox": [
            236,
            184,
            894,
            328
        ],
        "page_idx": 21
    },
    {
        "type": "text",
        "text": "Drew Houston, founder of Dropbox, says coding is “the closest thing we have to a superpower,” and Gabe Newell, cofounder of video gaming’s Valve Corporation, says knowing how to code makes you “look like you have magic powers compared to everybody else.” Computers are all around us—in every device, every system, and every network in our daily lives—and code is what makes all those computers work. Learn to code, and you learn to thrive in a high-tech future. ",
        "bbox": [
            236,
            328,
            894,
            454
        ],
        "page_idx": 21
    },
    {
        "type": "text",
        "text": "Why Should I Learn Java? ",
        "text_level": 1,
        "bbox": [
            128,
            486,
            452,
            510
        ],
        "page_idx": 21
    },
    {
        "type": "text",
        "text": "Java is considered by many to be the #1 programming language, for several good reasons. First, it runs on virtually every type of device imaginable, from desktops and laptops to smart TVs. The same Java code will run on Windows, macOS, or Linux. ",
        "bbox": [
            236,
            518,
            890,
            588
        ],
        "page_idx": 21
    },
    {
        "type": "text",
        "text": "Second, Java is used by companies to run some of the biggest enterprise applications. Java is an object-oriented programming language, designed to allow software engineers to develop massive applications in fields ranging from manufacturing to sales and human resources to accounting. ",
        "bbox": [
            236,
            590,
            896,
            660
        ],
        "page_idx": 21
    },
    {
        "type": "text",
        "text": "Third, Java is one of the most popular languages in colleges and universities worldwide, so it brings you up to speed with fellow coders right away. ",
        "bbox": [
            236,
            662,
            898,
            698
        ],
        "page_idx": 21
    },
    {
        "type": "text",
        "text": "Whether you’re coding as a hobby, as a side business, or as your fulltime job, Java makes it free and easy to get started. Java is a great first language or a terrific next language if you’ve coded before. ",
        "bbox": [
            236,
            699,
            875,
            752
        ],
        "page_idx": 21
    },
    {
        "type": "text",
        "text": "What’s in This Book ",
        "text_level": 1,
        "bbox": [
            128,
            783,
            375,
            804
        ],
        "page_idx": 21
    },
    {
        "type": "text",
        "text": "Here’s a quick overview of what you’ll find in each chapter. ",
        "bbox": [
            236,
            815,
            746,
            833
        ],
        "page_idx": 21
    },
    {
        "type": "text",
        "text": "In Chapter 1, you’ll be guided through installing and setting up Java, Eclipse, and Android Studio. You’ll also write your first Java commands using the JShell interactive shell. ",
        "bbox": [
            236,
            834,
            875,
            887
        ],
        "page_idx": 21
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            954,
            111,
            963
        ],
        "page_idx": 21
    },
    {
        "type": "footer",
        "text": "Introduction ",
        "bbox": [
            136,
            954,
            198,
            963
        ],
        "page_idx": 21
    },
    {
        "type": "text",
        "text": "In Chapter 2, you’ll write your first application—the Hi-Lo guessing game, a text-based, command line program that has a player guess a random number between 1 and 100. In Chapter 3, you’ll upgrade the guessing game into a windowed, desktop application, complete with a graphical user interface (GUI) featuring labels, a text field, and a clickable button. ",
        "bbox": [
            242,
            63,
            898,
            151
        ],
        "page_idx": 22
    },
    {
        "type": "text",
        "text": "In Chapter 4, you’ll build your first Android mobile app, reusing much of the Hi-Lo guessing game code from the previous two chapters. Once you have the mobile app completed, in Chapter 5, you’ll add several finishing touches to the guessing game, including a settings menu and a high scores feature. ",
        "bbox": [
            242,
            154,
            900,
            241
        ],
        "page_idx": 22
    },
    {
        "type": "text",
        "text": "In Chapter 6, you’ll start a new program—the Secret Messages app, a text-based program that scrambles messages using a Caesar cipher. In Chapter 7, you’ll give the app a GUI upgrade by adding a slider bar tool that will allow you to crack Caesar ciphers quickly. Then, in Chapter 8, you’ll make a mobile Secret Messages app with sharing functionality, which will allow users to share secret messages back and forth by email, text message, or social media with the touch of a button. ",
        "bbox": [
            242,
            243,
            896,
            369
        ],
        "page_idx": 22
    },
    {
        "type": "text",
        "text": "In Chapter 9, you’ll begin creating the most visual application in the book—the BubbleDraw app, which allows the user to draw colorful bubbles on the screen. In Chapter 10, you’ll add animation to make the bubbles float and bounce around the screen as they’re drawn, and in Chapter 11 you’ll add multitouch functionality to draw bubbles in several places at once. By the end of this chapter, you’ll have a professional-looking app that you’ll want to share with all your friends! ",
        "bbox": [
            242,
            370,
            896,
            495
        ],
        "page_idx": 22
    },
    {
        "type": "text",
        "text": "Finally, in the appendix, you’ll find tips for debugging and avoiding common errors as you write Java programs in Eclipse and Android Studio. ",
        "bbox": [
            242,
            496,
            888,
            531
        ],
        "page_idx": 22
    },
    {
        "type": "text",
        "text": "What Tools Do I Need? ",
        "text_level": 1,
        "bbox": [
            134,
            563,
            418,
            584
        ],
        "page_idx": 22
    },
    {
        "type": "text",
        "text": "The programming tools you’ll learn to use in this book, Eclipse and Android Studio, are two of the most popular Java development tools used in industry, so once you finish this book, you’ll be ready to code real apps right away. Best of all, they’re free to download and use! ",
        "bbox": [
            242,
            594,
            855,
            666
        ],
        "page_idx": 22
    },
    {
        "type": "text",
        "text": "To get started, all you need is internet access and a regular desktop or laptop computer running Windows, macOS, or Linux. You don’t even need an Android phone or tablet to build mobile applications, because Android Studio comes with a free Android device emulator that you can use to test your apps. Of course, if you have an Android device, you’ll be able to run your mobile apps directly on your phone or tablet. ",
        "bbox": [
            242,
            666,
            894,
            776
        ],
        "page_idx": 22
    },
    {
        "type": "text",
        "text": "Online Resources ",
        "text_level": 1,
        "bbox": [
            134,
            807,
            345,
            828
        ],
        "page_idx": 22
    },
    {
        "type": "text",
        "text": "If you want extra help, you can download all the source code for the apps free on the book’s official website at https://www.nostarch.com/learnjava/. And, if you’d like step-by-step videos in a one-on-one tutorial style, the online ",
        "bbox": [
            242,
            837,
            892,
            891
        ],
        "page_idx": 22
    },
    {
        "type": "footer",
        "text": "Introduction ",
        "bbox": [
            791,
            954,
            855,
            963
        ],
        "page_idx": 22
    },
    {
        "type": "page_number",
        "text": "xxi ",
        "bbox": [
            878,
            951,
            904,
            963
        ],
        "page_idx": 22
    },
    {
        "type": "text",
        "text": "course at http://www.udemy.com/java-the-easy-way/ will guide you through every example and every line of code. Use the coupon code BOOKHALFOFF to save 50 percent on the course. You can ask questions or message me directly in the online course anytime. ",
        "bbox": [
            236,
            66,
            892,
            133
        ],
        "page_idx": 23
    },
    {
        "type": "text",
        "text": "Start Now! ",
        "text_level": 1,
        "bbox": [
            130,
            169,
            263,
            187
        ],
        "page_idx": 23
    },
    {
        "type": "text",
        "text": "You’ve got nothing to lose and everything to gain by learning to code in Java. Start today. Coding is the key to a new world of possibilities, and learning Java could be your first step into a new career and a new future. Whether young or old, my university students have one thing in common: they took that first step. They wrote their first line of code and their first program, then learned and grew from there. You can do the same thing. ",
        "bbox": [
            234,
            199,
            878,
            307
        ],
        "page_idx": 23
    },
    {
        "type": "text",
        "text": "As the Chinese proverb says, “The best time to plant a tree was 20 years ago. The second best time is now.” Whether you’re still in school or considering embarking on a second career, the time to learn to code is now. ",
        "bbox": [
            234,
            309,
            890,
            360
        ],
        "page_idx": 23
    },
    {
        "type": "page_number",
        "text": "xxii ",
        "bbox": [
            93,
            951,
            121,
            963
        ],
        "page_idx": 23
    },
    {
        "type": "footer",
        "text": "Introduction ",
        "bbox": [
            144,
            954,
            206,
            963
        ],
        "page_idx": 23
    },
    {
        "type": "text",
        "text": "",
        "text_level": 1,
        "bbox": [
            537,
            189,
            599,
            331
        ],
        "page_idx": 24
    },
    {
        "type": "text",
        "text": "G e t t i n g S ta r t e d ",
        "text_level": 1,
        "bbox": [
            394,
            379,
            751,
            405
        ],
        "page_idx": 24
    },
    {
        "type": "image",
        "img_path": "images/50db01b4dbcad30e5bbe8331800e4ca81b8e76db572eef0a557c8fca1e23f970.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            162,
            475,
            359,
            626
        ],
        "page_idx": 24
    },
    {
        "type": "text",
        "text": "In this chapter, you’ll get started by installing Java, Eclipse, and Android Studio onto your computer, and then you’ll get familiar ",
        "bbox": [
            355,
            552,
            900,
            632
        ],
        "page_idx": 24
    },
    {
        "type": "text",
        "text": "with some basic Java programming by testing out some commands in the interactive command line shell, JShell. ",
        "bbox": [
            236,
            635,
            890,
            714
        ],
        "page_idx": 24
    },
    {
        "type": "text",
        "text": "Java is a powerful, multiplatform programming language that’s free to download and install on Windows, macOS, and Linux. Eclipse, an industrystandard integrated development environment (IDE), is a toolkit for building Java apps quickly and easily. And Android Studio is the development environment for Android mobile apps in Java. It gives you the power to program your own mobile games and apps for phones, tablets, and more. ",
        "bbox": [
            234,
            716,
            906,
            825
        ],
        "page_idx": 24
    },
    {
        "type": "text",
        "text": "Java on Windows, macOS , and Linux ",
        "text_level": 1,
        "bbox": [
            130,
            849,
            601,
            872
        ],
        "page_idx": 24
    },
    {
        "type": "text",
        "text": "One of the great things about Java is that the Java programs you write can run on any other computer that has the Java Virtual Machine (JVM) software (sometimes called the Java Runtime Environment, or JRE) installed. JVM ",
        "bbox": [
            236,
            881,
            906,
            936
        ],
        "page_idx": 24
    },
    {
        "type": "text",
        "text": "technology allows you to write a program once and run the same code on any operating system (Windows, macOS, Linux, Android, and more). ",
        "bbox": [
            230,
            64,
            898,
            100
        ],
        "page_idx": 25
    },
    {
        "type": "text",
        "text": "This sounds like an obvious idea, but most other programming languages require you either to write different code for Windows, macOS, Linux, and smartphones or to compile a separate version for each operating system. The JVM is a runtime environment that makes this unnecessary. ",
        "bbox": [
            230,
            100,
            898,
            172
        ],
        "page_idx": 25
    },
    {
        "type": "text",
        "text": "Figure 1-1 shows the same graphical Java app running on Windows, macOS, and Ubuntu Linux. ",
        "bbox": [
            230,
            172,
            861,
            207
        ],
        "page_idx": 25
    },
    {
        "type": "image",
        "img_path": "images/2cea28c3293bceed739bc2e990885cb7a53e2fdcd0c84600f34ee6e3b5bc4c3c.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            91,
            219,
            355,
            376
        ],
        "page_idx": 25
    },
    {
        "type": "image",
        "img_path": "images/485997c4957ec2a746dc5b0130cefc0ffe4da423c5b0ebf012ed9944bb4090fd.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            359,
            219,
            630,
            376
        ],
        "page_idx": 25
    },
    {
        "type": "image",
        "img_path": "images/037ac46c727f946ca728984562151948dd378eec2fc91caa6f22606d045681f0.jpg",
        "image_caption": [
            "Figure 1-1: The same Java code running on three different operating systems—Windows, macOS, and Linux! "
        ],
        "image_footnote": [],
        "bbox": [
            634,
            219,
            900,
            375
        ],
        "page_idx": 25
    },
    {
        "type": "text",
        "text": "This simple but powerful concept is one of the reasons Java has been adopted by individuals and businesses worldwide. ",
        "bbox": [
            230,
            421,
            871,
            457
        ],
        "page_idx": 25
    },
    {
        "type": "text",
        "text": "Installing Java 8 and 9 for Developers ",
        "text_level": 1,
        "bbox": [
            125,
            484,
            605,
            509
        ],
        "page_idx": 25
    },
    {
        "type": "text",
        "text": "The Java Development Kit (JDK) is the version of Java for developers or programmers—like you! The JDK gives you the power to write and compile your own Java apps that you can share with your friends, deploy in a business, or run anywhere on almost any device. ",
        "bbox": [
            230,
            516,
            894,
            587
        ],
        "page_idx": 25
    },
    {
        "type": "text",
        "text": "We’re going to install both versions 8 and 9 of the JDK. That way, we can gain the benefits of version 8’s widespread use while also accessing version 9’s newest features. ",
        "bbox": [
            230,
            588,
            867,
            641
        ],
        "page_idx": 25
    },
    {
        "type": "text",
        "text": "To install JDK 8: ",
        "bbox": [
            269,
            642,
            420,
            660
        ],
        "page_idx": 25
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "1. Go to http://jdk.java.net/8/. ",
            "2. Click the Accept License Agreement radio button. ",
            "3. Find the link for your operating system in the list of downloads under JDK, and click it. If your operating system is Windows or Linux, choose the 64-bit version. ",
            "4. Open the JDK file from your computer’s Downloads directory and install the JDK. "
        ],
        "bbox": [
            232,
            674,
            896,
            813
        ],
        "page_idx": 25
    },
    {
        "type": "text",
        "text": "To install JDK 9, go to http://jdk.java.net/9/ and then repeat steps 2–4 from your JDK 8 installation. ",
        "bbox": [
            230,
            825,
            875,
            863
        ],
        "page_idx": 25
    },
    {
        "type": "text",
        "text": "No t e ",
        "text_level": 1,
        "bbox": [
            146,
            882,
            208,
            897
        ],
        "page_idx": 25
    },
    {
        "type": "text",
        "text": "For more detailed, step-by-step instructions in video form, you can preview the online course associated with this book for free at http://www.udemy.com/ java-the-easy-way/. ",
        "bbox": [
            230,
            881,
            841,
            936
        ],
        "page_idx": 25
    },
    {
        "type": "page_number",
        "text": "2 ",
        "bbox": [
            91,
            951,
            105,
            963
        ],
        "page_idx": 25
    },
    {
        "type": "footer",
        "text": "Chapter 1 ",
        "bbox": [
            126,
            951,
            182,
            965
        ],
        "page_idx": 25
    },
    {
        "type": "text",
        "text": "That’s all it takes to get your computer ready to compile and run Java programs from the text-based command line or terminal, but we also want to take advantage of Java’s ability to create graphical user interface (GUI) applications like those in Figure 1-1. To tap into Java’s GUI awesomeness, next we’ll install an integrated development environment called Eclipse. ",
        "bbox": [
            240,
            64,
            906,
            156
        ],
        "page_idx": 26
    },
    {
        "type": "text",
        "text": "Installing the Eclipse IDE for Java Developers ",
        "text_level": 1,
        "bbox": [
            134,
            184,
            686,
            208
        ],
        "page_idx": 26
    },
    {
        "type": "text",
        "text": "Eclipse is one of the most popular IDEs for programming in Java. It’s also open source, which means it’s free for both personal and business use, and there’s a thriving open source community continually improving and supporting Eclipse. There are a number of alternative IDEs for Java, but Eclipse is famous for its ease of use in developing Java apps. It’s also pretty easy to install. ",
        "bbox": [
            240,
            217,
            886,
            322
        ],
        "page_idx": 26
    },
    {
        "type": "text",
        "text": "To install Eclipse on your computer, go to http://www.eclipse.org/ downloads/, download the installer for your operating system (as shown in Figure 1-2), and then run it. The current version as of this writing is Eclipse Oxygen. ",
        "bbox": [
            240,
            325,
            875,
            397
        ],
        "page_idx": 26
    },
    {
        "type": "image",
        "img_path": "images/582d318235bfa4b76432beb592f382fcdef0e8e784fdf8130929e0907c95448d.jpg",
        "image_caption": [
            "Figure 1-2: Download the Eclipse IDE installer for your operating system. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            408,
            855,
            726
        ],
        "page_idx": 26
    },
    {
        "type": "text",
        "text": "You’ll see a menu like the one in Figure 1-3. Choose Eclipse IDE for Java Developers and click Install. Be careful to choose the Eclipse IDE for Java Developers option and not one of the other options (the Java EE, or Enterprise Edition, doesn’t have some of the features we’ll use in this book). ",
        "bbox": [
            240,
            771,
            880,
            860
        ],
        "page_idx": 26
    },
    {
        "type": "text",
        "text": "Installation may take several minutes to complete. ",
        "bbox": [
            275,
            861,
            712,
            879
        ],
        "page_idx": 26
    },
    {
        "type": "footer",
        "text": "Getting Started ",
        "bbox": [
            785,
            954,
            871,
            966
        ],
        "page_idx": 26
    },
    {
        "type": "page_number",
        "text": "3 ",
        "bbox": [
            892,
            951,
            904,
            963
        ],
        "page_idx": 26
    },
    {
        "type": "image",
        "img_path": "images/f5d871bf640bb80ffaa6b34200615b0308df00d1e72017c8cda6f47f6a6d3844.jpg",
        "image_caption": [
            "Figure 1-3: Choose Eclipse IDE for Java Developers from the Eclipse installer menu. "
        ],
        "image_footnote": [],
        "bbox": [
            232,
            64,
            690,
            418
        ],
        "page_idx": 27
    },
    {
        "type": "text",
        "text": "Setting Up Eclipse ",
        "text_level": 1,
        "bbox": [
            125,
            501,
            349,
            527
        ],
        "page_idx": 27
    },
    {
        "type": "text",
        "text": "Let’s get our Eclipse installation configured to look and feel like the professional development environment it is, complete with the WindowBuilder Editor, a coder-friendly color scheme, and easy-to-read fonts. ",
        "bbox": [
            230,
            533,
            896,
            587
        ],
        "page_idx": 27
    },
    {
        "type": "text",
        "text": "Start Eclipse by clicking the Eclipse icon. When Eclipse starts, it will usually ask you where you want to store your workspace, which holds all of your Java projects, as shown in Figure 1-4. You can use the default location (on Windows it’s C:\\Users\\<YourUserName>\\eclipse-workspace\\ , on macOS it’s /Users/<YourUserName>/Documents/eclipse-workspace/, and on Linux it’s /home/<YourUserName>/eclipse-workspace/), or you can choose a custom location for your Java workspace folder. ",
        "bbox": [
            230,
            587,
            886,
            714
        ],
        "page_idx": 27
    },
    {
        "type": "image",
        "img_path": "images/3cb7531d5c8c5472be640be9c42a56f954ed3721351cc2698a9683f3f0df7cb9.jpg",
        "image_caption": [
            "Figure 1-4: Eclipse begins by asking where you would like to store your Java projects. "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            725,
            678,
            879
        ],
        "page_idx": 27
    },
    {
        "type": "page_number",
        "text": "4 ",
        "bbox": [
            91,
            950,
            105,
            963
        ],
        "page_idx": 27
    },
    {
        "type": "footer",
        "text": "Chapter 1 ",
        "bbox": [
            126,
            951,
            182,
            966
        ],
        "page_idx": 27
    },
    {
        "type": "text",
        "text": "If you don’t have another preference, use the default eclipse-workspace location. No matter what, remember the location of this folder because this is where all your Java projects will be stored. If you check the box labeled “Use this as the default and do not ask again,” the Eclipse Launcher window won’t pop up every time you start Eclipse. If you plan to use multiple workspaces, you might want to leave the checkbox unchecked so that you can switch between workspaces easily when opening Eclipse. ",
        "bbox": [
            236,
            63,
            906,
            192
        ],
        "page_idx": 28
    },
    {
        "type": "text",
        "text": "Modi f ying Eclip se to Run wi th Java 9 ",
        "text_level": 1,
        "bbox": [
            365,
            243,
            779,
            259
        ],
        "page_idx": 28
    },
    {
        "type": "text",
        "text": "If Eclipse fails to launch, there’s one more change you’ll need to make. As of this writing, Java 9 is still brand-new, and while Eclipse versions Oxygen and later support Java $^ { 9 , }$ some releases require an addition to the eclipse.ini configuration file to run with Java 9 installed. To make this change, follow these steps: ",
        "bbox": [
            275,
            268,
            869,
            342
        ],
        "page_idx": 28
    },
    {
        "type": "text",
        "text": "1. Find your Eclipse installation folder: ",
        "bbox": [
            279,
            351,
            579,
            369
        ],
        "page_idx": 28
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "On Windows, you can right-click the Eclipse shortcut and choose Open file location. The eclipse.ini file will be in the same folder as the eclipse.exe program file. ",
            "On macOS, find the Eclipse app in your Applications folder in Finder, control-click the Eclipse app icon, and choose Show Package Contents. Open the Contents folder, then the Eclipse folder, and you will see eclipse.ini in the list of files. ",
            "On Linux, go to your home folder and open eclipse/java-oxygen/ eclipse to find eclipse.ini. "
        ],
        "bbox": [
            313,
            373,
            855,
            545
        ],
        "page_idx": 28
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "2. Right-click or control-click the eclipse.ini file. Choose Open With... and then select Notepad, TextEdit, or another text editor of your choice. ",
            "3. Add the following line to the bottom of the eclipse.ini file: "
        ],
        "bbox": [
            275,
            549,
            843,
            608
        ],
        "page_idx": 28
    },
    {
        "type": "text",
        "text": "--add-modules=ALL-SYSTEM",
        "bbox": [
            313,
            624,
            509,
            639
        ],
        "page_idx": 28
    },
    {
        "type": "text",
        "text": "4. Save eclipse.ini and then reopen Eclipse. Eclipse should launch correctly from now on. ",
        "bbox": [
            275,
            663,
            853,
            699
        ],
        "page_idx": 28
    },
    {
        "type": "text",
        "text": "The first time you run Eclipse, you’ll see a welcome screen. Depending on your version of Eclipse, this screen may include some useful sample projects and tutorials, or it might be simpler. Feel free to click around and explore a bit if you’d like, and when you’re ready to move ahead, close the Welcome tab by clicking the small $X$ at the top. ",
        "bbox": [
            236,
            758,
            896,
            849
        ],
        "page_idx": 28
    },
    {
        "type": "footer",
        "text": "Getting Started ",
        "bbox": [
            785,
            951,
            871,
            966
        ],
        "page_idx": 28
    },
    {
        "type": "page_number",
        "text": "5 ",
        "bbox": [
            892,
            950,
            906,
            963
        ],
        "page_idx": 28
    },
    {
        "type": "text",
        "text": "Installing the WindowBuilder Editor ",
        "text_level": 1,
        "bbox": [
            232,
            64,
            547,
            85
        ],
        "page_idx": 29
    },
    {
        "type": "text",
        "text": "The most important upgrade we’ll make to Eclipse is to install the WindowBuilder Editor, which allows us to build windowed applications by dragging and dropping GUI elements like buttons, labels, and text fields onto a graphical preview of the app. ",
        "bbox": [
            230,
            91,
            857,
            165
        ],
        "page_idx": 29
    },
    {
        "type": "text",
        "text": "Some versions of Eclipse have the WindowBuilder Editor already installed, but we’ll go over the steps to install or update it to make sure you’re ready to build GUI applications starting in Chapter 3. ",
        "bbox": [
            230,
            163,
            853,
            217
        ],
        "page_idx": 29
    },
    {
        "type": "text",
        "text": "First, go to http://www.eclipse.org/windowbuilder/ and click Download. On the download page, find the WindowBuilder version that matches your version of Eclipse (for Eclipse Oxygen, that’s version 4.7), right-click or control-click the corresponding link, and copy the link address, as shown in Figure 1-5. ",
        "bbox": [
            230,
            217,
            888,
            307
        ],
        "page_idx": 29
    },
    {
        "type": "image",
        "img_path": "images/fe1c07a154a4c26351a5c63032896a1d08e0f45d2f49e6ee2ac21378d79476bf.jpg",
        "image_caption": [
            "Figure 1-5: Find the latest WindowBuilder Editor download link and copy the link address. "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            319,
            890,
            644
        ],
        "page_idx": 29
    },
    {
        "type": "text",
        "text": "Next, come back to Eclipse and select Help4Install New Software. In the Work with: text box, paste the URL of the WindowBuilder Editor (for Eclipse Oxygen, that’s http://download.eclipse.org/windowbuilder/WB/ integration/4.7/), click the Add... button, and enter WB in the Name field in the pop-up, as shown in Figure 1-6. ",
        "bbox": [
            232,
            689,
            878,
            780
        ],
        "page_idx": 29
    },
    {
        "type": "text",
        "text": "Click OK, and when the WindowBuilder checkbox appears in the install window, click Select All to install all of the needed WindowBuilder components. Click Next until you are prompted to accept the license agreement, and finally click Finish. ",
        "bbox": [
            230,
            780,
            878,
            852
        ],
        "page_idx": 29
    },
    {
        "type": "page_number",
        "text": "6 ",
        "bbox": [
            91,
            951,
            105,
            963
        ],
        "page_idx": 29
    },
    {
        "type": "footer",
        "text": "Chapter 1 ",
        "bbox": [
            126,
            951,
            182,
            965
        ],
        "page_idx": 29
    },
    {
        "type": "image",
        "img_path": "images/5d6782349d394938789706e4d40a4c2859a5657ce5d13366c75e5329595bbeb8.jpg",
        "image_caption": [
            "Figure 1-6: Use Eclipse’s Install New Software window to add the WindowBuilder Editor. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            64,
            797,
            358
        ],
        "page_idx": 30
    },
    {
        "type": "text",
        "text": "The software may take a few minutes to install—you’ll see a progress indicator in the bottom-right corner of Eclipse. When installation completes, you’ll be asked to restart Eclipse. Click Restart Now, and the WindowBuilder installation will be complete. ",
        "bbox": [
            236,
            418,
            867,
            490
        ],
        "page_idx": 30
    },
    {
        "type": "text",
        "text": "Next, let’s add a few optional tweaks to make code in Eclipse easier to read by changing the background, text colors, and font. ",
        "bbox": [
            236,
            490,
            884,
            528
        ],
        "page_idx": 30
    },
    {
        "type": "text",
        "text": "Customizing Eclipse’s Look and Feel ",
        "text_level": 1,
        "bbox": [
            238,
            546,
            547,
            570
        ],
        "page_idx": 30
    },
    {
        "type": "text",
        "text": "Now that you’ve installed the required elements, you may also want to customize Eclipse’s appearance. On Windows and Linux, you can access the Preferences menu by going to Window4Preferences. On macOS, go to the menu bar and select Eclipse4Preferences. ",
        "bbox": [
            236,
            573,
            902,
            647
        ],
        "page_idx": 30
    },
    {
        "type": "text",
        "text": "For example, you may want to change the theme (color palette) and the font size used in the text editor. Depending on your monitor’s size and the environment in which you’re programming, your theme and your font size can make a big difference in readability, comfort, and even productivity. ",
        "bbox": [
            236,
            647,
            894,
            717
        ],
        "page_idx": 30
    },
    {
        "type": "text",
        "text": "In the Preferences menu, under General4Appearance, you’ll see the Theme option. You can choose from favorites such as Classic (light, grayish background with dark fonts) or Dark (black background with brighter, more colorful fonts). I prefer the Dark theme because the font colors are brighter against the dark background and the display can be easier to read on a monitor or projection screen. ",
        "bbox": [
            236,
            717,
            894,
            825
        ],
        "page_idx": 30
    },
    {
        "type": "text",
        "text": "Under General4Appearance4Colors and Fonts, you can change the font size. In the Colors and Fonts pane on the right, choose Basic4Text Font and click the Edit button. The Font menu will pop up. Choose a font ",
        "bbox": [
            236,
            825,
            894,
            881
        ],
        "page_idx": 30
    },
    {
        "type": "footer",
        "text": "Getting Started ",
        "bbox": [
            785,
            953,
            871,
            966
        ],
        "page_idx": 30
    },
    {
        "type": "page_number",
        "text": "7 ",
        "bbox": [
            892,
            948,
            906,
            963
        ],
        "page_idx": 30
    },
    {
        "type": "text",
        "text": "you can read easily. I prefer Courier New or Consolas. I recommend a font size of 18 to 20 and a font style of Bold. The Font window will display a sample of the selected font, style, and size, as shown in Figure 1-7. ",
        "bbox": [
            230,
            64,
            886,
            118
        ],
        "page_idx": 31
    },
    {
        "type": "image",
        "img_path": "images/0d891a58a13d1fb0602cd7aa69e8600a3bc0dda321270b1ea7fbbe96687958e1.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            89,
            129,
            559,
            460
        ],
        "page_idx": 31
    },
    {
        "type": "image",
        "img_path": "images/be72ff64e55e367ba2e518e77f2ab49e9dad955bcfc45f4893602337f19ca7b3.jpg",
        "image_caption": [
            "Figure 1-7: The Colors and Fonts preferences menu (left) and the Font preferences menu (right) "
        ],
        "image_footnote": [],
        "bbox": [
            587,
            202,
            900,
            460
        ],
        "page_idx": 31
    },
    {
        "type": "text",
        "text": "Click OK when you’re finished with your selections, and you’ll return to the main Eclipse workspace. You’ll see your preference settings in effect when you begin coding in the Java text editor in Chapter 2. ",
        "bbox": [
            230,
            506,
            888,
            561
        ],
        "page_idx": 31
    },
    {
        "type": "text",
        "text": "Installing Android Studio for Mobile App Development ",
        "text_level": 1,
        "bbox": [
            125,
            591,
            805,
            618
        ],
        "page_idx": 31
    },
    {
        "type": "text",
        "text": "Android Studio is the official Android mobile app development environment. It gives us the ability to design and code mobile apps using Android’s native Java programming language. Like Java and Eclipse, Android Studio is free to download, install, and use. Because of its large size, Android Studio may take from several minutes to several hours to download and install, depending on your internet connection. ",
        "bbox": [
            230,
            623,
            896,
            731
        ],
        "page_idx": 31
    },
    {
        "type": "text",
        "text": "To download Android Studio, go to http://developer.android.com/studio/ and click Download Android Studio, as shown in Figure 1-8. Read and agree to the terms and conditions and then click Download Android Studio for <operating system>. ",
        "bbox": [
            230,
            732,
            884,
            804
        ],
        "page_idx": 31
    },
    {
        "type": "text",
        "text": "Follow the instructions to complete the installation. The installation process may download additional software development kit (SDK) components, and it could take several more minutes to install once all the components are downloaded. ",
        "bbox": [
            230,
            804,
            896,
            873
        ],
        "page_idx": 31
    },
    {
        "type": "page_number",
        "text": "8 ",
        "bbox": [
            91,
            951,
            105,
            963
        ],
        "page_idx": 31
    },
    {
        "type": "footer",
        "text": "Chapter 1 ",
        "bbox": [
            126,
            951,
            182,
            965
        ],
        "page_idx": 31
    },
    {
        "type": "image",
        "img_path": "images/fd3dc3bf1266e934071bfec54491cf1bf08d40768a834499f7c117d5a53ec780.jpg",
        "image_caption": [
            "Figure 1-9: JShell in Java 9 allows us to quickly test code in an interactive command line shell. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            64,
            894,
            388
        ],
        "page_idx": 32
    },
    {
        "type": "text",
        "text": "Figure 1-8: Android Studio is the official Android mobile app development environment. ",
        "bbox": [
            238,
            397,
            888,
            415
        ],
        "page_idx": 32
    },
    {
        "type": "text",
        "text": "Getting to Know Java with JShell ",
        "text_level": 1,
        "bbox": [
            130,
            448,
            551,
            472
        ],
        "page_idx": 32
    },
    {
        "type": "text",
        "text": "Now that we’ve set up our programming environment, let’s test our setup by using JShell, an interactive interpreter for Java. JShell is a great way to start learning how Java works, as it gives you feedback on your code right away. Before Java 9, Java coders had to type a complete program, compile it, and run it to see the result. Now, with JShell, we can type a single line of Java code, such as System.out.println(\"Hello, Java!\"), press enter, and see the output immediately on the screen, as shown in Figure 1-9. ",
        "bbox": [
            236,
            478,
            890,
            606
        ],
        "page_idx": 32
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "Welcome to JShell -- Version 9-ea For an introduction type:/help intro jshell> System.out.println(\"Hello,Java!\") Hello,Java! jshell> ",
        "guess_lang": "txt",
        "bbox": [
            240,
            617,
            843,
            710
        ],
        "page_idx": 32
    },
    {
        "type": "text",
        "text": "Any valid Java statement will work in JShell, which makes it a great tool for learning the basics of Java coding, so let’s jump right in! ",
        "bbox": [
            236,
            771,
            896,
            809
        ],
        "page_idx": 32
    },
    {
        "type": "text",
        "text": "Running JShell ",
        "text_level": 1,
        "bbox": [
            238,
            825,
            371,
            848
        ],
        "page_idx": 32
    },
    {
        "type": "text",
        "text": "You should be able to run JShell either from the command line or by setting up a shortcut. Just in case one of those options doesn’t work for you, though, we’ll go over both. ",
        "bbox": [
            236,
            852,
            878,
            909
        ],
        "page_idx": 32
    },
    {
        "type": "footer",
        "text": "Getting Started ",
        "bbox": [
            785,
            951,
            871,
            966
        ],
        "page_idx": 32
    },
    {
        "type": "page_number",
        "text": "9 ",
        "bbox": [
            892,
            948,
            906,
            963
        ],
        "page_idx": 32
    },
    {
        "type": "text",
        "text": "First, you must have JDK 9 installed. You can confirm that JDK 9 is installed by running a command from the command line. ",
        "bbox": [
            232,
            64,
            851,
            100
        ],
        "page_idx": 33
    },
    {
        "type": "text",
        "text": "Here’s how to launch the command line interface on Windows, macOS, and Linux: ",
        "bbox": [
            232,
            100,
            896,
            133
        ],
        "page_idx": 33
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "On Windows, open the command prompt by going to the Start menu and typing cmd in the Search box. Press enter or click the Command Prompt icon. ",
            "On macOS, open the Launchpad and enter terminal in the search box. Click the Terminal app icon. ",
            "On Linux, search for terminal and click the Terminal app icon. "
        ],
        "bbox": [
            232,
            150,
            886,
            268
        ],
        "page_idx": 33
    },
    {
        "type": "text",
        "text": "A command prompt window will appear. Enter java -version at the prompt, and Java will tell you which JDK version is installed. You’ll see something like the following output on Windows: ",
        "bbox": [
            232,
            280,
            849,
            334
        ],
        "page_idx": 33
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "C:\\Users\\Payne>java-version   \njava version \"9-ea\"   \nJava(TM)SE Runtime Environment (build 9-ea+153)   \nJava HotSpot(TM)64-Bit Server VM (build 9-ea+153,mixed mode) ",
        "guess_lang": "txt",
        "bbox": [
            232,
            349,
            759,
            415
        ],
        "page_idx": 33
    },
    {
        "type": "text",
        "text": "Or you’ll see this output on macOS and Linux: ",
        "bbox": [
            269,
            433,
            680,
            451
        ],
        "page_idx": 33
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "Payne:\\~payne\\$java-version   \njava version \"1.9.0_33\"   \nJava(TM)SE Runtime Environment (build 1.9.0_33)... ",
        "guess_lang": "txt",
        "bbox": [
            232,
            468,
            666,
            516
        ],
        "page_idx": 33
    },
    {
        "type": "text",
        "text": "If Java responds with something containing version 9 or version 1.9, as shown here, you’re ready to run JShell. If you’d like to run it from the command line, continue to the next section, “Running JShell from the Command Line.” If you get an earlier version of Java, like 1.8, go back to “Installing Java 8 and 9 for Developers” on page 2 and install JDK 9. If version 9 doesn’t appear on the command line after installing or if you’d prefer to set up a desktop shortcut, skip to “Running JShell from a Shortcut” on page 11. ",
        "bbox": [
            230,
            534,
            865,
            678
        ],
        "page_idx": 33
    },
    {
        "type": "text",
        "text": "Running JShell from the Command Line ",
        "text_level": 1,
        "bbox": [
            232,
            699,
            519,
            719
        ],
        "page_idx": 33
    },
    {
        "type": "text",
        "text": "To run JShell from the command prompt, type jshell and press enter. Java will respond with a JShell welcome message and prompt, which look like the following in Windows. ",
        "bbox": [
            230,
            726,
            898,
            779
        ],
        "page_idx": 33
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "C:\\Users\\Payne> jshell  \n| Welcome to JShell -- Version 9-ea  \n| For an introduction type: /help intro  \njshell> ",
        "guess_lang": "batch",
        "bbox": [
            232,
            795,
            577,
            876
        ],
        "page_idx": 33
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            111,
            963
        ],
        "page_idx": 33
    },
    {
        "type": "footer",
        "text": "Chapter 1 ",
        "bbox": [
            134,
            953,
            190,
            965
        ],
        "page_idx": 33
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "Payne:\\~payne\\$ jshell   \n|Welcome to JShell-- Version 9-ea   \n|For an introduction type:/help intro ",
        "guess_lang": "txt",
        "bbox": [
            238,
            97,
            581,
            148
        ],
        "page_idx": 34
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "jshell> ",
        "guess_lang": "txt",
        "bbox": [
            240,
            160,
            303,
            178
        ],
        "page_idx": 34
    },
    {
        "type": "text",
        "text": "If you get the jshell> prompt, you’re ready to move ahead to “Working with Java Expressions in JShell” on page 12. If the jshell command doesn’t work on your computer after installing JDK 9, try following the steps in the next section. ",
        "bbox": [
            236,
            196,
            880,
            267
        ],
        "page_idx": 34
    },
    {
        "type": "text",
        "text": "Running JShell from a Shortcut ",
        "text_level": 1,
        "bbox": [
            238,
            289,
            466,
            307
        ],
        "page_idx": 34
    },
    {
        "type": "text",
        "text": "If you have any trouble getting JShell to run from the command line, or if you’d prefer to run it from a desktop shortcut, follow these instructions to access JShell directly from the JDK 9 bin folder and set up a shortcut. (The folder name bin is short for binaries, which are programs written in computer language with just 1s and 0s.) ",
        "bbox": [
            236,
            313,
            890,
            405
        ],
        "page_idx": 34
    },
    {
        "type": "text",
        "text": "No t e ",
        "text_level": 1,
        "bbox": [
            154,
            424,
            212,
            439
        ],
        "page_idx": 34
    },
    {
        "type": "text",
        "text": "Unfortunately, this method doesn’t reliably work for Linux, but you should be able to use the command line method. ",
        "bbox": [
            238,
            423,
            896,
            457
        ],
        "page_idx": 34
    },
    {
        "type": "text",
        "text": "You can find JShell in the following directories: ",
        "bbox": [
            271,
            477,
            692,
            496
        ],
        "page_idx": 34
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "On Windows, use C:\\Program Files\\Java\\jdk-9\\bin\\jshell.exe ",
            "On macOS, use /Library/Java/JavaVirtualMachines/jdk-9.jdk/Contents/ Home/bin/jshell "
        ],
        "bbox": [
            238,
            509,
            875,
            567
        ],
        "page_idx": 34
    },
    {
        "type": "text",
        "text": "Your JDK folder may be labeled jdk-1.9.x instead of jdk-9, but it will work the same either way. Navigate to the JDK 9 bin folder on your computer and find the JShell file, as shown in Figure 1-10. ",
        "bbox": [
            236,
            579,
            898,
            633
        ],
        "page_idx": 34
    },
    {
        "type": "text",
        "text": "You can double-click the JShell file’s icon to run JShell. You can also create a shortcut to run JShell directly from your desktop for convenience: ",
        "bbox": [
            236,
            635,
            888,
            671
        ],
        "page_idx": 34
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "On Windows, right-click jshell.exe and select Create Shortcut. Windows will respond with “Windows can’t create a shortcut here. Do you want the shortcut to be placed on the desktop instead?” Click Yes. ",
            "On macOS, control-click the jshell file and select Make Alias. A file called jshell alias will appear. Drag it to your desktop. "
        ],
        "bbox": [
            238,
            684,
            890,
            780
        ],
        "page_idx": 34
    },
    {
        "type": "text",
        "text": "Now, anytime you want to run JShell, simply double-click the icon on your desktop, and you’re ready to code in Java. ",
        "bbox": [
            236,
            792,
            878,
            828
        ],
        "page_idx": 34
    },
    {
        "type": "header",
        "text": "On macOS or Linux, the message and prompt look similar: ",
        "bbox": [
            273,
            63,
            797,
            82
        ],
        "page_idx": 34
    },
    {
        "type": "footer",
        "text": "Getting Started ",
        "bbox": [
            779,
            953,
            863,
            965
        ],
        "page_idx": 34
    },
    {
        "type": "page_number",
        "text": "11 ",
        "bbox": [
            886,
            950,
            904,
            963
        ],
        "page_idx": 34
    },
    {
        "type": "image",
        "img_path": "images/0ab5d0968205fd373bc1e61514ae15096ca4becddcfd6771455fe2fe593041ad.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            89,
            63,
            553,
            280
        ],
        "page_idx": 35
    },
    {
        "type": "image",
        "img_path": "images/3dc078a989466397c7698d32c2de975fd7ee9d609e61353c0ad3f393ef6ceffd.jpg",
        "image_caption": [
            "Figure 1-10: The JShell program file in the JDK 9 bin folder on Windows (left) and macOS (right) "
        ],
        "image_footnote": [],
        "bbox": [
            575,
            64,
            900,
            280
        ],
        "page_idx": 35
    },
    {
        "type": "text",
        "text": "Working with Java Expressions in JShell ",
        "text_level": 1,
        "bbox": [
            234,
            345,
            585,
            367
        ],
        "page_idx": 35
    },
    {
        "type": "text",
        "text": "An expression is any combination of values (like numbers or text) and operators that results in another value. An operator performs an operation like addition, subtraction, multiplication, or division. In Java, the symbols we use for these operators are, respectively, $+ , - , ^ { * }$ , and /. Let’s try one out with a simple math expression. At the JShell prompt, type $\\pm 2$ and press enter: ",
        "bbox": [
            230,
            372,
            896,
            463
        ],
        "page_idx": 35
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "jshell> 2+2\n$1 => 4 ",
        "guess_lang": "perl",
        "bbox": [
            234,
            478,
            333,
            510
        ],
        "page_idx": 35
    },
    {
        "type": "text",
        "text": "JShell tells you the answer: the value of the expression $^ { 2 + 2 }$ is 4. The $\\$ 1$ is a temporary variable. JShell creates these variables to store values, and here the variable $\\$ 1$ is storing the value 4 temporarily, in case you want to use it later. If you want to know what value is in a variable, you can enter it in JShell. For example, if you enter $\\$ 1$ now, JShell will tell you $\\$ 1$ is storing the value 4: ",
        "bbox": [
            230,
            530,
            890,
            636
        ],
        "page_idx": 35
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "jshell> $1\n$1 => 4 ",
        "guess_lang": "txt",
        "bbox": [
            234,
            654,
            323,
            686
        ],
        "page_idx": 35
    },
    {
        "type": "text",
        "text": "Let’s try another expression. This time, let’s combine two strings of text. Strings are characters between quotation marks that are used to display words, names, and other text. You can use the $^ +$ operator to combine strings: ",
        "bbox": [
            232,
            705,
            888,
            762
        ],
        "page_idx": 35
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "jshell> \"Your\" + \"Name\"\n$3 => \"YourName\" ",
        "guess_lang": "txt",
        "bbox": [
            234,
            776,
            432,
            807
        ],
        "page_idx": 35
    },
    {
        "type": "text",
        "text": "You’ll see that a different temporary variable is created—in this case, $\\$ 3$ . The number after the $\\$ 1$ indicates the line of code where the expression was entered. This is my third snippet of code, so JShell is storing \"YourName\" in the variable $\\$ 3$ . ",
        "bbox": [
            230,
            828,
            884,
            899
        ],
        "page_idx": 35
    },
    {
        "type": "page_number",
        "text": "12 ",
        "bbox": [
            93,
            950,
            113,
            965
        ],
        "page_idx": 35
    },
    {
        "type": "footer",
        "text": "Chapter 1 ",
        "bbox": [
            134,
            953,
            190,
            965
        ],
        "page_idx": 35
    },
    {
        "type": "text",
        "text": "Notice also that Java concatenates, or adds, the two strings, with no space between. If we want a space between two concatenated strings, we have to include it inside double quotes, like this: ",
        "bbox": [
            236,
            63,
            898,
            118
        ],
        "page_idx": 36
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "jshell> \"Your\" + \" \" + \"Name\"\n$4 => \"Your Name\" ",
        "guess_lang": "txt",
        "bbox": [
            238,
            132,
            488,
            165
        ],
        "page_idx": 36
    },
    {
        "type": "text",
        "text": "Any valid Java expression can be evaluated in JShell, so go ahead and try a few more expressions. To edit a statement you’ve entered, press the up arrow key. JShell will display the last command you typed, allowing you to edit it and press enter to run the statement again. Pressing the up arrow more than once will scroll you through the history of previous statements, all the way to the first line you entered. ",
        "bbox": [
            236,
            184,
            896,
            292
        ],
        "page_idx": 36
    },
    {
        "type": "text",
        "text": "Declaring Java Variables in JShell ",
        "text_level": 1,
        "bbox": [
            238,
            310,
            533,
            333
        ],
        "page_idx": 36
    },
    {
        "type": "text",
        "text": "Evaluating expressions with simple values is nice, but you’ll usually want to store values in variables so you can use them later. JShell has been creating temporary variables for us automatically, like $\\$ 1$ and $\\$ 3$ in the previous section, but you can also create, or declare, your own. ",
        "bbox": [
            236,
            339,
            894,
            411
        ],
        "page_idx": 36
    },
    {
        "type": "text",
        "text": "Numeric Variables ",
        "text_level": 1,
        "bbox": [
            238,
            432,
            376,
            450
        ],
        "page_idx": 36
    },
    {
        "type": "text",
        "text": "Let’s create an integer (whole number) variable called x and store the value 42 in it. Java stores whole numbers in variables of the type int, so at the JShell prompt, enter int $\\times = 4 2$ : ",
        "bbox": [
            236,
            457,
            898,
            513
        ],
        "page_idx": 36
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "jshell> int x = 42  \nx => 42 ",
        "guess_lang": "txt",
        "bbox": [
            238,
            528,
            396,
            558
        ],
        "page_idx": 36
    },
    {
        "type": "text",
        "text": "The equal sign $\\left( = \\right)$ is the assignment operator in Java, meaning that it is used to assign a value to a variable. JShell responds, letting us know the variable x contains the value 42. Now, when we want to use that value, we can just call the variable by name. Let’s find out what $\\times \\ast 2$ (x times two) equals: ",
        "bbox": [
            236,
            579,
            904,
            651
        ],
        "page_idx": 36
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "jshell> x * 2\n$6 => 84 ",
        "guess_lang": "txt",
        "bbox": [
            238,
            666,
            353,
            699
        ],
        "page_idx": 36
    },
    {
        "type": "text",
        "text": "Java uses the asterisk $( ^ { * } )$ as the symbol for multiplication, and JShell is letting us know that $\\times \\ 2$ is equal to 84. Did we change the value of x, though, by getting its value and multiplying that value by two? Let’s find out by entering x: ",
        "bbox": [
            236,
            719,
            884,
            792
        ],
        "page_idx": 36
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "jshell> x  \nx => 42 ",
        "guess_lang": "txt",
        "bbox": [
            238,
            807,
            321,
            839
        ],
        "page_idx": 36
    },
    {
        "type": "text",
        "text": "Whew! Our variable x still has the same value, 42. That means we can use the value stored in a variable without changing the variable. ",
        "bbox": [
            236,
            858,
            878,
            894
        ],
        "page_idx": 36
    },
    {
        "type": "footer",
        "text": "Getting Started ",
        "bbox": [
            777,
            951,
            863,
            965
        ],
        "page_idx": 36
    },
    {
        "type": "page_number",
        "text": "13 ",
        "bbox": [
            884,
            950,
            904,
            963
        ],
        "page_idx": 36
    },
    {
        "type": "text",
        "text": "So how would we change the value stored in the variable? We simply use the assignment operator again. Enter $\\textbf { \\em x } = \\textbf { \\em x } + \\textbf { \\em 7 }$ at the JShell prompt: ",
        "bbox": [
            232,
            64,
            869,
            102
        ],
        "page_idx": 37
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "jshell> $\\texttt{x} = \\texttt{x} +\\texttt{7}$ $x = = > 49$ ",
        "bbox": [
            232,
            115,
            384,
            148
        ],
        "page_idx": 37
    },
    {
        "type": "text",
        "text": "We’ve replaced the value stored in x by taking the old $\\mathsf { x }$ value and adding 7 to it. From now on, whenever we ask for the value of x, we’ll get 49, until we change it again. The value of a variable can change, or vary, as often as we need it to—that’s why they’re called variables. ",
        "bbox": [
            230,
            166,
            898,
            238
        ],
        "page_idx": 37
    },
    {
        "type": "text",
        "text": "Let’s try a few variables of different types. We’ve seen an integer value, so let’s try a decimal, or floating-point, number. Java stores decimal numbers in variables of the type double (short for double-precision floating point), so create a double called meters and store the decimal value 1.83 in it: ",
        "bbox": [
            230,
            238,
            894,
            310
        ],
        "page_idx": 37
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "jshell> double meters = 1.83  \nmeters => 1.83 ",
        "guess_lang": "txt",
        "bbox": [
            232,
            328,
            478,
            360
        ],
        "page_idx": 37
    },
    {
        "type": "text",
        "text": "Java handles decimal values just as easily as integer values. Let’s do some math and convert meters to centimeters: ",
        "bbox": [
            232,
            379,
            853,
            415
        ],
        "page_idx": 37
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "jshell> double centimeters = meters * 100 centimeters => 183.0 ",
        "guess_lang": "txt",
        "bbox": [
            232,
            430,
            587,
            463
        ],
        "page_idx": 37
    },
    {
        "type": "text",
        "text": "We’ve converted the value in meters to a value in centimeters by multiplying it by 100. ",
        "bbox": [
            230,
            483,
            894,
            518
        ],
        "page_idx": 37
    },
    {
        "type": "text",
        "text": "Java handles a few other types of numbers, but int and double values are the most common ones you’ll use. Anytime you come across a new type of variable, feel free to open JShell and play around with different values. ",
        "bbox": [
            230,
            519,
            894,
            573
        ],
        "page_idx": 37
    },
    {
        "type": "text",
        "text": "String Variables ",
        "text_level": 1,
        "bbox": [
            232,
            594,
            355,
            614
        ],
        "page_idx": 37
    },
    {
        "type": "text",
        "text": "The String variable type is used to store strings of text characters. Let’s define a String variable called myName and store a name in it as follows (you can use your name instead of mine): ",
        "bbox": [
            230,
            620,
            878,
            674
        ],
        "page_idx": 37
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "jshell> String myName = \"Bryson Payne\"  \nmyName => \"Bryson Payne\" ",
        "guess_lang": "txt",
        "bbox": [
            232,
            689,
            559,
            723
        ],
        "page_idx": 37
    },
    {
        "type": "text",
        "text": "We use the equal sign assignment operator, like we did with numeric variables. ",
        "bbox": [
            230,
            741,
            875,
            776
        ],
        "page_idx": 37
    },
    {
        "type": "text",
        "text": "No t e ",
        "text_level": 1,
        "bbox": [
            150,
            792,
            206,
            807
        ],
        "page_idx": 37
    },
    {
        "type": "text",
        "text": "Case matters in Java variable, method, and class names. All-lowercase myname is different from all-uppercase MYNAME, and both of those are different from myName. The convention, or common way of doing things, in Java is to use camel case—capitalizing the first letter of each new word in a name, like myName or thisIsASillyNameButShowsCamelCase, so that the words resemble a camel’s humps. Classes are in camel case and also begin with an uppercase letter. ",
        "bbox": [
            232,
            791,
            859,
            900
        ],
        "page_idx": 37
    },
    {
        "type": "page_number",
        "text": "14 ",
        "bbox": [
            93,
            950,
            113,
            965
        ],
        "page_idx": 37
    },
    {
        "type": "footer",
        "text": "Chapter 1 ",
        "bbox": [
            134,
            953,
            190,
            965
        ],
        "page_idx": 37
    },
    {
        "type": "text",
        "text": "Now let’s use the value stored in myName. Let’s say you’ve added a certification or earned a degree. Add some characters after your name, as follows: ",
        "bbox": [
            236,
            63,
            904,
            100
        ],
        "page_idx": 38
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "jshell> myName + \", PhD\"\n$12 => \"Bryson Payne, PhD\"",
        "guess_lang": "txt",
        "bbox": [
            238,
            115,
            470,
            148
        ],
        "page_idx": 38
    },
    {
        "type": "text",
        "text": "Notice that we didn’t use the assignment operator, so the value stored in myName should still be your name without the extra characters. ",
        "bbox": [
            236,
            166,
            884,
            202
        ],
        "page_idx": 38
    },
    {
        "type": "text",
        "text": "This time, let’s change the value stored in the variable myName. Add a formal title or greeting to your name, like you would for addressing an envelope or invitation: ",
        "bbox": [
            236,
            202,
            880,
            256
        ],
        "page_idx": 38
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "jshell> myName = \"Dr. \" + myName\nmyName => \"Dr. Bryson Payne\" ",
        "guess_lang": "txt",
        "bbox": [
            238,
            273,
            513,
            306
        ],
        "page_idx": 38
    },
    {
        "type": "text",
        "text": "JShell shows us the updated value stored in myName. We’ll continue to work with both numeric and text variables in the next section, and you’ll learn to output values to the screen from inside a Java program. ",
        "bbox": [
            236,
            324,
            875,
            379
        ],
        "page_idx": 38
    },
    {
        "type": "text",
        "text": "Printing Output in Java ",
        "text_level": 1,
        "bbox": [
            238,
            393,
            444,
            415
        ],
        "page_idx": 38
    },
    {
        "type": "text",
        "text": "Up to this point, we’ve just been evaluating expressions by entering them into JShell to see their values, but this won’t usually be the case when we start writing actual programs. In a Java program, we won’t see anything echoed back to the screen as we type line by line. ",
        "bbox": [
            236,
            420,
            878,
            492
        ],
        "page_idx": 38
    },
    {
        "type": "text",
        "text": "When we want to print something to the screen, we use a print function, like System.out.println(), which prints a line of output to the system console, or your screen. If you’re still using the same JShell window from the previous section, you can print the value we stored in x as follows: ",
        "bbox": [
            236,
            493,
            875,
            564
        ],
        "page_idx": 38
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "jshell> System.out.println(x) 49 ",
        "guess_lang": "txt",
        "bbox": [
            238,
            581,
            488,
            612
        ],
        "page_idx": 38
    },
    {
        "type": "text",
        "text": "If you get an error, declare a new variable int $\\times \\ = \\ 4 9$ and then run the print statement again. ",
        "bbox": [
            236,
            632,
            884,
            668
        ],
        "page_idx": 38
    },
    {
        "type": "text",
        "text": "Notice that this time, JShell doesn’t respond with $\\times \\ = = \\supset \\ 4 9$ , because you aren’t asking it to evaluate an expression. The println() statement tells JShell to print only what you’ve placed inside the parentheses, which is the variable x, so JShell simply responds with 49. ",
        "bbox": [
            236,
            669,
            888,
            740
        ],
        "page_idx": 38
    },
    {
        "type": "text",
        "text": "Let’s try some output using strings instead. Enter the following statement: ",
        "bbox": [
            236,
            740,
            837,
            774
        ],
        "page_idx": 38
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "jshell> System.out.println(\"Hello, \" + myName)  \nHello, Dr. Bryson Payne ",
        "guess_lang": "txt",
        "bbox": [
            238,
            792,
            630,
            825
        ],
        "page_idx": 38
    },
    {
        "type": "text",
        "text": "As long as you’ve still got a variable called myName from the previous section, Java will greet you by name. ",
        "bbox": [
            236,
            843,
            894,
            879
        ],
        "page_idx": 38
    },
    {
        "type": "text",
        "text": "Whenever you need to print information to the screen for a user to read, the System.out.println() statement will allow you to print exactly what you want to communicate. ",
        "bbox": [
            236,
            879,
            896,
            932
        ],
        "page_idx": 38
    },
    {
        "type": "footer",
        "text": "Getting Started ",
        "bbox": [
            777,
            951,
            863,
            965
        ],
        "page_idx": 38
    },
    {
        "type": "page_number",
        "text": "15 ",
        "bbox": [
            886,
            948,
            904,
            963
        ],
        "page_idx": 38
    },
    {
        "type": "text",
        "text": "JShell Commands ",
        "text_level": 1,
        "bbox": [
            234,
            64,
            388,
            84
        ],
        "page_idx": 39
    },
    {
        "type": "text",
        "text": "JShell has been so easy to use that you might never want to leave it, but eventually you’ll need to get on with other work, like building exciting desktop and mobile apps in Java. Let’s take a look at the commands that JShell has to offer, including the command to exit JShell. ",
        "bbox": [
            230,
            91,
            880,
            163
        ],
        "page_idx": 39
    },
    {
        "type": "text",
        "text": "At the JShell prompt, enter /help: ",
        "bbox": [
            267,
            163,
            561,
            181
        ],
        "page_idx": 39
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "jshell> /help ",
        "guess_lang": "txt",
        "bbox": [
            234,
            198,
            349,
            214
        ],
        "page_idx": 39
    },
    {
        "type": "text",
        "text": "JShell will respond with the full list of special commands that it recognizes. We precede each command with the forward slash, /, to indicate that we’re talking to the JShell program directly, not to Java. Here’s a shortened, partial version of the commands JShell recognizes: ",
        "bbox": [
            230,
            232,
            896,
            306
        ],
        "page_idx": 39
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "/list [<name or id>|-all|-start] -- list the source you have typed  \n/edit <name or id> -- edit a source entry referenced by name or id  \n save [-all|-history|-start] <file> -- save snippet source to a file  \n/open <file> -- open a file as source input  \n/vars [<name or id>|-all|-start] -- list the declared variables and their values  \n/imports -- list the imported items  \n/exit -- exit jshell  \n/reset -- reset jshell  \n/history -- history of what you have typed  \n/help [<command]|<subject>] -- get information about jshell ",
        "guess_lang": "txt",
        "bbox": [
            138,
            321,
            849,
            481
        ],
        "page_idx": 39
    },
    {
        "type": "text",
        "text": "Try some of the commands, like /list to see all the source code you’ve typed. You’ll notice that JShell adds semicolons at the ends of lines where needed—the semicolon is how Java separates multiple statements in a program. The /history command shows you what you’ve typed, including commands like /help, /list, and even /history. ",
        "bbox": [
            230,
            500,
            888,
            588
        ],
        "page_idx": 39
    },
    {
        "type": "text",
        "text": "When you’re editing regular Java programs in the next chapter and beyond, you’ll be working in files, saving often, and reopening the files when you want to work on them more. In JShell, though, once you close the JShell window, everything you’ve typed is gone for good—unless you save it, that is. Thankfully, JShell includes the ability to save, open, and edit the awesome code snippets you produce. To save code you created in JShell, use the /save command and specify where you’d like to store your file: ",
        "bbox": [
            230,
            590,
            884,
            717
        ],
        "page_idx": 39
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "jshell> /save~/Desktop/filename.txt ",
        "guess_lang": "batch",
        "bbox": [
            234,
            731,
            543,
            750
        ],
        "page_idx": 39
    },
    {
        "type": "text",
        "text": "The tilde (~) means your user directory on your computer, so this command will save all the code you’ve typed since you opened JShell, or since the last /reset, in a file on your desktop. Look at your computer’s desktop screen and you should see the new file. ",
        "bbox": [
            230,
            767,
            890,
            837
        ],
        "page_idx": 39
    },
    {
        "type": "text",
        "text": "To open the file again, use the /open command and tell JShell where to find it: ",
        "bbox": [
            230,
            839,
            886,
            873
        ],
        "page_idx": 39
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "jshell > /open ~/Desktop/filename.txt ",
        "guess_lang": "batch",
        "bbox": [
            234,
            891,
            551,
            909
        ],
        "page_idx": 39
    },
    {
        "type": "page_number",
        "text": "16 ",
        "bbox": [
            93,
            950,
            113,
            965
        ],
        "page_idx": 39
    },
    {
        "type": "footer",
        "text": "Chapter 1 ",
        "bbox": [
            134,
            951,
            190,
            966
        ],
        "page_idx": 39
    },
    {
        "type": "text",
        "text": "JShell will open the file and run the code. ",
        "bbox": [
            271,
            63,
            642,
            79
        ],
        "page_idx": 40
    },
    {
        "type": "text",
        "text": "Anytime you write a snippet of code that you’d like to store for later use, use the /save and /open commands to keep your code from one JShell session to the next. ",
        "bbox": [
            236,
            81,
            880,
            133
        ],
        "page_idx": 40
    },
    {
        "type": "text",
        "text": "To start a new code snippet, use the /reset command. JShell will remember and save only what you type after the /reset command, but you can reopen a file that you’ve saved anytime. Try the following code for a quick example of saving a file, resetting, and opening a file: ",
        "bbox": [
            236,
            135,
            884,
            208
        ],
        "page_idx": 40
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "1 jshell> /reset\n| Resetting state.\n2 jshell> System.out.println(\"Hello, Java!\") \n  Hello, Java!\n  jshell> System.out.println(\"My name is Bryson, nice to meet you!\") \n  My name is Bryson, nice to meet you! \n3 jshell> /save ~/Desktop/myJava.txt\n4 jshell> /reset\n| Resetting state.\n5 jshell > /open ~/Desktop/myJava.txt\n6 Hello, Java!\n  My name is Bryson, nice to meet you! ",
        "guess_lang": "txt",
        "bbox": [
            216,
            223,
            801,
            415
        ],
        "page_idx": 40
    },
    {
        "type": "text",
        "text": "No t e ",
        "text_level": 1,
        "bbox": [
            154,
            438,
            212,
            453
        ],
        "page_idx": 40
    },
    {
        "type": "text",
        "text": "The numbered circles point out important lines, but they aren’t actually part of the code. ",
        "bbox": [
            240,
            436,
            902,
            454
        ],
        "page_idx": 40
    },
    {
        "type": "text",
        "text": "First, you need to reset JShell $\\bullet$ so that you don’t include any earlier code you might have written before the code you want to save. Once you’ve done that, you can write out your program, which in this case is two print statements $\\bullet$ , and then save it to your desktop w. Even after JShell is reset x, the /open command $\\pmb { \\Theta }$ recalls the two lines of code we typed before the /save command and runs them z. You can use /edit to change the code and /save again when you’re done. ",
        "bbox": [
            236,
            472,
            902,
            597
        ],
        "page_idx": 40
    },
    {
        "type": "text",
        "text": "JShell can store and recall a snippet whether it’s a single line or as many lines as you care to type. ",
        "bbox": [
            236,
            599,
            902,
            635
        ],
        "page_idx": 40
    },
    {
        "type": "text",
        "text": "If you’re finished exploring, use the /exit command to close JShell: ",
        "bbox": [
            273,
            635,
            863,
            654
        ],
        "page_idx": 40
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "jshell> /exit Goodbye ",
        "guess_lang": "txt",
        "bbox": [
            238,
            669,
            353,
            702
        ],
        "page_idx": 40
    },
    {
        "type": "text",
        "text": "JShell is even polite when you leave, bidding you a kind goodbye. ",
        "bbox": [
            271,
            720,
            841,
            738
        ],
        "page_idx": 40
    },
    {
        "type": "text",
        "text": "What You Learned ",
        "text_level": 1,
        "bbox": [
            130,
            770,
            365,
            791
        ],
        "page_idx": 40
    },
    {
        "type": "text",
        "text": "In this chapter, you’ve not only installed Java, Eclipse, and AndroidStudio but you’ve also begun learning Java by testing various commands in the JShell interactive shell. JShell is an exciting improvement to the already omnipresent, industry-standard Java, and it’s a great tool for beginners and seasoned developers alike. ",
        "bbox": [
            234,
            801,
            884,
            894
        ],
        "page_idx": 40
    },
    {
        "type": "footer",
        "text": "Getting Started ",
        "bbox": [
            777,
            953,
            863,
            966
        ],
        "page_idx": 40
    },
    {
        "type": "page_number",
        "text": "17 ",
        "bbox": [
            886,
            948,
            904,
            963
        ],
        "page_idx": 40
    },
    {
        "type": "text",
        "text": "For new coders, JShell encourages exploration and removes some of the unnecessary barriers to learning basic Java commands. For experienced programmers, JShell provides a way to rapidly test new pieces of code and see results instantly on the screen. As an educator and coder, I’m excited about what JShell means for the future of Java and for the millions of coders who’ll be able to benefit from this important new set of tools. ",
        "bbox": [
            230,
            64,
            898,
            172
        ],
        "page_idx": 41
    },
    {
        "type": "text",
        "text": "You’ve set up your programming environments for Java desktop and mobile apps, and you’ve learned how to test code in JShell. You’ve also gained some experience with a number of programming concepts that you’ll use in the Java desktop and mobile apps that we’ll build in the upcoming chapters. Here’s a quick overview of what you’ve accomplished so far: ",
        "bbox": [
            230,
            172,
            869,
            279
        ],
        "page_idx": 41
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Installing Java JDK 8 and 9 ",
            "Installing Eclipse IDE for Java Developers and the WindowBuilder Editor ",
            "Installing Android Studio for mobile app development ",
            "Running JShell from the command line and from the JDK9/bin folder ",
            "Evaluating Java expressions in JShell, including numbers and text ",
            "•\t Declaring integer, decimal, and string variables in Java ",
            "Printing output to the screen using System.out.println() ",
            "•\t Using JShell commands such as /reset, /edit, /save, /open, and /exit ",
            "Saving and opening files from JShell "
        ],
        "bbox": [
            232,
            294,
            878,
            509
        ],
        "page_idx": 41
    },
    {
        "type": "text",
        "text": "In the next chapter, we’ll build our first complete Java application, the Hi-Lo guessing game. In the chapters that follow, we’ll create text-based programs, desktop apps, and, finally, Android mobile apps for each of our programs. ",
        "bbox": [
            230,
            522,
            884,
            594
        ],
        "page_idx": 41
    },
    {
        "type": "text",
        "text": "Along the way, we’ll use the programming concepts we picked up in JShell, including expressions, variables, output, and more. Whether you’re building your first app or your thousandth, a desktop app for work or a mobile game for fun, these same elements will be part of everything you code. ",
        "bbox": [
            230,
            596,
            875,
            684
        ],
        "page_idx": 41
    },
    {
        "type": "text",
        "text": "You’ve got the tools, so let’s jump into Chapter 2 and get started! ",
        "bbox": [
            265,
            686,
            833,
            704
        ],
        "page_idx": 41
    },
    {
        "type": "page_number",
        "text": "18 ",
        "bbox": [
            93,
            950,
            111,
            963
        ],
        "page_idx": 41
    },
    {
        "type": "footer",
        "text": "Chapter 1 ",
        "bbox": [
            134,
            954,
            190,
            965
        ],
        "page_idx": 41
    },
    {
        "type": "text",
        "text": "2 ",
        "text_level": 1,
        "bbox": [
            521,
            186,
            626,
            331
        ],
        "page_idx": 42
    },
    {
        "type": "text",
        "text": "B u ild a Hi - L o G u e s s i n g G a m e App ! ",
        "text_level": 1,
        "bbox": [
            295,
            381,
            849,
            432
        ],
        "page_idx": 42
    },
    {
        "type": "image",
        "img_path": "images/9fc229c895a6de0700bbb8393e212ef0ebbef751a34769884594f7635f6d3fa1.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            164,
            475,
            359,
            624
        ],
        "page_idx": 42
    },
    {
        "type": "text",
        "text": "Let’s begin by coding a fun, playable game in Java: the Hi-Lo guessing game. ",
        "bbox": [
            375,
            554,
            865,
            606
        ],
        "page_idx": 42
    },
    {
        "type": "text",
        "text": "We’ll program this game as a command line ",
        "bbox": [
            329,
            608,
            888,
            632
        ],
        "page_idx": 42
    },
    {
        "type": "text",
        "text": "application, which is just a fancy way of saying it’s text based (see Figure 2-1). When the program runs, the prompt will ask the user to guess a number between 1 and 100. Each time they guess, the program will tell them whether the guess is too high, too low, or correct. ",
        "bbox": [
            236,
            636,
            884,
            792
        ],
        "page_idx": 42
    },
    {
        "type": "image",
        "img_path": "images/d824e2a81cb6a72c8753d034e2c5ecdbf05b70c49f410b7616190168ff75423f.jpg",
        "image_caption": [
            "Figure 2-1: A text-based Hi-Lo guessing game "
        ],
        "image_footnote": [],
        "bbox": [
            232,
            64,
            619,
            256
        ],
        "page_idx": 43
    },
    {
        "type": "text",
        "text": "Now that you know how the game works, all you have to do is code the steps to play it. We’ll start by mapping out the app at a high level and then code a very simple version of the game. By starting out with a goal in mind and understanding how to play the game, you’ll be able to pick up coding skills more easily, and you’ll learn them with a purpose. You can also enjoy the game immediately after you finish coding it. ",
        "bbox": [
            230,
            301,
            886,
            411
        ],
        "page_idx": 43
    },
    {
        "type": "text",
        "text": "Planning the Game Step-by-Step ",
        "text_level": 1,
        "bbox": [
            125,
            439,
            533,
            465
        ],
        "page_idx": 43
    },
    {
        "type": "text",
        "text": "Let’s think about all the steps we’ll need to code in order to get the Hi-Lo guessing game to work. A basic version of the game will need to do the following: ",
        "bbox": [
            230,
            472,
            878,
            527
        ],
        "page_idx": 43
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "1. Generate a random number between 1 and 100 for the user to guess. ",
            "2. Display a prompt, or a line of text, asking the user to guess a number in that range. ",
            "3. Accept the user’s guess as input. ",
            "4. Compare the user’s guess to the computer’s number to see if the guess is too high, too low, or correct. ",
            "5. Display the results on the screen. ",
            "6. Prompt the user to guess another number until they guess correctly. ",
            "7. Ask the user if they’d like to play again. "
        ],
        "bbox": [
            232,
            540,
            888,
            729
        ],
        "page_idx": 43
    },
    {
        "type": "text",
        "text": "We’ll start with this basic structure. In Programming Challenge #2 on page 40, you’ll try adding an extra feature, to tell the user how many tries it took to guess the number correctly. ",
        "bbox": [
            230,
            741,
            884,
            798
        ],
        "page_idx": 43
    },
    {
        "type": "text",
        "text": "Creating a New Java Project ",
        "text_level": 1,
        "bbox": [
            125,
            828,
            488,
            852
        ],
        "page_idx": 43
    },
    {
        "type": "text",
        "text": "The first step in coding a new Java app in Eclipse is creating a project. On the menu bar in Eclipse, go to File4New4Java Project (or select File4New4Project, then Java4Java Project in the New Project wizard). The New Java Project dialog should pop up, as shown in Figure 2-2. ",
        "bbox": [
            230,
            860,
            878,
            933
        ],
        "page_idx": 43
    },
    {
        "type": "page_number",
        "text": "20 ",
        "bbox": [
            91,
            950,
            113,
            965
        ],
        "page_idx": 43
    },
    {
        "type": "footer",
        "text": "Chapter 2 ",
        "bbox": [
            134,
            951,
            194,
            965
        ],
        "page_idx": 43
    },
    {
        "type": "image",
        "img_path": "images/999b045606c2b9678c7e52e97efdf99b31c3419b9c3fcb52618687a2a263543c.jpg",
        "image_caption": [
            "Figure 2-2: The New Java Project dialog for the Hi-Lo guessing game app "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            64,
            617,
            394
        ],
        "page_idx": 44
    },
    {
        "type": "text",
        "text": "Type HiLo into the Project name field. Note that uppercase and lowercase letters are important in Java, and we’ll get in the habit of using uppercase letters to start all of our project, file, and class names, which is a common Java practice. And we’ll use camel case, as Hi and Lo are two words: HiLo. Leave all the other settings unchanged and click Finish. Depending on your version of Eclipse, you may be asked if you want to open the project using the Java Perspective. A perspective in Eclipse is a workspace set up for coding in a specific language. Click Yes to tell Eclipse you’d like the workspace set up for convenient coding in Java. ",
        "bbox": [
            236,
            454,
            906,
            620
        ],
        "page_idx": 44
    },
    {
        "type": "text",
        "text": "Creating the HiLo Class ",
        "text_level": 1,
        "bbox": [
            130,
            648,
            422,
            672
        ],
        "page_idx": 44
    },
    {
        "type": "text",
        "text": "Java is an object-oriented programming language. Object-oriented programming languages use classes to design reusable pieces of programming code. Classes are like templates that make it easier to create objects, or instances of that class. If you think of a class as a cookie cutter, objects are the cookies. And, just like a cookie cutter, classes are reusable, so once we’ve built a useful class, we can reuse it over and over to create as many objects as we want. ",
        "bbox": [
            234,
            680,
            902,
            788
        ],
        "page_idx": 44
    },
    {
        "type": "text",
        "text": "The Hi-Lo guessing game will have a single class file that creates a guessing game object with all the code needed to play the game. We’ll call our new class HiLo. The capitalization matters, and naming the class HiLo follows several Java naming conventions. It’s common practice to start all class names with an uppercase letter, so we use a capital H in HiLo. Also, there should be no spaces, hyphens, or special characters between words in a class name. Finally, we use camel case for class names with multiple words, beginning each new word with a capital letter, as in HiLo, GuessingGame, and BubbleDrawApp. ",
        "bbox": [
            236,
            789,
            906,
            933
        ],
        "page_idx": 44
    },
    {
        "type": "footer",
        "text": "Build a Hi-Lo Guessing Game App! ",
        "bbox": [
            666,
            951,
            859,
            966
        ],
        "page_idx": 44
    },
    {
        "type": "page_number",
        "text": "21 ",
        "bbox": [
            884,
            950,
            904,
            963
        ],
        "page_idx": 44
    },
    {
        "type": "text",
        "text": "To create the new HiLo class, first find your HiLo project folder under the Package Explorer pane on the left side of the Eclipse workspace. Expand the folder by clicking the small arrow to the left of it. You should see a subfolder called src, short for source code. All the text files containing your Java programs will go in this src folder. ",
        "bbox": [
            230,
            64,
            873,
            153
        ],
        "page_idx": 45
    },
    {
        "type": "text",
        "text": "Right-click the src folder and select New4 Class, as shown in Figure 2-3. ",
        "bbox": [
            267,
            154,
            896,
            174
        ],
        "page_idx": 45
    },
    {
        "type": "image",
        "img_path": "images/a904caa1eb94502c978e42648ba8e549c6d6e842c710b4dc74932250f1159f62.jpg",
        "image_caption": [
            "Figure 2-3: Creating a new class file for the Hi-Lo guessing game app "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            184,
            902,
            364
        ],
        "page_idx": 45
    },
    {
        "type": "text",
        "text": "The New Java Class dialog will appear, as shown in Figure 2-4. Type HiLo into the Name field. Then, under Which method stubs would you like to create?, check the box for public static void main(String[] args). This tells Eclipse that we’re planning to write a main() program method, so Eclipse will include a stub, or skeleton, for the main() method that we can fill in with our own code. Methods are the functions in an object or class. The main() method is required any time you want to run an app as a stand-alone program. ",
        "bbox": [
            230,
            411,
            890,
            539
        ],
        "page_idx": 45
    },
    {
        "type": "image",
        "img_path": "images/da8463801ac707c806a3bc9adb31f127185bb295ef423070678970b1a6ff5209.jpg",
        "image_caption": [
            "Figure 2-4: Name the new Java class HiLo and select the checkbox to create a main() method. "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            549,
            611,
            890
        ],
        "page_idx": 45
    },
    {
        "type": "page_number",
        "text": "22 ",
        "bbox": [
            91,
            950,
            113,
            963
        ],
        "page_idx": 45
    },
    {
        "type": "footer",
        "text": "Chapter 2 ",
        "bbox": [
            134,
            951,
            192,
            965
        ],
        "page_idx": 45
    },
    {
        "type": "text",
        "text": "Click Finish in the New Java Class dialog, and you should see a new file named HiLo.java that contains the code shown in Listing 2-1. This Java file will be the outline of the Hi-Lo guessing game. We’ll write the guessing game program by editing this file and adding code inside it. ",
        "bbox": [
            236,
            63,
            898,
            136
        ],
        "page_idx": 46
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public class HiLo { public static void main(String[] args) { //Todo Auto-generated method stub } } ",
        "guess_lang": "java",
        "bbox": [
            216,
            151,
            619,
            250
        ],
        "page_idx": 46
    },
    {
        "type": "text",
        "text": "Listing 2-1: The stub code for the HiLo guessing game class, generated by Eclipse ",
        "bbox": [
            238,
            262,
            841,
            282
        ],
        "page_idx": 46
    },
    {
        "type": "text",
        "text": "Eclipse creates this code all on its own. The class HiLo is public $\\bullet$ , meaning we can run it from the command line or terminal. ",
        "bbox": [
            236,
            289,
            902,
            325
        ],
        "page_idx": 46
    },
    {
        "type": "text",
        "text": "Java groups statements with braces, { and }. The opening brace, {, begins a block of statements that will form the body of the HiLo class. The closing brace, $\\}$ , ends the block of statements. Inside the class is the main() method $\\bullet$ , which is the method that will run when the class is executed. ",
        "bbox": [
            236,
            327,
            884,
            397
        ],
        "page_idx": 46
    },
    {
        "type": "text",
        "text": "Inside the opening brace for the main() method is a comment line that starts with two forward slashes, //. Comments are for us (the humans) to read. They’re ignored by the computer, so we can use them to help us remember what a section of code does or to leave notes for future use. You can delete the TODO comment in Listing 2-1. ",
        "bbox": [
            236,
            399,
            890,
            490
        ],
        "page_idx": 46
    },
    {
        "type": "text",
        "text": "Generating a Random Number ",
        "text_level": 1,
        "bbox": [
            238,
            507,
            505,
            530
        ],
        "page_idx": 46
    },
    {
        "type": "text",
        "text": "The first programming task for our game is to generate a random number. We’ll use the Math class, which contains a method for generating a random floating-point (decimal) number between 0.0 and 1.0. Then, we’ll convert that decimal value to an integer (a whole number) between 1 and 100. The Math class is a built-in class that contains many useful math functions like the ones you might find on a nice scientific calculator. ",
        "bbox": [
            236,
            534,
            896,
            642
        ],
        "page_idx": 46
    },
    {
        "type": "text",
        "text": "Inside the main() method, add the comment and line of code shown in Listing 2-2. (The new code is shown in black and the existing code is shown in gray.) ",
        "bbox": [
            236,
            642,
            898,
            698
        ],
        "page_idx": 46
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "public class HiLo { public static void main(String[] args) { // Create a random number for the user to guess int theNumber $=$ (int)(Math.random() \\* 100 + 1); } ",
        "bbox": [
            238,
            713,
            710,
            810
        ],
        "page_idx": 46
    },
    {
        "type": "text",
        "text": "Listing 2-2: The code to create a random number between 1 and 100 ",
        "bbox": [
            238,
            825,
            755,
            843
        ],
        "page_idx": 46
    },
    {
        "type": "text",
        "text": "First, we need to create a variable to hold the random number the user will be trying to guess in the app. Since the app will ask the user to guess a whole number between 1 and 100, we’ll use the int type, short for integer. We name our variable theNumber. The equal sign, $=$ , assigns a value to our ",
        "bbox": [
            236,
            852,
            898,
            926
        ],
        "page_idx": 46
    },
    {
        "type": "footer",
        "text": "Build a Hi-Lo Guessing Game App! ",
        "bbox": [
            664,
            951,
            857,
            966
        ],
        "page_idx": 46
    },
    {
        "type": "page_number",
        "text": "23 ",
        "bbox": [
            884,
            950,
            906,
            965
        ],
        "page_idx": 46
    },
    {
        "type": "text",
        "text": "new theNumber variable. We use the built-in Math.random() function to generate a random number between 0.0 and just under 1.0 (0.99999). Because Math.random() generates numbers only in that specific range, we need to multiply the random number we get by 100 to stretch the range from 0.0 to just under 100.0 (99.99999 or so). Then we add 1 to that value to ensure the number runs from 1.0 $( 0 . 0 + 1 )$ to 100.99999. ",
        "bbox": [
            230,
            64,
            888,
            171
        ],
        "page_idx": 47
    },
    {
        "type": "text",
        "text": "The (int) part is called a type cast, or just cast for short. Casting changes the type of the number from a decimal number to an integer. In this case, everything after the decimal point is removed, resulting in a whole number between 1 and 100. Java then stores that number in the variable theNumber, the number the user is trying to guess in the game. Finally, we add a semicolon (;) to indicate the end of the instruction. ",
        "bbox": [
            230,
            172,
            890,
            280
        ],
        "page_idx": 47
    },
    {
        "type": "text",
        "text": "Now, you can add a System.out.println() statement to print the number you’ve generated: ",
        "bbox": [
            230,
            280,
            886,
            316
        ],
        "page_idx": 47
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "int theNumber = (int)(Math.random() * 100 + 1); System.out.println( theNumber ); } } ",
        "guess_lang": "txt",
        "bbox": [
            234,
            325,
            700,
            397
        ],
        "page_idx": 47
    },
    {
        "type": "text",
        "text": "After we add this line of code, we can run the program to see it generate and print a random number. Click the green run button in the top menu bar to compile and run the program, as shown in Figure 2-5. You can also go to the Run menu and select Run. ",
        "bbox": [
            230,
            415,
            884,
            487
        ],
        "page_idx": 47
    },
    {
        "type": "image",
        "img_path": "images/f981754ae7d0a88d620ba502ff07965fddd81c2ee53364e0ad1c865c73f017ab.jpg",
        "image_caption": [
            "Figure 2-5: Printing a random number to the screen "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            500,
            884,
            726
        ],
        "page_idx": 47
    },
    {
        "type": "text",
        "text": "Your random number will appear in the small console window at the bottom of the screen, as shown in Figure 2-5. If you run your program again, you’ll see a different number between 1 and 100. ",
        "bbox": [
            230,
            771,
            871,
            825
        ],
        "page_idx": 47
    },
    {
        "type": "text",
        "text": "This would be a great time to play with the program a bit. Try generating a number between 1 and 10, or 1 and 1,000—even 1 to 1,000,000. Java will accept numbers all the way to a billion or so. Just remember to write your numbers without commas: 1,000 becomes 1000 in Java, and 1,000,000 ",
        "bbox": [
            230,
            825,
            884,
            899
        ],
        "page_idx": 47
    },
    {
        "type": "page_number",
        "text": "24 ",
        "bbox": [
            91,
            950,
            113,
            965
        ],
        "page_idx": 47
    },
    {
        "type": "footer",
        "text": "Chapter 2 ",
        "bbox": [
            134,
            953,
            194,
            965
        ],
        "page_idx": 47
    },
    {
        "type": "text",
        "text": "is written 1000000. You probably don’t want to guess a number between 1 and 1,000,000 the first time you play the game, though, so remember to change this line back before you move ahead. ",
        "bbox": [
            236,
            63,
            906,
            118
        ],
        "page_idx": 48
    },
    {
        "type": "text",
        "text": "No t e ",
        "text_level": 1,
        "bbox": [
            154,
            136,
            210,
            151
        ],
        "page_idx": 48
    },
    {
        "type": "text",
        "text": "Remember to save your code often. Eclipse will save for you automatically every time you run a program, but it’s a good idea to save after every few lines of code. In fact, pressing ctrl-S (or -S) to save after each line of code isn’t a bad habit to get into. I’ve never heard a coder say they wish they hadn’t saved so often, but I’ve experienced losing unsaved code a few times myself, and it’s not fun. Save often, and remember that you can use Edit4Undo if you ever type something incorrectly or accidentally delete a section of code. ",
        "bbox": [
            236,
            135,
            890,
            262
        ],
        "page_idx": 48
    },
    {
        "type": "text",
        "text": "Getting User Input from the Keyboard ",
        "text_level": 1,
        "bbox": [
            238,
            298,
            571,
            322
        ],
        "page_idx": 48
    },
    {
        "type": "text",
        "text": "Now let’s add the code that allows the user to guess a number. To do this, we’ll need to import some additional Java capabilities. Java comes with many libraries and packages that we can use in our own projects. Libraries and packages are sets of code that someone else has created. When we import them, we get new features that make creating our own programs even easier. We can access packages and libraries whenever we need them using the import statement. ",
        "bbox": [
            236,
            325,
            900,
            450
        ],
        "page_idx": 48
    },
    {
        "type": "text",
        "text": "For the guessing game program, we need to be able to accept keyboard input from the user. The Scanner class, contained in the java.util utilities package, provides several useful functions for working with keyboard input. Let’s import the Scanner class into our program. Add the following statement at the top of the HiLo.java file, before the line public class HiLo: ",
        "bbox": [
            236,
            451,
            902,
            542
        ],
        "page_idx": 48
    },
    {
        "type": "text",
        "text": "import java.util.Scanner;",
        "bbox": [
            238,
            558,
            454,
            576
        ],
        "page_idx": 48
    },
    {
        "type": "text",
        "text": "public class HiLo { ",
        "bbox": [
            238,
            590,
            402,
            606
        ],
        "page_idx": 48
    },
    {
        "type": "text",
        "text": "This line imports the Scanner class and all its functionality from the main Java utilities package. The Scanner class includes functions like nextLine() to accept a line of input from the keyboard and nextInt() to turn text input from the keyboard into an integer number that can be compared or used in calculations. To use the Scanner class for keyboard input, we have to tell it to use the keyboard as its source. ",
        "bbox": [
            236,
            624,
            904,
            732
        ],
        "page_idx": 48
    },
    {
        "type": "text",
        "text": "We want to do this before anything else in the program, so add this line of code inside the top of the main() method: ",
        "bbox": [
            236,
            734,
            904,
            768
        ],
        "page_idx": 48
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "public class HiLo { public static void main(String[] args) { Scanner scan $=$ new Scanner(System.in); // Create a random number for the user to guess int theNumber $=$ (int)(Math.random() \\* 100 + 1); ",
        "bbox": [
            238,
            785,
            710,
            867
        ],
        "page_idx": 48
    },
    {
        "type": "text",
        "text": "This line creates a Scanner object called scan that pulls input from the computer’s keyboard, System.in. ",
        "bbox": [
            236,
            884,
            878,
            921
        ],
        "page_idx": 48
    },
    {
        "type": "footer",
        "text": "Build a Hi-Lo Guessing Game App! ",
        "bbox": [
            666,
            951,
            857,
            966
        ],
        "page_idx": 48
    },
    {
        "type": "page_number",
        "text": "25 ",
        "bbox": [
            884,
            948,
            904,
            963
        ],
        "page_idx": 48
    },
    {
        "type": "text",
        "text": "Although this new line of code sets up the scan object, it doesn’t actually ask for input yet. To get the user to type in a guess, we’ll need to prompt them by asking them to enter a number. Then, we’ll take the number they enter from the keyboard and store it in a variable that we can compare against theNumber, the computer’s original random number. Let’s call the variable that will store the user’s guess something easy to remember, like guess. Add the following line next: ",
        "bbox": [
            230,
            64,
            898,
            190
        ],
        "page_idx": 49
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public static void main(String[] args) { Scanner scan = new Scanner(System.in); // Create a random number for the user to guess int theNumber = (int)(Math.random() * 100 + 1); System.out.println(theNumber); int guess = 0; ",
        "guess_lang": "java",
        "bbox": [
            267,
            205,
            704,
            303
        ],
        "page_idx": 49
    },
    {
        "type": "text",
        "text": "This statement both declares a variable called guess of type int (an integer in Java), and it initializes the guess variable to a starting value of 0. Some programming languages require a variable to be declared and then initialized in separate lines of code, but Java allows programmers to include both the declaration and initialization of variables in a single line. Java requires every variable to be declared with a specific type, or kind of information it should store. The user’s guess will be a whole number, so we’ve declared guess as an int. ",
        "bbox": [
            230,
            321,
            890,
            463
        ],
        "page_idx": 49
    },
    {
        "type": "text",
        "text": "Next, we need to prompt the user to enter a guess. We can let the user know the program is ready for input by printing a line of text to the console window (or command line). We access this text-based screen as a part of our computer system through the System class, just like we did for keyboard input. But this time, we want to output information for the user to read. The object that lets us access the command line console for output is System.out. Similar to the System.in object that allows us to receive text input from the keyboard, System.out gives us the ability to output text to the screen. The specific function to print a line of text is the println() command: ",
        "bbox": [
            230,
            465,
            896,
            627
        ],
        "page_idx": 49
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "int guess = 0;  \nSystem.out.println(\"Guess a number between 1 and 100:\"); ",
        "guess_lang": "txt",
        "bbox": [
            299,
            644,
            777,
            677
        ],
        "page_idx": 49
    },
    {
        "type": "text",
        "text": "Here we are using dot notation, which lists a class or object, followed by a dot and then a method or an attribute of that class or object. Methods need to be called with dot notation to tell Java which object or class they belong to; for example, Math.random(). Attributes are the values stored in an object or class. ",
        "bbox": [
            230,
            693,
            884,
            783
        ],
        "page_idx": 49
    },
    {
        "type": "text",
        "text": "For example, System is a class representing your computer system. System.out is the command line screen object contained in the System class, because your computer monitor is part of your overall computer system. System.out.println() is a method to print a line of text using the System.out object. We’ll get more practice using dot notation as we continue. ",
        "bbox": [
            230,
            786,
            880,
            876
        ],
        "page_idx": 49
    },
    {
        "type": "text",
        "text": "Now that the user knows what kind of input the program is expecting from them, it’s time to check the keyboard for their guess. We’ll use the Scanner object called scan that we created earlier. Scanners have a method ",
        "bbox": [
            230,
            875,
            878,
            929
        ],
        "page_idx": 49
    },
    {
        "type": "page_number",
        "text": "26 ",
        "bbox": [
            91,
            950,
            113,
            965
        ],
        "page_idx": 49
    },
    {
        "type": "footer",
        "text": "Chapter 2 ",
        "bbox": [
            134,
            951,
            194,
            965
        ],
        "page_idx": 49
    },
    {
        "type": "text",
        "text": "called nextInt() that looks for the next int value the user inputs from the keyboard. We’ll store the user’s guess in the variable guess that we created earlier: ",
        "bbox": [
            236,
            63,
            884,
            115
        ],
        "page_idx": 50
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "System.out.println(\"Guess a number between 1 and 100:\"); guess = scan nextInt(); ",
        "guess_lang": "javascript",
        "bbox": [
            305,
            133,
            783,
            166
        ],
        "page_idx": 50
    },
    {
        "type": "text",
        "text": "This statement will wait for the user to type something into the console window (hopefully a whole number between 1 and 100—we’ll see how to make sure the user enters a valid number in Chapter 3) and press enter. The nextInt() method will take the string of text characters the user entered (\"50\", for example), turn it into the correct numeric value (50), and then store that number in the variable guess. Take a moment to save the changes you’ve made so far. ",
        "bbox": [
            236,
            184,
            898,
            312
        ],
        "page_idx": 50
    },
    {
        "type": "text",
        "text": "Making the Program Print Output ",
        "text_level": 1,
        "bbox": [
            238,
            330,
            535,
            352
        ],
        "page_idx": 50
    },
    {
        "type": "text",
        "text": "We can also check to make sure our program is working so far by adding another println() statement: ",
        "bbox": [
            236,
            357,
            878,
            393
        ],
        "page_idx": 50
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "guess $=$ scan nextInt(); System.out.println(\"You entered $\\text{串}$ + guess $^+$ \".\"); ",
        "bbox": [
            305,
            409,
            724,
            444
        ],
        "page_idx": 50
    },
    {
        "type": "text",
        "text": "This line uses the System.out.println() method again, but now we’re combining text and numeric output. If the user guesses 50, we want the output to read, \"You entered 50.\" To make this happen, we form a println() statement that mixes text with the number stored in the variable guess. ",
        "bbox": [
            236,
            460,
            888,
            533
        ],
        "page_idx": 50
    },
    {
        "type": "text",
        "text": "Java allows us to concatenate strings of text using the $^ +$ operator. We use double quotation marks to specify the text we want to output first (\"You entered \"). Note the space before the closing quotation marks—this tells th program that we want a space to appear in the printed output after the last word. Java ignores most spacing, but when a space is included inside the quotation marks of a string of text, it becomes part of that text. ",
        "bbox": [
            236,
            534,
            902,
            642
        ],
        "page_idx": 50
    },
    {
        "type": "text",
        "text": "We also want to print the number the user guessed. We’ve stored this value in the variable called guess, so we just have to use the println() statement to output that value. Fortunately, in Java, when you include a variable in a println() statement, Java prints the value contained in that variable. So, immediately after the text \"You entered \", we add the concatenation operator $( + )$ followed by the variable name guess. Finally, we want to end the sentence with a period, so we use another concatenation operator followed by the text we want, contained in double quotation marks, so it looks like \".\". ",
        "bbox": [
            236,
            642,
            900,
            785
        ],
        "page_idx": 50
    },
    {
        "type": "text",
        "text": "Listing 2-3 puts together all of our lines of code so far. ",
        "bbox": [
            273,
            785,
            751,
            804
        ],
        "page_idx": 50
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "import java.util.Scanner;   \npublic class HiLo { public static void main(String[] args){ Scanner scan $=$ new Scanner(System.in); ",
        "bbox": [
            238,
            819,
            634,
            900
        ],
        "page_idx": 50
    },
    {
        "type": "footer",
        "text": "Build a Hi-Lo Guessing Game App! ",
        "bbox": [
            666,
            951,
            857,
            966
        ],
        "page_idx": 50
    },
    {
        "type": "page_number",
        "text": "27 ",
        "bbox": [
            884,
            948,
            906,
            963
        ],
        "page_idx": 50
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "// Create a random number for the user to guess int theNumber $=$ (int)(Math.random() \\* 100 + 1);   \n1 // System.out.println( theNumber ); int guess $= 0$ . System.out.println(\"Guess a number between 1 and 100:\"); guess $=$ scan nextInt(); System.out.println(\"You entered \" $^+$ guess $^+$ \".\");   \n} ",
        "bbox": [
            232,
            64,
            779,
            211
        ],
        "page_idx": 51
    },
    {
        "type": "text",
        "text": "Listing 2-3: The code to this point generates a random number and allows the user to guess once. ",
        "bbox": [
            232,
            222,
            863,
            258
        ],
        "page_idx": 51
    },
    {
        "type": "text",
        "text": "At u, note that I turned System.out.println( theNumber ); into a comment by adding a pair of forward slashes to the start of that line. This is called commenting out, and it’s a useful technique for debugging—finding and fixing bugs or errors in programs. We used this println() statement earlier to show the value of the variable theNumber while we were writing and testing the program. Now, rather than deleting the line entirely, we can turn it into a comment so it’s ignored by the computer. If we want to use that line again, we can just remove the // to include it in the program. ",
        "bbox": [
            230,
            265,
            900,
            409
        ],
        "page_idx": 51
    },
    {
        "type": "text",
        "text": "Now let’s save our program and run it to see how it works so far. To run it, press the green run button or go to Run4Run. Right now, the user can guess only once and the program doesn’t check whether they guessed correctly. So next, we’ll add some code so that the user can guess more than one time, and then we’ll learn how to test each guess against theNumber. ",
        "bbox": [
            230,
            409,
            894,
            501
        ],
        "page_idx": 51
    },
    {
        "type": "text",
        "text": "Loops: Ask, Check, Repeat ",
        "text_level": 1,
        "bbox": [
            125,
            531,
            460,
            555
        ],
        "page_idx": 51
    },
    {
        "type": "text",
        "text": "To give the user more than one chance to guess the number, we need to learn how to build a loop! In the guessing game program, we need to ask the user for a guess until they guess correctly. Loops give us the ability to repeat a set of steps over and over. In this section, we’ll build a loop for the steps that prompt the user for a guess and accept the keyboard input. ",
        "bbox": [
            230,
            563,
            886,
            653
        ],
        "page_idx": 51
    },
    {
        "type": "text",
        "text": "Loops are very powerful programming tools, and they’re one of the reasons computers are so valuable in our daily lives and in the business world—computers are really good at repeating the same task predictably. And, if they’re programmed correctly, they can do this all day, every day, without making mistakes. You or I might get tired of telling someone their guess is too high or too low, but the computer never does. It will also never forget the number or tell the player their guess is too low or too high when it’s actually not. ",
        "bbox": [
            230,
            654,
            886,
            795
        ],
        "page_idx": 51
    },
    {
        "type": "text",
        "text": "Let’s tap into the power of loops with a while loop. A while loop repeats a set of statements as long as some condition is true. A condition is just something we can test. For example, in this program, we want to know whether the user correctly guessed the secret number. If they didn’t guess correctly, we want to keep giving them a chance to guess again until they get it right. ",
        "bbox": [
            230,
            797,
            896,
            887
        ],
        "page_idx": 51
    },
    {
        "type": "text",
        "text": "To write a while loop, we need to know what condition we want to test for before repeating the loop each time. In the guessing game, we want the ",
        "bbox": [
            232,
            888,
            894,
            924
        ],
        "page_idx": 51
    },
    {
        "type": "page_number",
        "text": "28 ",
        "bbox": [
            91,
            950,
            113,
            965
        ],
        "page_idx": 51
    },
    {
        "type": "footer",
        "text": "Chapter 2 ",
        "bbox": [
            136,
            951,
            194,
            965
        ],
        "page_idx": 51
    },
    {
        "type": "text",
        "text": "user to guess again as long as their guess isn’t equal to the secret number theNumber. When the user’s guess is equal to the secret number, the user wins and the game is over, so the loop should stop. ",
        "bbox": [
            236,
            63,
            904,
            117
        ],
        "page_idx": 52
    },
    {
        "type": "text",
        "text": "To create a while loop, we need to insert a while statement before the last three lines of code and then wrap the three lines for guessing inside a new pair of braces, as follows: ",
        "bbox": [
            236,
            118,
            888,
            171
        ],
        "page_idx": 52
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "int guess $= 0$ while (guess $! =$ theNumber) { System.out.println(\"Guess a number between 1 and 100:\"); guess $=$ scan nextInt(); System.out.println(\"You entered \" + guess + \".\"); } } ",
        "bbox": [
            238,
            184,
            785,
            316
        ],
        "page_idx": 52
    },
    {
        "type": "text",
        "text": "We use the keyword while to let Java know we’re building a while loop, and then we put the appropriate condition inside parentheses. The part inside the parentheses, guess $\\downarrow =$ theNumber, means that while the value stored in guess is not equal to $( ! = )$ the value stored in theNumber, the loop should repeat whatever statement or set of statements immediately follow this line of code. The $\\ ! =$ operator is a comparison operator—in this case, it compares guess and theNumber and evaluates whether they’re different, or not equal. You’ll learn about other comparison operators in the next section, but this is the one we need for the guessing while loop. ",
        "bbox": [
            236,
            333,
            892,
            495
        ],
        "page_idx": 52
    },
    {
        "type": "text",
        "text": "We need to tell Java what statements to repeat in the while loop, so I’ve added an opening brace, {, after the while statement. In the same way that braces group all the statements together in the main() method, these braces group statements together inside the while loop. ",
        "bbox": [
            236,
            496,
            898,
            567
        ],
        "page_idx": 52
    },
    {
        "type": "text",
        "text": "There are three statements that we want to include inside the loop. First we need the println() statement that prompts the user to guess a number. Then we need the statement that scans the keyboard and records the guess with the nextInt() method. Finally, we need the println() statement that tells the user what they entered. To turn this set of statements into a block of code that will be run repeatedly in the while statement, we write the while statement and condition first, then an opening brace, then all three statements, and finally, a closing brace. Don’t forget the closing brace! Your program won’t run if it’s missing. ",
        "bbox": [
            236,
            567,
            904,
            729
        ],
        "page_idx": 52
    },
    {
        "type": "text",
        "text": "One good programming practice that will help you keep your code organized and readable is using tab spacing correctly. Highlight the three statements inside the braces for the while statement and then press the tab key to indent them. ",
        "bbox": [
            236,
            729,
            890,
            801
        ],
        "page_idx": 52
    },
    {
        "type": "text",
        "text": "The result should look like the following code: ",
        "bbox": [
            273,
            801,
            684,
            819
        ],
        "page_idx": 52
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "int guess = 0;  \nwhile (guess != theNumber) {  \n    System.out.println(\"Guess a number between 1 and 100:\");  \n    guess = scan nextInt();  \n    System.out.println(\"You entered \" + guess + \". \");  \n} ",
        "guess_lang": "txt",
        "bbox": [
            305,
            837,
            815,
            930
        ],
        "page_idx": 52
    },
    {
        "type": "footer",
        "text": "Build a Hi-Lo Guessing Game App! ",
        "bbox": [
            664,
            951,
            857,
            966
        ],
        "page_idx": 52
    },
    {
        "type": "page_number",
        "text": "29 ",
        "bbox": [
            882,
            948,
            904,
            963
        ],
        "page_idx": 52
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "} ",
        "guess_lang": "txt",
        "bbox": [
            232,
            63,
            279,
            96
        ],
        "page_idx": 53
    },
    {
        "type": "text",
        "text": "Correct indentation will help you remember to match up your opening and closing braces, and it will help you quickly see which statements are inside a loop or other block of code, as well as which statements are outside the loop. Indentation doesn’t affect how your program runs, but if done well, it makes your program much easier to read and maintain. ",
        "bbox": [
            230,
            114,
            894,
            204
        ],
        "page_idx": 53
    },
    {
        "type": "text",
        "text": "Save your program now and run it to check that it works. The game is almost playable now, but we still need to tell the program to check if the user’s guess is too high, too low, or just right. Time for (drum roll, please . . .) if statements! ",
        "bbox": [
            230,
            205,
            861,
            277
        ],
        "page_idx": 53
    },
    {
        "type": "text",
        "text": "if Statements: Testing for the Right Conditions ",
        "text_level": 1,
        "bbox": [
            232,
            295,
            634,
            318
        ],
        "page_idx": 53
    },
    {
        "type": "text",
        "text": "Now that the user is able to guess until they are correct, we need to check the guess to let them know whether they were too high or too low. The statement that allows us to do this is the if statement. ",
        "bbox": [
            230,
            322,
            878,
            375
        ],
        "page_idx": 53
    },
    {
        "type": "text",
        "text": "An if statement will select whether to run a block of statements once or not at all based on a condition, or a conditional expression. ",
        "bbox": [
            230,
            376,
            896,
            412
        ],
        "page_idx": 53
    },
    {
        "type": "text",
        "text": "We used a conditional expression before in the guessing loop: (guess != theNumber). To check whether a guess is too high or too low, we just need a few more comparison operators: less than (<), greater than (>), and equal to $\\scriptstyle \\left( = = \\right)$ . ",
        "bbox": [
            230,
            414,
            894,
            484
        ],
        "page_idx": 53
    },
    {
        "type": "text",
        "text": "First, instead of just telling the user what their guess was, let’s write some code to check whether their guess was too low. Replace the last line of the while statement with the following two-line if statement: ",
        "bbox": [
            230,
            484,
            888,
            540
        ],
        "page_idx": 53
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "while (guess != theNumber) {\n    System.out.println(\"Guess a number between 1 and 100\");\n    guess = scan nextInt();\n    if (guess < theNumber) {\n        System.out.println(guess + \" is too low. Try again.\");\n    }\n} ",
        "guess_lang": "txt",
        "bbox": [
            299,
            555,
            829,
            651
        ],
        "page_idx": 53
    },
    {
        "type": "text",
        "text": "The if statement begins with the keyword if, followed by a conditional expression in parentheses. In this case, the condition is guess < theNumber, which means the value of the user’s guess is less than the value of the random secret number. Notice there’s no semicolon after the parentheses, because the println() statement that follows is actually part of the if statement. The whole statement tells the program that if the condition is true, it should print the user’s guess and let them know they guessed too low. We use the concatenation operator $\\left( + \\right)$ between the user’s guess and the string of text telling them the guess was too low. Note the space after the first double quote and before is. This separates the user’s guess from the word is. ",
        "bbox": [
            230,
            669,
            890,
            867
        ],
        "page_idx": 53
    },
    {
        "type": "page_number",
        "text": "30 ",
        "bbox": [
            91,
            950,
            113,
            965
        ],
        "page_idx": 53
    },
    {
        "type": "footer",
        "text": "Chapter 2 ",
        "bbox": [
            136,
            951,
            194,
            965
        ],
        "page_idx": 53
    },
    {
        "type": "text",
        "text": "If you run the program now and enter a low guess, like 1, the if statement should tell the program to say your guess is too low. That’s a good start, but what if we guess a number that’s too high instead? In that case, we need an else statement. ",
        "bbox": [
            236,
            63,
            888,
            133
        ],
        "page_idx": 54
    },
    {
        "type": "text",
        "text": "The else statement gives the program a way to choose an alternative path, or set of steps, if the condition in the if statement is not true. We can test for guesses that are too high or too low with an if-else statement pair. Let’s add an else statement right after the if statement: ",
        "bbox": [
            236,
            135,
            896,
            207
        ],
        "page_idx": 54
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "$\\bullet$ if (guess $<$ theNumber) System.out.println(guess $^+$ \"is too low. Try again.)); $\\bullet$ else if (guess $>$ theNumber) System.out.println(guess $^+$ \" is too high. Try again.)); ",
        "bbox": [
            315,
            223,
            841,
            289
        ],
        "page_idx": 54
    },
    {
        "type": "text",
        "text": "Notice that the code at $\\otimes$ looks similar to the code at u. Often when we’re using if-else statements, we need to check for multiple conditions in a row, instead of just one. Here, we need to check for a guess that’s too low, too high, or just right. In cases like this, we can chain if-else conditions together by placing the next if statement inside the else portion of the previous if-else statement. At $\\otimes$ we’ve begun the next if statement immediately after the else from the previous condition. If the guess is higher than the number, the program tells the user their guess is too high. Now that the program can tell the user if their guess is too high or too low, we just need to tell them if they guessed correctly and won! ",
        "bbox": [
            236,
            306,
            906,
            487
        ],
        "page_idx": 54
    },
    {
        "type": "text",
        "text": "If neither of the previous conditions is true—the user’s guess is not too high and not too low—then they must have guessed the number. So we add one final else statement: ",
        "bbox": [
            236,
            487,
            902,
            539
        ],
        "page_idx": 54
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "$\\bullet$ if (guess $<$ theNumber) System.out.println(guess $^+$ \"is too low. Try again.\"); $\\bullet$ else if (guess $>$ theNumber) System.out.println(guess $^+$ \" is too high. Try again.\"); $\\bullet$ else System.out.println(guess $^+$ \" is correct. You win!\"); ",
        "bbox": [
            315,
            555,
            841,
            654
        ],
        "page_idx": 54
    },
    {
        "type": "text",
        "text": "Notice that we don’t need a conditional expression for this final else statement w. A correct guess is the only remaining option if the number is neither too high nor too low. In the case of a winning guess, we provide the statement to let the user know they’ve won. The full program up to this point is shown in Listing 2-4. Save your HiLo.java file and run the program to check that it works. It should prompt you to enter guesses until you guess the correct number. ",
        "bbox": [
            236,
            671,
            902,
            797
        ],
        "page_idx": 54
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "import java.util.Scanner;   \npublic class HiLo { public static void main(String[] args) { Scanner scan $=$ new Scanner(System.in); // Create a random number for the user to guess int theNumber $=$ (int)(Math.random() \\* 100 + 1); ",
        "bbox": [
            238,
            813,
            710,
            926
        ],
        "page_idx": 54
    },
    {
        "type": "footer",
        "text": "Build a Hi-Lo Guessing Game App! ",
        "bbox": [
            666,
            951,
            859,
            966
        ],
        "page_idx": 54
    },
    {
        "type": "page_number",
        "text": "31 ",
        "bbox": [
            884,
            950,
            904,
            965
        ],
        "page_idx": 54
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "// System.out.println( theNumber ); int guess $= 0$ while (guess != theNumber) { System.out.println(\"Guess a number between 1 and 100:\"); guess $=$ scan nextInt(); if (guess < theNumber) System.out.println(guess + \" is too low. Try again.\"); else if (guess > theNumber) System.out.println(guess + \" is too high. Try again.\"); else System.out.println(guess + \" is correct. You win!\"); } // End of while loop for guessing } ",
        "bbox": [
            232,
            63,
            837,
            289
        ],
        "page_idx": 55
    },
    {
        "type": "text",
        "text": "Listing 2-4: The Hi-Lo guessing game is complete for a single full round of play. ",
        "bbox": [
            232,
            301,
            815,
            319
        ],
        "page_idx": 55
    },
    {
        "type": "text",
        "text": "The full program is now a completely playable guessing game! After the user wins, the program tells them that they guessed correctly and won, and then it ends, as shown in Figure 2-6. ",
        "bbox": [
            230,
            328,
            898,
            382
        ],
        "page_idx": 55
    },
    {
        "type": "image",
        "img_path": "images/7dc2fdb46fffd2eb993a9511e8686de0fc0f9857dc997daa6b8374c2e0a68a28.jpg",
        "image_caption": [
            "Figure 2-6: One full play-through of the Hi-Lo guessing game— the program ends when the user guesses the secret number. "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            394,
            668,
            762
        ],
        "page_idx": 55
    },
    {
        "type": "text",
        "text": "Give yourself a hand! You’ve built a program in Java from scratch, and if this is your first program ever in Java, you deserve some kudos. Enjoy the game for a few rounds and see if you can guess the number in fewer tries each time. Test your program to make sure it works the way you want, and we’ll add some improvements in the next section. ",
        "bbox": [
            230,
            819,
            888,
            909
        ],
        "page_idx": 55
    },
    {
        "type": "page_number",
        "text": "32 ",
        "bbox": [
            91,
            950,
            113,
            965
        ],
        "page_idx": 55
    },
    {
        "type": "footer",
        "text": "Chapter 2 ",
        "bbox": [
            134,
            951,
            194,
            965
        ],
        "page_idx": 55
    },
    {
        "type": "text",
        "text": "Adding a Play Again Loop ",
        "text_level": 1,
        "bbox": [
            238,
            63,
            464,
            85
        ],
        "page_idx": 56
    },
    {
        "type": "text",
        "text": "Right now, the only way to play the guessing game again is to rerun the program in Eclipse. Fortunately, we already know there’s a way to make our program do something over and over again—we need another loop! ",
        "bbox": [
            236,
            91,
            873,
            145
        ],
        "page_idx": 56
    },
    {
        "type": "text",
        "text": "The guessing game program ends when the user guesses the right number because there’s nothing after the while loop. The while loop ends when the condition (guess $\\ ! =$ theNumber) is no longer true. A user might want to play over and over once they get the hang of the game. For this play again loop, we’ll learn a new keyword and a new kind of loop: the do-while loop. ",
        "bbox": [
            236,
            145,
            904,
            234
        ],
        "page_idx": 56
    },
    {
        "type": "text",
        "text": "Like the while loop, a do-while loop repeats a block of statements as long as a condition is true. Unlike the while loop, however, the block of code inside a do-while loop is guaranteed to run at least once. There are times when the condition at the top of a while loop may be false before the loop even starts, so the entire loop and all the lines of code inside it are ignored. Think of the condition of a while loop as being like a thermostat on a heater. If the temperature of the room is already warm enough and the condition for the heater to turn on isn’t met, the heater may not turn on at all. ",
        "bbox": [
            236,
            235,
            904,
            378
        ],
        "page_idx": 56
    },
    {
        "type": "text",
        "text": "For our guessing game, or almost any game program in general, we choose a do-while loop (we sometimes call this the game loop), because the user probably wants to play the game at least once. We also usually want to ask the user if they would like to play again, and the user typically responds yes or no (or y or n in a text-based game like this one). The game will continue to play through the game loop as long as the user responds with a yes. ",
        "bbox": [
            236,
            379,
            900,
            487
        ],
        "page_idx": 56
    },
    {
        "type": "text",
        "text": "To check the user’s response, we’ll need a new type of variable: a String. Strings are objects that hold text within double quotation marks, like \"y\", or \"yes\", or \"My name is Bryson! I hope you like my game!\". Earlier we used an integer variable, or int type, to hold the numbers the user was guessing, but now we need to hold text, so we’ll use a String instead. We can add a String variable to the top of the program, right after the Scanner setup: ",
        "bbox": [
            236,
            487,
            902,
            596
        ],
        "page_idx": 56
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "Scanner scan = new Scanner(System.in);  \nString playAgain = \"\"; ",
        "guess_lang": "txt",
        "bbox": [
            305,
            611,
            630,
            645
        ],
        "page_idx": 56
    },
    {
        "type": "text",
        "text": "Notice the String type begins with an uppercase S. This is because the String type is actually a class, complete with several useful functions for working with strings of text. I’ve named the variable playAgain, using camel case with a capital A to start the second word. Remember, no spaces are allowed in variable names. And, just like how we gave an initial value of 0 to the guess variable with int guess = 0, here we’ve given an initial value to the playAgain variable with playAgain $=$ \"\". The two double quotes, with no space between, indicate an empty string, or a String variable with no text in it. We’ll assign a different text value to the variable later, when the user enters y or n. ",
        "bbox": [
            236,
            663,
            898,
            840
        ],
        "page_idx": 56
    },
    {
        "type": "text",
        "text": "Just as we did with the while loop, we’ll need to figure out which statements should be repeated in the do-while loop. The do-while loop will be our main loop, so almost all of the statements in the program will go inside it. In fact, all the remaining statements after the Scanner and String playAgain ",
        "bbox": [
            236,
            843,
            904,
            915
        ],
        "page_idx": 56
    },
    {
        "type": "footer",
        "text": "Build a Hi-Lo Guessing Game App! ",
        "bbox": [
            664,
            951,
            857,
            966
        ],
        "page_idx": 56
    },
    {
        "type": "page_number",
        "text": "33 ",
        "bbox": [
            882,
            950,
            904,
            963
        ],
        "page_idx": 56
    },
    {
        "type": "text",
        "text": "statements will be contained in the do-while loop. Those steps describe one full round of play, so for each round, the game repeats all of those steps again, from choosing a new random number to declaring a winning guess and asking the user to play again. ",
        "bbox": [
            230,
            64,
            890,
            136
        ],
        "page_idx": 57
    },
    {
        "type": "text",
        "text": "So, we can add the do keyword and an opening brace immediately after these two lines and before the code that creates the secret number: ",
        "bbox": [
            232,
            136,
            894,
            171
        ],
        "page_idx": 57
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "Scanner scan $=$ new Scanner(System.in);   \nString playAgain $= \\mathrm{\"\"}$ .   \ndo{ // Create a random number for the user to guess int theNumber $=$ (int)(Math.random() \\* 100 + 1); // System.out.println( theNumber ); int guess $= 0$ -   \nwhile (guess != theNumber) { ",
        "bbox": [
            299,
            187,
            736,
            316
        ],
        "page_idx": 57
    },
    {
        "type": "text",
        "text": "Then, after the closing brace for the while loop for guessing and the brace following our last else statement, we’ll ask the user if they would like to play again and get their response from the keyboard. ",
        "bbox": [
            230,
            334,
            884,
            387
        ],
        "page_idx": 57
    },
    {
        "type": "text",
        "text": "Then we need to close the do-while loop with a while condition to check whether the user replied with a yes: ",
        "bbox": [
            230,
            388,
            890,
            424
        ],
        "page_idx": 57
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "} // End of while loop for guessing\n① System.out.println(\"Would you like to play again (y/n)?\");\n② playAgain = scan.next();\n③ } while (playAgain.equalsIgnoreCase(\"y\"));\n④ }\n⑤ } ",
        "guess_lang": "txt",
        "bbox": [
            210,
            436,
            829,
            536
        ],
        "page_idx": 57
    },
    {
        "type": "text",
        "text": "The prompt asks the user \"Would you like to play again $( y / \\mathsf { n } ) ? \\ \" \\otimes$ , to which they can reply with a single letter, y for yes or n for no. At $\\bullet$ , the scan.next() function scans the keyboard for input, but instead of looking for the next integer as nextInt() does, it looks for the next character or group of characters that the user types on the keyboard. Whatever the user types will get stored in the variable playAgain. ",
        "bbox": [
            230,
            555,
            880,
            662
        ],
        "page_idx": 57
    },
    {
        "type": "text",
        "text": "The line at $\\otimes$ closes the block of code that repeats the game with a brace, and it contains the while condition that determines whether the code will run again. Within the while condition, you can see an example of the equals() method of a String object. The equals() method tells you whether a string variable is exactly the same as another string of characters, and the equalsIgnoreCase() method tells you whether the strings are equal even if their capitalization is different. In our game, if the user wants to play again, they are asked to type y. However, if we just test for a lowercase y, we might miss an uppercase Y response. In this case, we want to be flexible by checking for the letter y, whether it is uppercase or lowercase, so we use the string method equalsIgnoreCase(). ",
        "bbox": [
            230,
            663,
            896,
            863
        ],
        "page_idx": 57
    },
    {
        "type": "page_number",
        "text": "34 ",
        "bbox": [
            91,
            950,
            113,
            965
        ],
        "page_idx": 57
    },
    {
        "type": "footer",
        "text": "Chapter 2 ",
        "bbox": [
            136,
            953,
            194,
            965
        ],
        "page_idx": 57
    },
    {
        "type": "text",
        "text": "The final while statement tells Java to continue to do the game loop while the string variable playAgain is either an uppercase or lowercase y. The final two closing braces at $\\bullet$ and $\\pmb { \\Theta }$ are the ones that were already in the program. The one at $\\bullet$ closes the main() method, and the one at $\\pmb { \\Theta }$ closes the entire HiLo class. I’ve included them just to show where lines $\\bullet$ through $\\otimes$ should be inserted. ",
        "bbox": [
            236,
            63,
            902,
            169
        ],
        "page_idx": 58
    },
    {
        "type": "text",
        "text": "The complete game to this point is shown in Listing 2-5. ",
        "bbox": [
            273,
            171,
            767,
            190
        ],
        "page_idx": 58
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "import java.util.Scanner;   \npublic class HiLo { public static void main(String[] args) { Scanner scan $=$ new Scanner(System.in); String playAgain $=$ \"\"; do{ // Create a random number for the user to guess int theNumber $=$ (int)(Math.random() \\* 100 + 1); // System.out.println( theNumber ); int guess $= 0$ . while (guess != theNumber) { System.out.println(\"Guess a number between 1 and 100:\"); guess $=$ scan nextInt(); if (guess < theNumber) System.out.println(guess $^+$ \"is too low. Try again.\"); else if (guess > theNumber) System.out.println(guess $^+$ \"is too high. Try again.\"); else System.out.println(guess $^+$ \"is correct. You win!\"); } // End of while loop for guessing System.out.println(\"Would you like to play again (y/n)?\"); playAgain $=$ scan.next(); } while (playAgain.equalsCase(\"y\"));   \n} ",
        "bbox": [
            236,
            205,
            876,
            603
        ],
        "page_idx": 58
    },
    {
        "type": "text",
        "text": "Listing 2-5: The Hi-Lo guessing game is ready to play over and over again. ",
        "bbox": [
            238,
            617,
            789,
            635
        ],
        "page_idx": 58
    },
    {
        "type": "text",
        "text": "Review your code to make sure you’ve added everything in the correct place, check your braces and semicolons, and take a moment to save your file. We’ll test the game in the next section. ",
        "bbox": [
            236,
            644,
            888,
            698
        ],
        "page_idx": 58
    },
    {
        "type": "text",
        "text": "No t e ",
        "text_level": 1,
        "bbox": [
            154,
            717,
            210,
            732
        ],
        "page_idx": 58
    },
    {
        "type": "text",
        "text": "Your indentation, which is the tab spacing at the beginning of each line, may not look exactly like the last code snippet because we’ve added braces in a couple of new places. Fortunately, adding new features, including loops and other blocks of code, is so common in Java that Eclipse has a menu option to clean up indentation automatically. First, select (highlight) all the text in your HiLo.java file on the screen. Then, go to Source4 Correct Indentation. Eclipse will correctly indent each line of code to show which statements are meant to be grouped together. As I mentioned before, the indentation doesn’t matter to the computer (the program will run just fine even with no tabs or extra spaces), but good indentation and spacing help make the program easier to read. ",
        "bbox": [
            236,
            716,
            906,
            894
        ],
        "page_idx": 58
    },
    {
        "type": "footer",
        "text": "Build a Hi-Lo Guessing Game App! ",
        "bbox": [
            666,
            951,
            857,
            966
        ],
        "page_idx": 58
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            884,
            950,
            904,
            963
        ],
        "page_idx": 58
    },
    {
        "type": "text",
        "text": "Testing the Game ",
        "text_level": 1,
        "bbox": [
            126,
            64,
            345,
            85
        ],
        "page_idx": 59
    },
    {
        "type": "text",
        "text": "Now that the play again loop is in place, the game should run perfectly. First, save your HiLo.java file and choose Run4Run to test the program. After you guess the first random number correctly, the program should ask you if you’d like to play again. As long as you respond y (or Y) and press enter, the program should keep giving you new random numbers to guess. In the screenshot in Figure 2-7, notice that the game starts over when I respond y to the prompt to play again. ",
        "bbox": [
            230,
            94,
            884,
            223
        ],
        "page_idx": 59
    },
    {
        "type": "image",
        "img_path": "images/66bd200baea68c4ffb9bf3adb945efaac7d1509a367c4d2bea838358be5ccce5.jpg",
        "image_caption": [
            "Figure 2-7: The guessing game is fully playable for multiple rounds as long as the user answers y or Y. "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            232,
            656,
            669
        ],
        "page_idx": 59
    },
    {
        "type": "text",
        "text": "When the user finishes playing and responds to the play again question with n, or anything other than y or Y, the game will end. However, we might want to thank them for playing after they’ve finished the game. Add the following line after the final while statement, before the final two closing braces: ",
        "bbox": [
            230,
            732,
            896,
            821
        ],
        "page_idx": 59
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "} while (playAgain.equalsIgnoreCase(\"y\")); System.out.println(\"Thank you for playing! Goodbye.\"); } ",
        "guess_lang": "java",
        "bbox": [
            234,
            834,
            761,
            903
        ],
        "page_idx": 59
    },
    {
        "type": "page_number",
        "text": "36 ",
        "bbox": [
            91,
            950,
            113,
            965
        ],
        "page_idx": 59
    },
    {
        "type": "footer",
        "text": "Chapter 2 ",
        "bbox": [
            136,
            951,
            194,
            965
        ],
        "page_idx": 59
    },
    {
        "type": "text",
        "text": "Finally, the last line we’ll add to the guessing game app is to address a warning you may have noticed in Eclipse. This warning appears as a faint yellow line under the declaration of the scan object, as well as a yellow triangle with an exclamation point to the left of that line. Eclipse is bringing to our attention that we’ve opened a resource that we haven’t closed. In programming, this can create what’s known as a resource leak. This doesn’t usually matter if we just open one Scanner object for keyboard input, but if we leave multiple Scanner objects open without closing them, the program could fill up memory, slowing or even crashing the user’s system. We use the close() method of the Scanner class to tell our program to close the connection to the keyboard. ",
        "bbox": [
            236,
            63,
            894,
            259
        ],
        "page_idx": 60
    },
    {
        "type": "text",
        "text": "Add the following line after the println() statement thanking the user for playing, before the final two closing braces: ",
        "bbox": [
            236,
            261,
            888,
            298
        ],
        "page_idx": 60
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "System.out.println(\"Thank you for playing! Goodbye.\"); scan.close(); } 1 ",
        "guess_lang": "javascript",
        "bbox": [
            238,
            312,
            767,
            379
        ],
        "page_idx": 60
    },
    {
        "type": "text",
        "text": "You’ll notice that the yellow warning disappears from the Eclipse editor window when we add this line. Eclipse helps with common programming errors like misspellings or missing punctuation, and it even warns us about problems that could occur like resource leaks and unused variables. As you build bigger, more complex applications in Java, these features of the IDE will become even more valuable. You can find more information on using Eclipse to debug your programs in the appendix. ",
        "bbox": [
            236,
            396,
            902,
            521
        ],
        "page_idx": 60
    },
    {
        "type": "text",
        "text": "The finished program, shown in Listing 2-6, is a fully playable guessing game, complete with the option to play again and guess a new random number every game. ",
        "bbox": [
            236,
            522,
            884,
            576
        ],
        "page_idx": 60
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "import java.util.Scanner;   \npublic class HiLo { public static void main(String[] args) { Scanner scan $=$ new Scanner(System.in); String playAgain $=$ \"\"; do{ // Create a random number for the user to guess int theNumber $=$ (int)(Math.random() \\* 100 + 1); // System.out.println( theNumber ); int guess $= 0$ while (guess != theNumber) { System.out.println(\"Guess a number between 1 and 100:\"); guess $=$ scan nextInt(); if (guess < theNumber) System.out.println(guess $^+$ \" is too low. Try again.\"); else if (guess > theNumber) System.out.println(guess $^+$ \" is too high. Try again.\"); else System.out.println(guess $^+$ \" is correct. You win!\"); } // End of while loop for guessing ",
        "bbox": [
            240,
            593,
            876,
            926
        ],
        "page_idx": 60
    },
    {
        "type": "footer",
        "text": "Build a Hi-Lo Guessing Game App! ",
        "bbox": [
            666,
            951,
            857,
            966
        ],
        "page_idx": 60
    },
    {
        "type": "page_number",
        "text": "37 ",
        "bbox": [
            884,
            948,
            904,
            963
        ],
        "page_idx": 60
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "System.out.println(\"Would you like to play again (y/n)?:\");playAgain $=$ scan.next();} while (playAgain.equalsIgnoreCase(\"y\"));System.out.println(\"Thank you for playing! Goodbye.\");scan.close();1 ",
        "bbox": [
            232,
            61,
            825,
            175
        ],
        "page_idx": 61
    },
    {
        "type": "text",
        "text": "Listing 2-6: The finished text-based, command line guessing game ",
        "bbox": [
            232,
            190,
            720,
            208
        ],
        "page_idx": 61
    },
    {
        "type": "text",
        "text": "There are a few things worth noting about the finished Hi-Lo guessing game program. First, despite all the work in writing it, the code is relatively short—fewer than 30 lines long. Nevertheless, you could play it forever if you wanted to. Second, this program not only demonstrates conditions and looping, it also makes use of a loop inside another loop. This is called a nested loop, because the guessing loop is contained in, or nested inside, the play again loop. The indentation helps us see where the do-while loop begins and ends, and we can see the smaller while loop and its if statements tabbed over and nested inside the bigger do-while loop. Finally, we end the program neatly— both for the user, by thanking them for playing, and for the computer, by closing the scanner resource. ",
        "bbox": [
            230,
            217,
            896,
            415
        ],
        "page_idx": 61
    },
    {
        "type": "text",
        "text": "What You Learned ",
        "text_level": 1,
        "bbox": [
            125,
            447,
            359,
            468
        ],
        "page_idx": 61
    },
    {
        "type": "text",
        "text": "While building a simple, fun, playable game, we’ve picked up several valuable programming concepts along the way. That’s the way I first learned how to code as a kid—I would find a fun game or graphical app, program it, then change it, take it apart, and try new things. Play and exploration are an important part of learning anything new, and I hope you’ll take a little time to try new things with each program. The programming challenges at the end of each chapter will also give you an opportunity to try a few new things. ",
        "bbox": [
            230,
            478,
            896,
            621
        ],
        "page_idx": 61
    },
    {
        "type": "text",
        "text": "In building this guessing game, we’ve developed a wide range of skills in Java: ",
        "bbox": [
            230,
            623,
            880,
            660
        ],
        "page_idx": 61
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Creating a new class, HiLo ",
            "Importing an existing Java package, java.util.Scanner ",
            "Using a Scanner object to accept keyboard input ",
            "Declaring and initializing integer and string variables ",
            "Generating a random number with Math.random() and casting it to an integer ",
            "Using while and do-while loops to repeat a set of steps while a condition is true ",
            "Printing text strings and variable values to the command line console ",
            "Scanning integers and strings from the keyboard and storing them in variables ",
            "Testing various conditional expressions in if and if-else statements "
        ],
        "bbox": [
            232,
            674,
            884,
            924
        ],
        "page_idx": 61
    },
    {
        "type": "page_number",
        "text": "38 ",
        "bbox": [
            91,
            950,
            113,
            963
        ],
        "page_idx": 61
    },
    {
        "type": "footer",
        "text": "Chapter 2 ",
        "bbox": [
            136,
            953,
            192,
            965
        ],
        "page_idx": 61
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "•\t Using String methods to compare string values with equalsIgnoreCase() ",
            "Closing input resources like Scanner objects with the close() method ",
            "Running a command line program from inside Eclipse "
        ],
        "bbox": [
            236,
            63,
            880,
            126
        ],
        "page_idx": 62
    },
    {
        "type": "text",
        "text": "In addition to practical skills, you’ve also developed a working knowledge of several important programming concepts in Java: ",
        "bbox": [
            236,
            139,
            880,
            177
        ],
        "page_idx": 62
    },
    {
        "type": "text",
        "text": "Variables theNumber is an integer variable, or int, and so is guess. playAgain is a string variable, or String. We change the values of these variables as we play the game by entering new number guesses or answering y or n. ",
        "bbox": [
            271,
            184,
            873,
            256
        ],
        "page_idx": 62
    },
    {
        "type": "text",
        "text": "Methods Methods are what we call functions inside a class in Java. Math.random() is a method for generating random numbers between 0.0 and 1.0. The scan.nextInt() method accepts numeric input from the user. System.out.println() is a function for displaying text to the console or terminal window. ",
        "bbox": [
            271,
            261,
            896,
            349
        ],
        "page_idx": 62
    },
    {
        "type": "text",
        "text": "Conditionals The if-else statements allow us to test whether a condition, like guess < theNumber, is true and run a different block of code depending on the outcome of that test. We also use conditional expressions to determine whether to perform a loop again, as in the statement while (guess $\\downarrow =$ theNumber). This statement will loop as long as guess is not equal to theNumber. Remember the test for “is equal to” is the double equal sign: $= =$ . ",
        "bbox": [
            271,
            355,
            902,
            481
        ],
        "page_idx": 62
    },
    {
        "type": "text",
        "text": "Loops A while loop lets us repeat a block of code as long as a condition is true. We used a while loop in the guessing game to keep asking the user for another guess until they got the right number. A do-while loop always runs at least once, and we used one to ask the user if they wanted to play again. ",
        "bbox": [
            271,
            486,
            884,
            576
        ],
        "page_idx": 62
    },
    {
        "type": "text",
        "text": "Classes The whole HiLo app is a Java class, public class HiLo. A class is a template. Now that we’ve built a class template for the HiLo guessing game, we can reuse it to play the guessing game across many different computers. We also imported the Scanner and Math classes in this app to accept user input and generate random numbers. We’ll write our own classes to do something new, and we’ll take advantage of the classes already included in Java to do everyday tasks like input, math, and more. ",
        "bbox": [
            271,
            581,
            892,
            708
        ],
        "page_idx": 62
    },
    {
        "type": "text",
        "text": "Programming Challenges ",
        "text_level": 1,
        "bbox": [
            130,
            747,
            450,
            771
        ],
        "page_idx": 62
    },
    {
        "type": "text",
        "text": "Try these programming challenges to review and practice what you’ve learned and to expand your programming skills. If you get stuck, you can visit the book’s website at https://www.nostarch.com/learnjava/ to download sample solutions, or you can watch this lesson in the video course online at http://www.udemy.com/java-the-easy-way/ for step-by-step solutions. Chapter 2 is free to preview, and you can use the coupon code BOOKHALFOFF to save 50 percent when you buy the full course. ",
        "bbox": [
            236,
            779,
            896,
            906
        ],
        "page_idx": 62
    },
    {
        "type": "aside_text",
        "text": "PROGRAMMING CHALLENGES ",
        "bbox": [
            938,
            63,
            958,
            258
        ],
        "page_idx": 62
    },
    {
        "type": "footer",
        "text": "Build a Hi-Lo Guessing Game App! ",
        "bbox": [
            666,
            951,
            857,
            966
        ],
        "page_idx": 62
    },
    {
        "type": "page_number",
        "text": "39 ",
        "bbox": [
            884,
            948,
            906,
            963
        ],
        "page_idx": 62
    },
    {
        "type": "text",
        "text": "#1: Expanding Your Range ",
        "text_level": 1,
        "bbox": [
            234,
            64,
            464,
            87
        ],
        "page_idx": 63
    },
    {
        "type": "text",
        "text": "For this first programming challenge, change the guessing game to use a bigger range of numbers. Instead of 1 to 100, try having the user guess between −100 and 100! ",
        "bbox": [
            232,
            91,
            867,
            145
        ],
        "page_idx": 63
    },
    {
        "type": "text",
        "text": "Hi n t ",
        "text_level": 1,
        "bbox": [
            150,
            160,
            202,
            175
        ],
        "page_idx": 63
    },
    {
        "type": "text",
        "text": "Multiply Math.random() by 200 and subtract 100 from the result. ",
        "bbox": [
            234,
            159,
            736,
            178
        ],
        "page_idx": 63
    },
    {
        "type": "text",
        "text": "Remember to change both the programming statement that generates the random number and the prompt that tells the user the range they should guess between. ",
        "bbox": [
            230,
            190,
            894,
            243
        ],
        "page_idx": 63
    },
    {
        "type": "text",
        "text": "If you want an easier game, you can change the range from 1 to 10 and wow your friends when you can guess the secret number in just four tries. Try other ranges, like 1 to 1,000, or even 1 to 1,000,000, or use negative ranges if you want! (Remember that you can’t use commas when writing the number in Java.) You’ll not only get better at programming but also improve your math skills. Change the program however you’d like and have fun with it! ",
        "bbox": [
            230,
            244,
            896,
            369
        ],
        "page_idx": 63
    },
    {
        "type": "text",
        "text": "Str ategize Yo ur Guesses ",
        "text_level": 1,
        "bbox": [
            424,
            415,
            708,
            430
        ],
        "page_idx": 63
    },
    {
        "type": "text",
        "text": "You may discover that the more you play the guessing game, the faster you’ll be able to guess the secret number. You might even stumble onto the fact that you can guess the number fastest by guessing in the middle of a range with each new guess. This technique is called a binary search. Guessing a number in the middle of the possible range cuts the number of possibilities in half each time. ",
        "bbox": [
            269,
            442,
            853,
            533
        ],
        "page_idx": 63
    },
    {
        "type": "text",
        "text": "Here’s how it works. For a number from 1 to 100, guess 50. If that’s too low, you know the secret number must be between 51 and 100, so guess 75, right in the middle of this range. If that’s too low, try a number halfway between 76 and 100, which would be 87. One reason the binary search is so valuable is that we can reduce the number of guesses to just seven tries (or fewer) to find a secret number between 1 and 100, every time. Try it out! ",
        "bbox": [
            269,
            534,
            849,
            641
        ],
        "page_idx": 63
    },
    {
        "type": "text",
        "text": "When you get the hang of guessing a number between 1 and 100 in seven tries or less, try guessing a number from 1 to 1,000 in just 10 tries. If you’re really brave (and have a pencil nearby), try guessing a number from 1 to 1,000,000. Believe it or not, it should take you just 20 guesses. ",
        "bbox": [
            269,
            642,
            845,
            714
        ],
        "page_idx": 63
    },
    {
        "type": "text",
        "text": "#2: Counting Tries ",
        "text_level": 1,
        "bbox": [
            234,
            771,
            394,
            795
        ],
        "page_idx": 63
    },
    {
        "type": "text",
        "text": "We’ve already built a pretty cool guessing game app, but let’s try adding one more feature to the game. Your challenge is to count and report how many tries it takes the user to guess the secret number. It could look something like the following: ",
        "bbox": [
            230,
            798,
            898,
            872
        ],
        "page_idx": 63
    },
    {
        "type": "text",
        "text": "62 is correct! You win! ",
        "bbox": [
            232,
            888,
            432,
            903
        ],
        "page_idx": 63
    },
    {
        "type": "text",
        "text": "It only took you 7 tries! Good work! ",
        "bbox": [
            232,
            903,
            539,
            920
        ],
        "page_idx": 63
    },
    {
        "type": "aside_text",
        "text": "eONNEHNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNn ",
        "bbox": [
            37,
            64,
            55,
            259
        ],
        "page_idx": 63
    },
    {
        "type": "page_number",
        "text": "40 ",
        "bbox": [
            91,
            950,
            113,
            965
        ],
        "page_idx": 63
    },
    {
        "type": "footer",
        "text": "Chapter 2 ",
        "bbox": [
            136,
            951,
            194,
            965
        ],
        "page_idx": 63
    },
    {
        "type": "text",
        "text": "To accomplish this task, you’ll need to create a new variable (you might add a line like int numberOfTries $\\qquad = \\ 0$ ;), and you’ll have to add to the number of tries every time the guessing loop executes. You can do this by increasing the variable numberOfTries by one for each new loop using numberOfTries $=$ numberOfTries $^ { \\mathrm { ~ + ~ 1 ~ } }$ . Be sure to include text to let the user know the number of tries. ",
        "bbox": [
            236,
            63,
            902,
            169
        ],
        "page_idx": 64
    },
    {
        "type": "text",
        "text": "It may take a few tries to get all the code working in the right order at the right time, but it’s worth the effort and will help you practice your new skills. In Chapter 3, we’ll build this feature into a different version of the guessing game. In the meantime, I hope you’ll come up with even more ideas for improving and changing the game. Playing with your programs, taking them apart, and rebuilding them can be the best way to learn. ",
        "bbox": [
            236,
            171,
            888,
            280
        ],
        "page_idx": 64
    },
    {
        "type": "text",
        "text": "#3: Playing MadLibs ",
        "text_level": 1,
        "bbox": [
            238,
            298,
            420,
            322
        ],
        "page_idx": 64
    },
    {
        "type": "text",
        "text": "For your final challenge in this chapter, let’s write a completely new program. We’ve learned how to ask a user for input and store it in a variable. We’ve also learned how to print out both text and variable values to the screen. With those skills, you can build even more interesting and fun programs. ",
        "bbox": [
            236,
            325,
            876,
            415
        ],
        "page_idx": 64
    },
    {
        "type": "text",
        "text": "Have you ever played MadLibs? Let’s try to use our new skills to build a program in that same style. MadLibs asks a player for various words or parts of speech, such as a color, a past-tense verb, or an adjective, and then inserts the words the player chose into a template, usually resulting in a funny story. For example, if a player gave a color of “pink,” a past-tense verb of “burped,” and an adjective of “silly” and then inserted them into the template “The dragon at the knight,” they would get the result “The pink dragon burped at the silly knight.” ",
        "bbox": [
            236,
            415,
            896,
            558
        ],
        "page_idx": 64
    },
    {
        "type": "text",
        "text": "Now, the challenge is to write a new program, MadLibs.java, with a class called MadLibs and a main() method that prompts the user for several words. Those words should each be stored in a different String variable, like color, pastTenseVerb, adjective, and noun, which you initialize as empty strings. Then, after the user has entered their last word, the program should print a completed sentence or story by replacing the empty strings with the words the user provided, like this: ",
        "bbox": [
            236,
            561,
            898,
            686
        ],
        "page_idx": 64
    },
    {
        "type": "text",
        "text": "System.out.print(\"The \" $^ +$ color + \" dragon \" $^ +$ pastTenseVerb + \" at the \" + adjective); System.out.println(\" knight, who rode in on a sturdy, giant \" + noun + \".\"); ",
        "bbox": [
            136,
            702,
            876,
            735
        ],
        "page_idx": 64
    },
    {
        "type": "text",
        "text": "Note that the first statement is a print() statement instead of a println(). The print() statement continues printing at the end of the same line, allowing us to build a longer paragraph or story. The println() statement, however, always skips a line after printing, like when you press enter at the end of the line. You can write a longer MadLibs story by using different variable names like noun1, noun2, and noun3. Give it a try, and get ready to laugh at the funny stories you create! Try to personalize each program you create by adding new features and making it your own. ",
        "bbox": [
            236,
            753,
            900,
            900
        ],
        "page_idx": 64
    },
    {
        "type": "aside_text",
        "text": "PROGRAMMING CHALLENGES ",
        "bbox": [
            938,
            64,
            960,
            258
        ],
        "page_idx": 64
    },
    {
        "type": "footer",
        "text": "Build a Hi-Lo Guessing Game App! ",
        "bbox": [
            666,
            951,
            859,
            966
        ],
        "page_idx": 64
    },
    {
        "type": "page_number",
        "text": "41 ",
        "bbox": [
            884,
            950,
            904,
            963
        ],
        "page_idx": 64
    },
    {
        "type": "text",
        "text": "3 ",
        "text_level": 1,
        "bbox": [
            517,
            186,
            630,
            334
        ],
        "page_idx": 66
    },
    {
        "type": "text",
        "text": "Cr e at i ng a GU I fo r Our Gu e s si ng G a me ",
        "text_level": 1,
        "bbox": [
            323,
            379,
            823,
            432
        ],
        "page_idx": 66
    },
    {
        "type": "image",
        "img_path": "images/32f61a70f81d260afb871042509652a83e6247a5900377bb3d66b1b946ab1367.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            162,
            475,
            359,
            626
        ],
        "page_idx": 66
    },
    {
        "type": "text",
        "text": "In this chapter, we’ll create a GUI version of the Hi-Lo guessing game from Chapter 2, as shown in Figure 3-1. When ",
        "bbox": [
            363,
            554,
            855,
            632
        ],
        "page_idx": 66
    },
    {
        "type": "text",
        "text": "this version of the program runs, it presents a graphical, or visual, interface that users will interact with. The GUI version allows the user to play the game in a desktop window like the applications you use every day. It’s a professional, windowed app complete with a text field for the user’s guess, a button to submit the guess, and a label that tells the user if they’ve guessed too high, too low, or correctly. ",
        "bbox": [
            236,
            636,
            884,
            798
        ],
        "page_idx": 66
    },
    {
        "type": "image",
        "img_path": "images/698f033702c638efe8f8b5a055e44286676c9bb65232c31d4522faeac3f95a61.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            234,
            64,
            553,
            253
        ],
        "page_idx": 67
    },
    {
        "type": "image",
        "img_path": "images/9771f7cf0efaf990e6fc62e9be535fd2eec3dc66fad42c8ff7d729738d100c87.jpg",
        "image_caption": [
            "Figure 3-1: A GUI version of the Hi-Lo guessing game running on Windows (left) and on macOS (right) "
        ],
        "image_footnote": [],
        "bbox": [
            577,
            64,
            900,
            252
        ],
        "page_idx": 67
    },
    {
        "type": "text",
        "text": "Best of all, the exact same Java source code produced both versions of the app in Figure 3-1. With the GUI code we’ll write in this chapter, our game will be playable on Windows, macOS, and Linux! ",
        "bbox": [
            230,
            310,
            882,
            364
        ],
        "page_idx": 67
    },
    {
        "type": "text",
        "text": "Practicing with JShell ",
        "text_level": 1,
        "bbox": [
            126,
            385,
            394,
            411
        ],
        "page_idx": 67
    },
    {
        "type": "text",
        "text": "JShell works at the command line, accepting text commands and usually responding with text output. However, JShell also has access to the full set of Java libraries—prewritten packages of code—and isn’t limited to just text. Before we start programming our game, let’s create a simple GUI in JShell as practice. ",
        "bbox": [
            230,
            418,
            880,
            509
        ],
        "page_idx": 67
    },
    {
        "type": "text",
        "text": "Creating a GUI in Four Lines of Code ",
        "text_level": 1,
        "bbox": [
            232,
            522,
            549,
            545
        ],
        "page_idx": 67
    },
    {
        "type": "text",
        "text": "We can create a simple GUI window with just four lines of code in JShell. Let’s take each statement one at a time. First, enter an import statement into JShell to import the javax.swing.JFrame class: ",
        "bbox": [
            230,
            549,
            890,
            603
        ],
        "page_idx": 67
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "jshell> import javax.swing JFrame ",
        "guess_lang": "txt",
        "bbox": [
            234,
            621,
            517,
            639
        ],
        "page_idx": 67
    },
    {
        "type": "text",
        "text": "The JFrame class we’ve just imported creates a frame or window using Java. Next, let’s create a frame using that class. Enter the following declaration to create a JFrame called myFrame: ",
        "bbox": [
            230,
            656,
            890,
            710
        ],
        "page_idx": 67
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "jshell> JFrame myFrame = new JFrame(\"Hello!\") ",
        "guess_lang": "txt",
        "bbox": [
            234,
            726,
            617,
            743
        ],
        "page_idx": 67
    },
    {
        "type": "text",
        "text": "The new keyword creates a new object of the JFrame class—in this case, a GUI window that we’ll program to say \"Hello!\" in its title bar. JShell responds with a long line letting us know some of the default properties the window will have: ",
        "bbox": [
            230,
            762,
            890,
            833
        ],
        "page_idx": 67
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "myFrame $\\Longrightarrow$ javax.swing JFrame(frame1,0,0,0x0,false,hidden,NoLayout=java.awt.BorderLayout ... ",
        "bbox": [
            89,
            849,
            871,
            869
        ],
        "page_idx": 67
    },
    {
        "type": "page_number",
        "text": "44 ",
        "bbox": [
            91,
            950,
            113,
            965
        ],
        "page_idx": 67
    },
    {
        "type": "footer",
        "text": "Chapter 3 ",
        "bbox": [
            136,
            951,
            194,
            965
        ],
        "page_idx": 67
    },
    {
        "type": "text",
        "text": "The information shown after the square bracket is a string representation of myFrame and its property values, like its size (0x0, which is 0 by 0 pixels) and whether it’s hidden or visible. Let’s change one of those properties by setting the size to something bigger than 0 by 0 pixels. ",
        "bbox": [
            236,
            63,
            900,
            133
        ],
        "page_idx": 68
    },
    {
        "type": "text",
        "text": "The third line of code sets the size of the window in pixels by specifying a width and height for the frame: ",
        "bbox": [
            236,
            135,
            900,
            171
        ],
        "page_idx": 68
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "jshell> myFrame.setSize(300,200) ",
        "guess_lang": "txt",
        "bbox": [
            238,
            187,
            511,
            205
        ],
        "page_idx": 68
    },
    {
        "type": "text",
        "text": "This tells Java to make the window 300 pixels wide and 200 pixels tall, big enough for us to see the window and title bar. ",
        "bbox": [
            236,
            222,
            884,
            258
        ],
        "page_idx": 68
    },
    {
        "type": "text",
        "text": "Finally, let’s show the window on the screen by calling the setVisible() method: ",
        "bbox": [
            236,
            259,
            882,
            292
        ],
        "page_idx": 68
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "jshell> myFrame.setVisible(true) ",
        "guess_lang": "txt",
        "bbox": [
            238,
            310,
            511,
            328
        ],
        "page_idx": 68
    },
    {
        "type": "text",
        "text": "We use setVisible(true) to show a window and setVisible(false) to hide it. Since we’ve called myFrame.setVisible(true), you should see your window appear on the screen, as shown in Figure 3-2. ",
        "bbox": [
            236,
            346,
            890,
            402
        ],
        "page_idx": 68
    },
    {
        "type": "image",
        "img_path": "images/b533b0908ad18f8d406fb3bc508e8035359df572df9b9ee6f6d1b3b9b91ba7f5.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            240,
            412,
            517,
            555
        ],
        "page_idx": 68
    },
    {
        "type": "image",
        "img_path": "images/fdf389179453d79030fb533597e6c2e7b71ef46123f849e6e07cfe6c82082383.jpg",
        "image_caption": [
            "Figure 3-2: Our GUI window on Windows (left) and on macOS (right) "
        ],
        "image_footnote": [],
        "bbox": [
            541,
            412,
            821,
            555
        ],
        "page_idx": 68
    },
    {
        "type": "text",
        "text": "We’ve created a GUI window by entering just four snippets of code into JShell! ",
        "bbox": [
            236,
            602,
            894,
            638
        ],
        "page_idx": 68
    },
    {
        "type": "text",
        "text": "Creating an Interactive GUI in 10 Lines of Code! ",
        "text_level": 1,
        "bbox": [
            238,
            657,
            650,
            678
        ],
        "page_idx": 68
    },
    {
        "type": "text",
        "text": "I showed the previous example to my students at the university and to my sons at home, and both groups responded with something like “That’s really cool, but can you make the window do something?” ",
        "bbox": [
            236,
            684,
            878,
            738
        ],
        "page_idx": 68
    },
    {
        "type": "text",
        "text": "Thankfully, the answer is yes. By adding just a few more lines of code, we can add a button to the window that prints something every time you click it. ",
        "bbox": [
            236,
            738,
            880,
            789
        ],
        "page_idx": 68
    },
    {
        "type": "text",
        "text": "Let’s begin with a fresh JShell. Clear your JShell history by entering /reset at the JShell prompt: ",
        "bbox": [
            236,
            792,
            863,
            828
        ],
        "page_idx": 68
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "jshell> /reset Resetting state. ",
        "guess_lang": "txt",
        "bbox": [
            238,
            846,
            400,
            876
        ],
        "page_idx": 68
    },
    {
        "type": "footer",
        "text": "Creating a GUI for Our Guessing Game ",
        "bbox": [
            642,
            953,
            861,
            965
        ],
        "page_idx": 68
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            884,
            950,
            904,
            963
        ],
        "page_idx": 68
    },
    {
        "type": "text",
        "text": "Next, let’s use the built-in JShell editor to write a 10-line snippet of code to create an interactive GUI app that responds to your click. At the JShell prompt, enter /edit to open the JShell editor: ",
        "bbox": [
            230,
            64,
            898,
            118
        ],
        "page_idx": 69
    },
    {
        "type": "text",
        "text": "jshell> /edit ",
        "bbox": [
            234,
            133,
            349,
            148
        ],
        "page_idx": 69
    },
    {
        "type": "text",
        "text": "The JShell Edit Pad, which is helpful when we want to write several lines of code at once or when we want to go back and edit a line we’ve typed earlier, appears with an empty window as shown in Figure 3-3. ",
        "bbox": [
            230,
            169,
            898,
            226
        ],
        "page_idx": 69
    },
    {
        "type": "image",
        "img_path": "images/f4667f8ccbc6059bb9563121c8d11cfa7def3608818b898ebfa6c994565c3257.jpg",
        "image_caption": [
            "Figure 3-3: The JShell Edit Pad is a convenient editor for writing longer snippets of code. "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            235,
            654,
            361
        ],
        "page_idx": 69
    },
    {
        "type": "text",
        "text": "In this case, we want to type 10 lines of code that will create an interactive GUI window with a button that prints something when it’s clicked. Enter the following lines, being extra careful with your capitalization and adding a semicolon at the end of each complete statement to separate the multiple commands: ",
        "bbox": [
            230,
            421,
            880,
            512
        ],
        "page_idx": 69
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "import javax.swing.*;  \nJFrame window = new JFrame(\"Bryson's Window\");  \n① JPanel panel = new JPanel();  \n② Button button = new JButton(②\"Click me!\");  \n③ panel.add(button);  \n④ window.add-panel);  \nwindow.setSize(⑥300,100);  \n⑤ button.addActionListener(e -> System.out.println(\"Ouch! You clicked me!\"));  \n⑦ window.setVisible(true); ",
        "guess_lang": "txt",
        "bbox": [
            210,
            528,
            650,
            687
        ],
        "page_idx": 69
    },
    {
        "type": "text",
        "text": "First, we import all the Swing GUI classes, including JFrame, JPanel, and JButton. An asterisk $( ^ { * } )$ at the end of a Java library is called a wildcard character and means “include every class in this package.” Then, we create a JFrame just like we did in the previous example. At u, we create a panel inside the window. The panel will serve as a container for other GUI components like labels and buttons. ",
        "bbox": [
            230,
            705,
            894,
            813
        ],
        "page_idx": 69
    },
    {
        "type": "text",
        "text": "Next, we add a button with the text “Click me!” v printed on it. At $\\pmb { \\Theta }$ , we add the button to our GUI panel, and then we add the panel to the window at x. Then, we set the size of the window to 300 pixels wide by 100 pixels high $\\pmb { \\Theta }$ , similar to the previous example. ",
        "bbox": [
            230,
            813,
            880,
            885
        ],
        "page_idx": 69
    },
    {
        "type": "text",
        "text": "The lines at $\\pmb { \\circledcirc }$ are where the magic happens: here we add an action listener to the “Click me!” button to respond every time the user clicks the ",
        "bbox": [
            230,
            885,
            886,
            923
        ],
        "page_idx": 69
    },
    {
        "type": "page_number",
        "text": "46 ",
        "bbox": [
            91,
            950,
            113,
            965
        ],
        "page_idx": 69
    },
    {
        "type": "footer",
        "text": "Chapter 3 ",
        "bbox": [
            134,
            951,
            194,
            965
        ],
        "page_idx": 69
    },
    {
        "type": "text",
        "text": "button. The action listener will print \"Ouch! You clicked me!\" to the console whenever the user clicks the GUI button. We’ll use listeners like this one in the GUI apps we build in this book to make the programs interact with the user whenever the user performs an action. ",
        "bbox": [
            236,
            63,
            894,
            133
        ],
        "page_idx": 70
    },
    {
        "type": "text",
        "text": "Finally, we make the window visible $\\pmb { \\ 6 }$ {, and we’re ready to test the program by clicking the button. ",
        "bbox": [
            236,
            135,
            888,
            171
        ],
        "page_idx": 70
    },
    {
        "type": "text",
        "text": "When you’ve finished typing all 10 lines of code and double-checked them for accuracy, click the Accept button in JShell Edit Pad to accept the code and run it in JShell, as shown in Figure 3-4. ",
        "bbox": [
            236,
            171,
            886,
            225
        ],
        "page_idx": 70
    },
    {
        "type": "text",
        "text": "After accepting the code, click Exit to close the JShell Edit Pad. JShell will run the code snippet, and if you’ve typed everything correctly, you’ll see a small window pop up like the one in Figure 3-5. ",
        "bbox": [
            236,
            225,
            896,
            280
        ],
        "page_idx": 70
    },
    {
        "type": "image",
        "img_path": "images/6e67d64887045afb87670d7298f8913cd7f8070652b8b1754a064ad821433f12.jpg",
        "image_caption": [
            "Figure 3-4: After typing all 10 lines of code into the JShell Edit Pad, click Accept. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            291,
            607,
            483
        ],
        "page_idx": 70
    },
    {
        "type": "image",
        "img_path": "images/869e8c87dfb6c7e22b2040ff23f2ac435b925b1bc18e0be238a71614af660799.jpg",
        "image_caption": [
            "Figure 3-5: An interactive GUI window with a clickable button "
        ],
        "image_footnote": [],
        "bbox": [
            630,
            412,
            908,
            483
        ],
        "page_idx": 70
    },
    {
        "type": "text",
        "text": "Click the button labeled Click me! with your mouse, and you’ll see Java respond as follows in the JShell window: ",
        "bbox": [
            238,
            555,
            904,
            591
        ],
        "page_idx": 70
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "jshell> Ouch! You clicked me!  \nOuch! You clicked me!  \nOuch! You clicked me!  \nOuch! You clicked me! ",
        "guess_lang": "txt",
        "bbox": [
            238,
            608,
            484,
            669
        ],
        "page_idx": 70
    },
    {
        "type": "text",
        "text": "If you close the small GUI window, all you have to do to get it back is repeat the last line that sets the window to visible. Press enter a couple of times after clicking back into the JShell command line window to get the prompt and cursor back and then enter the following: ",
        "bbox": [
            236,
            690,
            880,
            764
        ],
        "page_idx": 70
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "jshell> window.setVisible(true) ",
        "guess_lang": "txt",
        "bbox": [
            240,
            780,
            503,
            797
        ],
        "page_idx": 70
    },
    {
        "type": "text",
        "text": "The window reappears when we set the visible property to true; if you close the window, the visible property becomes false. ",
        "bbox": [
            236,
            815,
            878,
            851
        ],
        "page_idx": 70
    },
    {
        "type": "text",
        "text": "This 10-line snippet is cool enough, but now you’ll learn how to build a game with a GUI! ",
        "bbox": [
            236,
            851,
            894,
            888
        ],
        "page_idx": 70
    },
    {
        "type": "footer",
        "text": "Creating a GUI for Our Guessing Game ",
        "bbox": [
            644,
            953,
            861,
            966
        ],
        "page_idx": 70
    },
    {
        "type": "page_number",
        "text": "47 ",
        "bbox": [
            884,
            950,
            904,
            963
        ],
        "page_idx": 70
    },
    {
        "type": "text",
        "text": "Setting Up the GU I App in Eclipse ",
        "text_level": 1,
        "bbox": [
            126,
            63,
            541,
            88
        ],
        "page_idx": 71
    },
    {
        "type": "text",
        "text": "If you still have the HiLo project open in Eclipse from Chapter 2, as in Figure 3-6, close or minimize the editor window for any other Java files you may have been working on u. Also, collapse the HiLo project by clicking the small down arrow next to the HiLo folder in the Package Explorer on the left side v. This allows us to keep projects together in a single workspace without getting files mixed up. ",
        "bbox": [
            230,
            94,
            884,
            202
        ],
        "page_idx": 71
    },
    {
        "type": "image",
        "img_path": "images/af24de9f340cbb27a6392ac1fb2697b74cac30e56ff94871c99c21ba4ba2a1bf.jpg",
        "image_caption": [
            "Figure 3-6: Close any open files and collapse the HiLo project folder. "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            214,
            843,
            385
        ],
        "page_idx": 71
    },
    {
        "type": "text",
        "text": "From the Eclipse menu bar, go to File4New4Java Project and name the project GuessingGame. After you’ve typed in the project name, click the Finish button at the lower right. This creates the new project folder in which we’ll develop the GUI version of the guessing game. ",
        "bbox": [
            230,
            430,
            859,
            501
        ],
        "page_idx": 71
    },
    {
        "type": "text",
        "text": "Expand the GuessingGame folder in the Package Explorer window and find the src folder. Right-click (or, on macOS, control-click) the src folder and select New4 Class. Name the new class GuessingGame. Be sure to use camel case, beginning with an uppercase $G$ for the class name. Check the box next to the public static void main(String[] args) method stub. This adds the skeleton of a main() method so that we can run our app as a stand-alone program. ",
        "bbox": [
            230,
            501,
            884,
            627
        ],
        "page_idx": 71
    },
    {
        "type": "text",
        "text": "Before we finish, we’ll need to do one more step differently than in the command line app we built in Chapter 2. We’re going to change the superclass from the default java.lang.Object to the javax.swing.JFrame class, like the JFrame we used in JShell at the beginning of this chapter. A superclass or parent class in Java is a class that we extend in order to reuse code that’s already been written, which in this case is the code needed to build a graphical, windowed interface. The JFrame class in the javax.swing package is one way we can include GUI components in our own apps, so we’ll use JFrame to create a window and then customize a version of it to add some more features. Since the JFrame class is an extension of the Object superclass itself, we don’t need java.lang.Object because JFrame will inherit the Object superclass’s code. That means that JFrame will have all the features of the Object class, plus some. We’ll see how extensions work in a bit. ",
        "bbox": [
            230,
            629,
            890,
            861
        ],
        "page_idx": 71
    },
    {
        "type": "text",
        "text": "Figure 3-7 shows these settings in the New Java Class dialog for our guessing game. ",
        "bbox": [
            230,
            863,
            857,
            900
        ],
        "page_idx": 71
    },
    {
        "type": "page_number",
        "text": "48 ",
        "bbox": [
            91,
            950,
            113,
            965
        ],
        "page_idx": 71
    },
    {
        "type": "footer",
        "text": "Chapter 3 ",
        "bbox": [
            136,
            951,
            194,
            965
        ],
        "page_idx": 71
    },
    {
        "type": "image",
        "img_path": "images/254aa16a8fecb567e4c0af9514285ec777c335ee5579cf8c623b329c0f76a9af.jpg",
        "image_caption": [
            "Figure 3-7: Be sure to change the superclass to javax.swing.JFrame to prepare for a GUI class. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            64,
            625,
            409
        ],
        "page_idx": 72
    },
    {
        "type": "text",
        "text": "Click Finish to see the following source code for GuessingGame.java: ",
        "bbox": [
            273,
            471,
            865,
            490
        ],
        "page_idx": 72
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "import javax.swing JFrame;\npublic class GuessingGame extends JFrame {\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n    }\n} ",
        "guess_lang": "java",
        "bbox": [
            216,
            506,
            615,
            602
        ],
        "page_idx": 72
    },
    {
        "type": "text",
        "text": "On the first line, Eclipse has imported the javax.swing.JFrame class $\\bullet$ to allow our program to use the GUI capabilities of Swing’s set of packages. In the second line, we use a new coding superpower, the extends keyword $\\bullet$ . ",
        "bbox": [
            236,
            620,
            898,
            674
        ],
        "page_idx": 72
    },
    {
        "type": "text",
        "text": "In object-oriented programming, a parent class or superclass can have child classes that inherit all the methods and attributes contained in the parent class. Once we write a class that does something important that we plan to reuse, we can refer to that original class and extend it to add new functionality without changing the code in the parent class. In this case, a JFrame parent class has the ability to display text fields, labels, buttons, and other GUI components that we can customize and arrange for the new guessing game app. ",
        "bbox": [
            236,
            674,
            900,
            818
        ],
        "page_idx": 72
    },
    {
        "type": "text",
        "text": "The JFrame parent class we’re extending in this app will enable us to display a window with GUI elements like text fields, labels, and buttons by designing the GUI layout with the WindowBuilder Editor in Eclipse. Let’s see how the WindowBuilder Editor works next. ",
        "bbox": [
            236,
            818,
            884,
            888
        ],
        "page_idx": 72
    },
    {
        "type": "footer",
        "text": "Creating a GUI for Our Guessing Game ",
        "bbox": [
            644,
            953,
            861,
            966
        ],
        "page_idx": 72
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            884,
            950,
            904,
            963
        ],
        "page_idx": 72
    },
    {
        "type": "text",
        "text": "GU I Design with Eclipse’s WindowBuilder Editor ",
        "text_level": 1,
        "bbox": [
            126,
            63,
            722,
            87
        ],
        "page_idx": 73
    },
    {
        "type": "text",
        "text": "The most popular Java IDEs include tools to help programmers build an attractive GUI in a design view, with a what-you-see-is-what-you-get (WYSIWYG) interface. WYSIWYG interfaces allow users to position design elements as they will look in the final product. For instance, Microsoft Word is a W YSIW YG interface, because it allows you to edit text as it will look in its final print form. In the same way, Java IDE tools like the WindowBuilder Editor allow programmers to place GUI components like text fields, labels, and buttons as they will look in the final windowed application, helping programmers deliver professional-looking GUI apps. ",
        "bbox": [
            230,
            94,
            898,
            256
        ],
        "page_idx": 73
    },
    {
        "type": "text",
        "text": "To open the WindowBuilder Editor, right-click the GuessingGame.java file in the Package Explorer on the left and then select Open With4 WindowBuilder Editor. A new window that looks like a regular text editor will open. But, if you look at the lower-left corner of the window, you’ll see two new tabs, Source and Design. The Source tab is the plain text, source code view of your application. If you click the Design tab, you’ll see the design view shown in Figure 3-8. ",
        "bbox": [
            230,
            256,
            880,
            382
        ],
        "page_idx": 73
    },
    {
        "type": "text",
        "text": "The WindowBuilder Editor appears only for GUI classes, such as GuessingGame, that extend JFrame or one of the other GUI superclasses. Notice that the preview window has a title bar with a Java icon on the left side and three buttons to minimize, maximize, and close the window. The preview window in Figure 3-8 looks slightly different on Windows, macOS, and Linux. This window will be our playground for building a GUI guessing game that looks and feels like a real app. ",
        "bbox": [
            230,
            382,
            884,
            509
        ],
        "page_idx": 73
    },
    {
        "type": "image",
        "img_path": "images/6895d06bdab39261b885bb932b4ff426f7298c229b422965624bac61545cdebf.jpg",
        "image_caption": [
            "Figure 3-8: The WindowBuilder Editor’s Design tab makes it easy to build GUI windowed apps. "
        ],
        "image_footnote": [],
        "bbox": [
            91,
            521,
            896,
            882
        ],
        "page_idx": 73
    },
    {
        "type": "page_number",
        "text": "50 ",
        "bbox": [
            91,
            950,
            113,
            965
        ],
        "page_idx": 73
    },
    {
        "type": "footer",
        "text": "Chapter 3 ",
        "bbox": [
            136,
            951,
            194,
            965
        ],
        "page_idx": 73
    },
    {
        "type": "text",
        "text": "Designing the User Interface ",
        "text_level": 1,
        "bbox": [
            136,
            58,
            490,
            82
        ],
        "page_idx": 74
    },
    {
        "type": "text",
        "text": "Double-click the GuessingGame.java tab at the top of the WindowBuilder Editor to expand the WindowBuilder design view to fullscreen. This will create more room for designing the GUI layout. You can double-click the tab again to restore the normal Java perspective when you’re ready to get back to programming. ",
        "bbox": [
            236,
            93,
            878,
            184
        ],
        "page_idx": 74
    },
    {
        "type": "text",
        "text": "Setting GUI Properties in the Properties Pane ",
        "text_level": 1,
        "bbox": [
            238,
            202,
            632,
            225
        ],
        "page_idx": 74
    },
    {
        "type": "text",
        "text": "We’ll use the Properties pane to start customizing the GUI window for our guessing game. The Properties pane can be found on the bottom left of the Design tab in the WindowBuilder Editor. As you can see in Figure 3-9, if you click a component in the Components pane (on the left under Structure), the Properties pane immediately below it lists several properties and values we can view and edit for that component. ",
        "bbox": [
            236,
            229,
            894,
            339
        ],
        "page_idx": 74
    },
    {
        "type": "image",
        "img_path": "images/3c26781807df0fa2d449045925cade737153781bd9d6dd5827ce1a627dabbe80.jpg",
        "image_caption": [
            "Figure 3-9: The Properties pane helps you customize the properties of each GUI component in your app. "
        ],
        "image_footnote": [],
        "bbox": [
            93,
            349,
            900,
            678
        ],
        "page_idx": 74
    },
    {
        "type": "text",
        "text": "We’re going to build a customized GUI window for the guessing game app. First, let’s change the title property of this JFrame. In the Components pane, click javax.swing.JFrame, then scroll down in the Properties pane until you see the title property. Click in the empty box to the right of title and enter Your Name's Hi-Lo Guessing Game. (Replace the italicized text with your name; this is your app, after all!) After you enter the title text, press enter. The GUI preview on the right will automatically update to show Your Name’s Hi-Lo Guessing Game in the title bar. ",
        "bbox": [
            236,
            726,
            904,
            870
        ],
        "page_idx": 74
    },
    {
        "type": "text",
        "text": "With the title done, let’s set a few other properties to make the GUI look and behave like we want for the guessing game. Scroll up in the Properties pane to find defaultCloseOperation (it may just display part of the ",
        "bbox": [
            236,
            870,
            894,
            926
        ],
        "page_idx": 74
    },
    {
        "type": "footer",
        "text": "Creating a GUI for Our Guessing Game ",
        "bbox": [
            644,
            951,
            863,
            966
        ],
        "page_idx": 74
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            884,
            950,
            902,
            963
        ],
        "page_idx": 74
    },
    {
        "type": "text",
        "text": "name like defaultClose... or something similar if the pane is too narrow). Click the box to the right of defaultCloseOperation and select EXIT_ON _CLOSE from the drop-down menu. This means that when you click the close window button on the title bar of this JFrame, you’ll exit the program. This is usually the default, but there might be times you want to close a window but not close the whole application—for example, in a save dialog or a pop-up window. For this single-window game, though, we want to exit the application when the main window closes. ",
        "bbox": [
            230,
            64,
            884,
            208
        ],
        "page_idx": 75
    },
    {
        "type": "text",
        "text": "Next, we’ll change the way GUI components are arranged inside the app window. Click the getContentPane() entry in the Components pane, just under javax.swing.JFrame. A content pane is the interior of the JFrame, where we’ll build the guessing game GUI layout. Now, find Layout in the Properties pane and click the down arrow in the right edge of the field. Select Absolute Layout from the drop-down list of values; this enables us to place GUI elements with pixel-perfect precision. ",
        "bbox": [
            230,
            208,
            873,
            334
        ],
        "page_idx": 75
    },
    {
        "type": "text",
        "text": "Customizing GUI Components in the Palette Pane ",
        "text_level": 1,
        "bbox": [
            232,
            349,
            656,
            372
        ],
        "page_idx": 75
    },
    {
        "type": "text",
        "text": "Let’s start customizing our guessing game app. You can find the elements you’ll need for almost any GUI app in the Palette pane. The Palette pane can be found in the middle of the WindowBuilder Editor on the Design tab. Note that you can expand or collapse a pane by clicking the small arrow to the left of the pane’s title. Click the arrow once to collapse the pane. Click the arrow again to expand the pane. This can be handy when you need extra room for a large, complex GUI layout. ",
        "bbox": [
            230,
            376,
            894,
            501
        ],
        "page_idx": 75
    },
    {
        "type": "text",
        "text": "In the Palette, scroll down until you see the Components section, as shown in Figure 3-10. ",
        "bbox": [
            232,
            503,
            650,
            539
        ],
        "page_idx": 75
    },
    {
        "type": "text",
        "text": "The Palette contains all the standard components you’re probably already familiar with, like labels (JLabel), text fields (JTextField), buttons (JButton), and checkboxes (JCheckBox). You might have noticed that GUI components in the javax.swing package all begin with an uppercase J, followed by the name of the component in camel case. This makes it easy to remember the class name for each of the GUI elements in an app that uses the Swing toolkit. ",
        "bbox": [
            230,
            539,
            648,
            735
        ],
        "page_idx": 75
    },
    {
        "type": "text",
        "text": "Let’s place a label at the top of the GUI window that says Your Name’s Hi-Lo Guessing Game. Click JLabel under Components in the Palette. Then, mouse over the GUI preview on the right; you should see gridlines appear. By default, the WindowBuilder Editor provides ",
        "bbox": [
            230,
            737,
            640,
            843
        ],
        "page_idx": 75
    },
    {
        "type": "image",
        "img_path": "images/72fbf90956f6e1671c7a55802948f2c06ef254d83b2a1363b80883dc1f999bd0.jpg",
        "image_caption": [
            "Figure 3-10: The Components section in the Palette pane is where we’ll find the most common GUI components. "
        ],
        "image_footnote": [],
        "bbox": [
            670,
            501,
            896,
            731
        ],
        "page_idx": 75
    },
    {
        "type": "text",
        "text": "these gridlines to help you place elements. Now, hover your mouse near the top center of the gray content pane (the interior of the JFrame) and click to place a JLabel in that spot. ",
        "bbox": [
            230,
            845,
            894,
            899
        ],
        "page_idx": 75
    },
    {
        "type": "text",
        "text": "When you first place the JLabel, you can edit the text in the label directly in the GUI preview. Type Your Name's Hi-Lo Guessing Game and press ",
        "bbox": [
            230,
            899,
            884,
            936
        ],
        "page_idx": 75
    },
    {
        "type": "page_number",
        "text": "52 ",
        "bbox": [
            91,
            950,
            113,
            965
        ],
        "page_idx": 75
    },
    {
        "type": "footer",
        "text": "Chapter 3 ",
        "bbox": [
            134,
            953,
            192,
            965
        ],
        "page_idx": 75
    },
    {
        "type": "text",
        "text": "enter. If you want to change the text later, go to the text property of the JLabel in the Properties pane on the lower left and type in your text. At first, you’ll probably only see part of the text in the label, because the label is too small to show the full text. Click the label, and you’ll see small black resizing squares on each corner. Click the lower-left corner of the label and drag it to the left border of the content pane to stretch the label to the content pane’s left edge. Then, click the label’s lower-right corner and drag to resize it to the content pane’s right edge. ",
        "bbox": [
            236,
            63,
            906,
            207
        ],
        "page_idx": 76
    },
    {
        "type": "text",
        "text": "Now your full label text should fit inside the label at the top of the GUI preview. Next let’s make the label text centered and bold. First, find the horizontalAlignment property of the label in the Properties pane. Click the value and choose CENTER from the drop-down list. Next, find the font property of the label and click the three dots to the right of the font property’s value. A font chooser window will open, allowing you to choose a font, style, and size. I chose Tahoma, 15 point, and Bold, as shown in Figure 3-11. Note that you may have to resize your label to fit a larger font. ",
        "bbox": [
            236,
            207,
            906,
            352
        ],
        "page_idx": 76
    },
    {
        "type": "image",
        "img_path": "images/b8505cdc1bfcfaa8eec2ffd2b77ce88b006f5b15f056888b8271a8e24f793b79.jpg",
        "image_caption": [
            "Figure 3-11: The first label, customized and in place, at the top of the content pane "
        ],
        "image_footnote": [],
        "bbox": [
            97,
            363,
            896,
            690
        ],
        "page_idx": 76
    },
    {
        "type": "text",
        "text": "Let’s add a label for the first prompt a user will see in the game. Click JLabel in the Palette pane, then place the new label just above the middle of the content pane. Enter Guess a number between 1 and 100: as the text of the label. You’ll need to resize the label a little wider than the text for extra padding. ",
        "bbox": [
            234,
            735,
            898,
            825
        ],
        "page_idx": 76
    },
    {
        "type": "text",
        "text": "Just to the right of the label, let’s place a text field for the user to enter their guess. Click JTextField on the Palette and then drop the text field into place to the right of the label you just placed. ",
        "bbox": [
            236,
            825,
            890,
            879
        ],
        "page_idx": 76
    },
    {
        "type": "text",
        "text": "Resize it so it’s just big enough to hold a three-digit number. Click the label again and change its horizontalAlignment property to RIGHT to bring the text closer to the text field, as shown in Figure 3-12. ",
        "bbox": [
            236,
            879,
            890,
            933
        ],
        "page_idx": 76
    },
    {
        "type": "footer",
        "text": "Creating a GUI for Our Guessing Game ",
        "bbox": [
            642,
            951,
            863,
            966
        ],
        "page_idx": 76
    },
    {
        "type": "page_number",
        "text": "53 ",
        "bbox": [
            884,
            950,
            906,
            963
        ],
        "page_idx": 76
    },
    {
        "type": "image",
        "img_path": "images/051000d578f2c89a8a63980fa216bb9aab9ad01c0846ce607e94ea4ce33dec1a.jpg",
        "image_caption": [
            "Figure 3-12: The guessing game now has a label and text field for the user’s guess. "
        ],
        "image_footnote": [],
        "bbox": [
            91,
            64,
            890,
            391
        ],
        "page_idx": 77
    },
    {
        "type": "text",
        "text": "Next, let’s place a button the user can push to submit their guess. On the Palette, find and click JButton. Mouse over the middle of the GUI preview window and click to place the JButton. Change the text to Guess!. ",
        "bbox": [
            230,
            436,
            884,
            490
        ],
        "page_idx": 77
    },
    {
        "type": "text",
        "text": "Finally, place a JLabel below the button, give it the text Enter a number above and click Guess!, and resize the label to the full width of the JFrame. ",
        "bbox": [
            230,
            490,
            867,
            525
        ],
        "page_idx": 77
    },
    {
        "type": "text",
        "text": "Then, change the horizontalAlignment to CENTER. Later, this label will also be where we tell users whether they guessed too high, too low, or correctly. The alignment of each component may not be perfect yet, but your GUI layout should look something like Figure 3-13. ",
        "bbox": [
            230,
            527,
            597,
            651
        ],
        "page_idx": 77
    },
    {
        "type": "text",
        "text": "Now that we have all the GUI components on the screen, we’re ready to make a few tweaks to balance and center the layout. First, be sure to save your file. ",
        "bbox": [
            230,
            653,
            599,
            726
        ],
        "page_idx": 77
    },
    {
        "type": "image",
        "img_path": "images/da065b214376068f760d7b69cbd2ac9c1927a5923acc3d1742cee6e3c6da68e4.jpg",
        "image_caption": [
            "Figure 3-13: The GUI layout has all the components, just not perfectly aligned yet. "
        ],
        "image_footnote": [],
        "bbox": [
            634,
            545,
            900,
            681
        ],
        "page_idx": 77
    },
    {
        "type": "text",
        "text": "Aligning GUI Elements ",
        "text_level": 1,
        "bbox": [
            232,
            744,
            432,
            767
        ],
        "page_idx": 77
    },
    {
        "type": "text",
        "text": "So far, we’ve been positioning GUI components by eye, trying to space them correctly and center them as much as possible. However, when we run a program, we expect the layout to be “perfect.” Fortunately, Eclipse has built-in tools to help us align components. ",
        "bbox": [
            230,
            771,
            900,
            843
        ],
        "page_idx": 77
    },
    {
        "type": "text",
        "text": "First, let’s distribute the four main elements evenly, spacing them the same distance apart vertically. Select the three labels and the button by clicking each one while holding down the shift button. For now, don’t click the text field where the user enters their guess. You should see a small row of alignment tools appear above the GUI preview window. Mouse over ",
        "bbox": [
            230,
            843,
            890,
            935
        ],
        "page_idx": 77
    },
    {
        "type": "page_number",
        "text": "54 ",
        "bbox": [
            91,
            950,
            113,
            965
        ],
        "page_idx": 77
    },
    {
        "type": "footer",
        "text": "Chapter 3 ",
        "bbox": [
            136,
            953,
            194,
            965
        ],
        "page_idx": 77
    },
    {
        "type": "text",
        "text": "each tool to see a tool tip that tells you what that button does. You may need to resize your Eclipse window if you don’t see all the tools at first. ",
        "bbox": [
            236,
            63,
            904,
            97
        ],
        "page_idx": 78
    },
    {
        "type": "text",
        "text": "Click the tool that looks like stacked buttons (the rightmost icon in Figure 3-14). All four selected items should now be spaced an equal distance apart from top to bottom. ",
        "bbox": [
            236,
            99,
            865,
            153
        ],
        "page_idx": 78
    },
    {
        "type": "text",
        "text": "Now select just the text field. Move it to realign it with the label prompting the user to guess a number. We didn’t include the text field originally because Eclipse would have distributed all five components evenly, separating the text field and its label from each other and creating five rows instead of four. ",
        "bbox": [
            236,
            154,
            670,
            280
        ],
        "page_idx": 78
    },
    {
        "type": "image",
        "img_path": "images/b13b7a95f1c294987faf7f784d74c7f5b8438b4553c1f7e4a3cb2455c821955a.jpg",
        "image_caption": [
            "Figure 3-14: You can align and space components evenly using the tools above the GUI preview window. "
        ],
        "image_footnote": [],
        "bbox": [
            690,
            154,
            904,
            177
        ],
        "page_idx": 78
    },
    {
        "type": "text",
        "text": "No t e ",
        "text_level": 1,
        "bbox": [
            154,
            292,
            216,
            310
        ],
        "page_idx": 78
    },
    {
        "type": "text",
        "text": "If you ever mess up while aligning things (or doing anything else) in WindowBuilder, you can undo your previous action by pressing ctrl-Z or -Z. This is a great safety feature in the WindowBuilder Editor and lets you try new things without permanently messing up the layout. ",
        "bbox": [
            236,
            292,
            906,
            364
        ],
        "page_idx": 78
    },
    {
        "type": "text",
        "text": "Finally, click the button labeled Guess! and click the alignment button above the GUI preview (the one near the far right with the tool tip “Center horizontally in window”). You can center or adjust the other components as desired. If you want to move two or more components together, you can shift-click to select both, then click and drag to move them. ",
        "bbox": [
            236,
            379,
            896,
            468
        ],
        "page_idx": 78
    },
    {
        "type": "text",
        "text": "When you’re happy with the layout, it’s time to prepare for coding by naming the components. Take a moment to save your changes. ",
        "bbox": [
            236,
            469,
            878,
            506
        ],
        "page_idx": 78
    },
    {
        "type": "text",
        "text": "Naming GUI Components for Coding ",
        "text_level": 1,
        "bbox": [
            238,
            524,
            553,
            546
        ],
        "page_idx": 78
    },
    {
        "type": "text",
        "text": "The user interface of the guessing game app is ready for the player. To make the app easier to work with, however, we need to make a few final tweaks over in the Java source code file, where we’ll be programming the rest of the game. We need to name each component so that we’ll know how to refer to it inside the source code. ",
        "bbox": [
            236,
            551,
            898,
            639
        ],
        "page_idx": 78
    },
    {
        "type": "text",
        "text": "This step is sometimes called “wiring up,” because we’ll be connecting each GUI component needed in the program to variable names that we can access in the Java source code. Eclipse has been naming each GUI element for us as we’ve added them, but we’ll want to change those names. Select the text field where the user will enter their guess. If you look in the Properties pane, you’ll see the very top property is Variable. The variable name Eclipse has given your first text field by default is probably something like textField. Click the value field beside the Variable property and rename the variable for this text field to txtGuess, as shown in Figure 3-15. ",
        "bbox": [
            236,
            641,
            625,
            930
        ],
        "page_idx": 78
    },
    {
        "type": "image",
        "img_path": "images/2dfe93410e9359c2af88184adc25b3811d54a24e940b2356435585eb5e37761e.jpg",
        "image_caption": [
            "Figure 3-15: Rename the variables for each GUI element so we can use them easily in the Java source code. "
        ],
        "image_footnote": [],
        "bbox": [
            648,
            641,
            906,
            851
        ],
        "page_idx": 78
    },
    {
        "type": "footer",
        "text": "Creating a GUI for Our Guessing Game ",
        "bbox": [
            642,
            951,
            863,
            966
        ],
        "page_idx": 78
    },
    {
        "type": "page_number",
        "text": "55 ",
        "bbox": [
            884,
            948,
            904,
            963
        ],
        "page_idx": 78
    },
    {
        "type": "text",
        "text": "The name txtGuess will remind us that it’s a text field and that it stores the user’s guess. You’ll find that naming GUI components consistently and logically will help you code more quickly and efficiently, with fewer errors. ",
        "bbox": [
            230,
            64,
            884,
            118
        ],
        "page_idx": 79
    },
    {
        "type": "text",
        "text": "After you’ve renamed the text field, select the label at the bottom of the GUI window that reads “Enter a number above and click Guess!”. This is the label that will output information for the user to read, like Too high, Too low, or You win!, so let’s rename the variable lblOutput. This name will help us remember it’s a GUI label (lbl) and that it’s the one we want to use for output to display information to the user. ",
        "bbox": [
            230,
            118,
            886,
            226
        ],
        "page_idx": 79
    },
    {
        "type": "text",
        "text": "In the Source tab at the lower left of the WindowBuilder Editor window, you’ll see that Eclipse has been writing the Java source code to produce the GUI layout you’ve been designing (Figure 3-16). ",
        "bbox": [
            230,
            226,
            898,
            280
        ],
        "page_idx": 79
    },
    {
        "type": "image",
        "img_path": "images/5fe063cf1599160b7b8aeec7a6397ba78cc3c86fd75f9ed1d1290cceb99ab4f4.jpg",
        "image_caption": [
            "Figure 3-16: Click the Source tab, and you’ll see Eclipse has coded the GUI components in Java for us. "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            292,
            898,
            563
        ],
        "page_idx": 79
    },
    {
        "type": "text",
        "text": "Notice that the new variable names you gave the text field (txtGuess) and output label (lblOutput) are both visible in the source code. Now is a good time to save the file with all the changes you’ve made so far. ",
        "bbox": [
            230,
            626,
            867,
            680
        ],
        "page_idx": 79
    },
    {
        "type": "text",
        "text": "But before we start writing the code for the guessing game app, we’re going to make an adjustment to the source code. ",
        "bbox": [
            230,
            680,
            876,
            717
        ],
        "page_idx": 79
    },
    {
        "type": "text",
        "text": "Connecting the GUI to Your Java Code ",
        "text_level": 1,
        "bbox": [
            232,
            735,
            563,
            758
        ],
        "page_idx": 79
    },
    {
        "type": "text",
        "text": "Scroll up to the top of the GuessingGame class, and you’ll see that Eclipse has declared the JTextField txtGuess right at the top of the GuessingGame class: ",
        "bbox": [
            230,
            762,
            886,
            800
        ],
        "page_idx": 79
    },
    {
        "type": "text",
        "text": "public class GuessingGame extends JFrame { private JTextField txtGuess; ",
        "bbox": [
            232,
            815,
            591,
            846
        ],
        "page_idx": 79
    },
    {
        "type": "text",
        "text": "Eclipse does this for text fields by default for a reason. Declaring text fields at the top level of the class makes it possible to access the text field (to see if the user’s guess is too high or too low, for example) from ",
        "bbox": [
            230,
            866,
            875,
            921
        ],
        "page_idx": 79
    },
    {
        "type": "page_number",
        "text": "56 ",
        "bbox": [
            91,
            950,
            113,
            965
        ],
        "page_idx": 79
    },
    {
        "type": "footer",
        "text": "Chapter 3 ",
        "bbox": [
            134,
            951,
            194,
            965
        ],
        "page_idx": 79
    },
    {
        "type": "text",
        "text": "anywhere inside the class. Text fields are usually used in this way, so Eclipse declares a private JTextField txtGuess right at the top of the GuessingGame class instead of in a method or function further down in the class. The modifier private is used as an object-oriented programming best practice (a recommended way of doing things). Making something private keeps other classes from being able to see that part of the code. Since txtGuess is private, classes other than GuessingGame won’t be able to access it or accidentally change the txtGuess variable, which is what we want. ",
        "bbox": [
            236,
            63,
            888,
            205
        ],
        "page_idx": 80
    },
    {
        "type": "text",
        "text": "In this guessing game app, we want to be able to access the value the user enters into the txtGuess text field, so it’s great that Eclipse has declared it at the top level of the class. We also want to access the label lblOutput to be able to change the text displayed to the user (when their guess is too high, too low, or correct). So we need to add one more declaration to the top of the class, right under the declaration of txtGuess: ",
        "bbox": [
            236,
            208,
            902,
            316
        ],
        "page_idx": 80
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public class GuessingGame extends JFrame { private JTextField txtGuess; private JLabel lb1Output; ",
        "guess_lang": "java",
        "bbox": [
            238,
            331,
            601,
            381
        ],
        "page_idx": 80
    },
    {
        "type": "text",
        "text": "This line of code declares lblOutput as a variable that refers to a JLabel object in the GUI layout for the app. We’ve chosen to make this object reference private to hide this data from outside programs, but we’ll still be able to use it throughout the GuessingGame class. ",
        "bbox": [
            236,
            397,
            906,
            471
        ],
        "page_idx": 80
    },
    {
        "type": "text",
        "text": "One final change is to correct the line where lblOutput was originally declared, down near the bottom of the class. Find the line that looks like this, further down in the code: ",
        "bbox": [
            236,
            471,
            878,
            524
        ],
        "page_idx": 80
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "JLabel lblOutput = new JLabel(\"Enter a number above and click Guess!\"); ",
        "guess_lang": "txt",
        "bbox": [
            271,
            540,
            876,
            558
        ],
        "page_idx": 80
    },
    {
        "type": "text",
        "text": "And change it to this: ",
        "bbox": [
            273,
            576,
            470,
            594
        ],
        "page_idx": 80
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "lblOutput = new JLabel(\"Enter a number above and click Guess!\"); ",
        "guess_lang": "txt",
        "bbox": [
            271,
            611,
            817,
            629
        ],
        "page_idx": 80
    },
    {
        "type": "text",
        "text": "Notice we’ve removed the additional JLabel declaration. If you leave this second JLabel declaration in the program, your app won’t work because you’ve already declared lblOutput to be of type JLabel at the top of your class. If you leave the second JLabel declaration, Java will think you mean to have two separate JLabel objects named lblOutput. By removing the second JLabel declaration, you’re telling Java to use the one JLabel lblOutput you’ve created at the top of the program and initialize it with a text value of \"Enter a number above and click Guess!\". ",
        "bbox": [
            236,
            647,
            904,
            788
        ],
        "page_idx": 80
    },
    {
        "type": "text",
        "text": "While we’re declaring variables at the top level of the GuessingGame class, let’s add one more important variable: theNumber. Remember in the textbased version of the game, this is what we named the secret, random number the user is trying to guess. Add a declaration for theNumber after txtGuess and lblOutput as follows: ",
        "bbox": [
            236,
            791,
            898,
            881
        ],
        "page_idx": 80
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public class GuessingGame extends JFrame { private JTextField txtGuess; ",
        "guess_lang": "java",
        "bbox": [
            238,
            897,
            599,
            929
        ],
        "page_idx": 80
    },
    {
        "type": "footer",
        "text": "Creating a GUI for Our Guessing Game ",
        "bbox": [
            642,
            953,
            863,
            966
        ],
        "page_idx": 80
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            884,
            950,
            904,
            963
        ],
        "page_idx": 80
    },
    {
        "type": "text",
        "text": "Now that our variables are correctly declared at the top of the class, we’re ready to begin coding the GUI version of the guessing game app. In the next section, you’ll learn how we can get the user’s guess from the GUI text field and check to see if it’s too high or too low. We’ll also show the output text in the GUI label lblOutput to help the user make their next guess. ",
        "bbox": [
            230,
            114,
            896,
            205
        ],
        "page_idx": 81
    },
    {
        "type": "text",
        "text": "Adding a Method to Check the Player’s Guess ",
        "text_level": 1,
        "bbox": [
            125,
            235,
            696,
            259
        ],
        "page_idx": 81
    },
    {
        "type": "text",
        "text": "Now that the GUI is wired to the Java source code with the private variables we added, txtGuess and lblOutput, we’ll begin coding the logic of the guessing game. ",
        "bbox": [
            230,
            267,
            896,
            321
        ],
        "page_idx": 81
    },
    {
        "type": "text",
        "text": "Let’s write a method called checkGuess() near the top of the GuessingGame class. The signature, or skeleton, of this method will look like this: ",
        "bbox": [
            230,
            322,
            890,
            357
        ],
        "page_idx": 81
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public class GuessingGame extends JFrame { private JTextField txtGuess; private JLabel lblOutput; private int theNumber; public void checkGuess() { } ",
        "guess_lang": "java",
        "bbox": [
            234,
            373,
            591,
            469
        ],
        "page_idx": 81
    },
    {
        "type": "text",
        "text": "Notice that the method is declared as public. Variables in a class are usually declared as private, but methods or functions that operate on those variables are usually declared as public so other classes can call on them. You can think of it like your checking account. Your balance is private and can only be accessed by you or the bank, but the function of making deposits is public (other people can deposit money into your account). ",
        "bbox": [
            230,
            487,
            875,
            612
        ],
        "page_idx": 81
    },
    {
        "type": "text",
        "text": "The second term, void, tells Java that we’re not expecting a return value, which is a value that a function or method outputs, from this function. For example, a conversion calculator for Fahrenheit to Celsius called convertFtoC() could take a value representing a temperature in Fahrenheit and return a numeric value representing the converted temperature in Celsius. In this guessing game application, the checkGuess() method will not return information like this to the rest of the program. Instead, we’re going to program the app to display information to the user through the graphical user interface, so we use the void return type, which doesn’t return a value. ",
        "bbox": [
            230,
            614,
            898,
            776
        ],
        "page_idx": 81
    },
    {
        "type": "text",
        "text": "Finally, we’ve named the method checkGuess() and provided the opening and closing braces that will contain the code that tells the program how we want to check a user’s guess. ",
        "bbox": [
            230,
            777,
            898,
            831
        ],
        "page_idx": 81
    },
    {
        "type": "header",
        "text": "private JLabel lblOutput; private int theNumber; ",
        "bbox": [
            265,
            64,
            482,
            96
        ],
        "page_idx": 81
    },
    {
        "type": "page_number",
        "text": "58 ",
        "bbox": [
            91,
            950,
            113,
            965
        ],
        "page_idx": 81
    },
    {
        "type": "footer",
        "text": "Chapter 3 ",
        "bbox": [
            136,
            951,
            192,
            965
        ],
        "page_idx": 81
    },
    {
        "type": "text",
        "text": "Getting Text from a JTextField ",
        "text_level": 1,
        "bbox": [
            240,
            63,
            503,
            85
        ],
        "page_idx": 82
    },
    {
        "type": "text",
        "text": "Let’s start building the checkGuess() method, which will take the string the user enters and check it against the number to guess. Add this line between the two braces for the checkGuess() method: ",
        "bbox": [
            236,
            91,
            898,
            144
        ],
        "page_idx": 82
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public void checkGuess() { String guessText = txtGuess.getText(); } ",
        "guess_lang": "java",
        "bbox": [
            271,
            160,
            630,
            208
        ],
        "page_idx": 82
    },
    {
        "type": "text",
        "text": "This line creates a new String variable called guessText that will hold the number the user enters into the GUI text field. To get the text the user entered, we’ll need to use the getText() method by calling txtGuess.getText() and storing the result in the new string variable called guessText. ",
        "bbox": [
            236,
            228,
            898,
            300
        ],
        "page_idx": 82
    },
    {
        "type": "text",
        "text": "You may see a window pop up near where you’re typing when you add the dot operator (.) after txtGuess, as shown in Figure 3-17. ",
        "bbox": [
            236,
            301,
            884,
            336
        ],
        "page_idx": 82
    },
    {
        "type": "image",
        "img_path": "images/2d49087bfbd2203a4ec08c713114c8ad11777484cafa418bc67f57baa5d696fc.jpg",
        "image_caption": [
            "Figure 3-17: After you type txtGuess and the dot operator (.), you may see a helpful code recommendation window appear. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            348,
            793,
            496
        ],
        "page_idx": 82
    },
    {
        "type": "text",
        "text": "This is known as a content assist—Eclipse is trying to help by suggesting lines of code to finish the statement you’re working on. This particular kind of content assist is also called a code recommender, because it recommends common code options, like methods in the current class or object. Code recommendation is one feature that makes Eclipse a powerful IDE for professional Java developers. It’s not only faster in most cases to select a code recommender suggestion, but doing so also helps prevent errors and makes coders more efficient as they develop complex applications. ",
        "bbox": [
            236,
            558,
            902,
            702
        ],
        "page_idx": 82
    },
    {
        "type": "text",
        "text": "Now, we need to create a string to hold the message telling the user whether their guess was too high, too low, or correct. Let’s declare one additional string: ",
        "bbox": [
            236,
            702,
            880,
            758
        ],
        "page_idx": 82
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "public void checkGuess() { String guessText $=$ txtGuess.getText(); String message $=$ \"\";   \n} ",
        "bbox": [
            271,
            771,
            630,
            837
        ],
        "page_idx": 82
    },
    {
        "type": "text",
        "text": "We don’t know yet whether the user’s guess is too high or too low, so we’ve initialized message to an empty string with a pair of double quotes (\"\"). ",
        "bbox": [
            236,
            855,
            888,
            891
        ],
        "page_idx": 82
    },
    {
        "type": "footer",
        "text": "Creating a GUI for Our Guessing Game ",
        "bbox": [
            642,
            951,
            861,
            966
        ],
        "page_idx": 82
    },
    {
        "type": "page_number",
        "text": "59 ",
        "bbox": [
            884,
            948,
            904,
            963
        ],
        "page_idx": 82
    },
    {
        "type": "text",
        "text": "After we test the user’s guess against the random number, or theNumber, we’ll update this string with more information before we output it in the GUI label. To test the user’s guess, we’ll need to turn their text entry, currently stored in guessText, into numeric form so that we can compare it to theNumber. ",
        "bbox": [
            230,
            64,
            886,
            136
        ],
        "page_idx": 83
    },
    {
        "type": "text",
        "text": "Converting Strings to Numbers ",
        "text_level": 1,
        "bbox": [
            232,
            154,
            501,
            177
        ],
        "page_idx": 83
    },
    {
        "type": "text",
        "text": "In the text-based version of this app we made in Chapter 2, we used a Scanner object to scan a number value from the keyboard text the user entered. A scanner could work in a GUI, but there’s a more compact way to do this that will work better for this version. ",
        "bbox": [
            230,
            183,
            867,
            253
        ],
        "page_idx": 83
    },
    {
        "type": "text",
        "text": "Just like the Math class had Math.random() so that we could generate a random number, there is also a class for working with integers, called Integer. The Integer class has several functions that are useful for working with whole numbers, including a method to look for integers in strings of text, Integer.parseInt(). Enter the following line below String message = I I ",
        "bbox": [
            230,
            255,
            880,
            345
        ],
        "page_idx": 83
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "public void checkGuess() { String guessText $=$ txtGuess.getText(); String message $=$ \"\"; int guess $=$ Integer.parseInt(guessText);   \n} ",
        "bbox": [
            265,
            360,
            642,
            441
        ],
        "page_idx": 83
    },
    {
        "type": "text",
        "text": "First, this line declares guess to be an integer variable. Then, it searches for, or parses, an integer from the text the user entered. For example, the string \"50\" will become the number 50. Finally, it stores the number in the variable guess. We need the numeric version of the user’s guess in order to compare it to theNumber, using the comparison operators < and >. ",
        "bbox": [
            230,
            459,
            894,
            549
        ],
        "page_idx": 83
    },
    {
        "type": "text",
        "text": "With the user’s guess stored in the variable guess, we’re ready to test it against the computer’s secret, random number theNumber. We haven’t actually programmed theNumber to hold a value yet, but we’ll do that soon. Comparing the guess with theNumber will look like it did in the text-based version of the game, except we won’t print to the console using System.out.println(). Instead, we’ll store output for the user in the string variable message that we created: ",
        "bbox": [
            230,
            549,
            898,
            659
        ],
        "page_idx": 83
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "String guessText = txtGuess.getText();  \nString message = \"\";  \nint guess = Integer.parseInt(guessText);  \nif (guess < theNumber)  \n    message = guess + \" is too low. Try again.\";  \nelse if (guess > theNumber)  \n    message = guess + \" is too high. Try again.\";  \nelse  \n    message = guess + \" is correct. You win!\"; ",
        "guess_lang": "txt",
        "bbox": [
            265,
            674,
            718,
            831
        ],
        "page_idx": 83
    },
    {
        "type": "text",
        "text": "Notice the three if-else statements are virtually identical to those in the text-based version of the game, except that we’re storing the output message (too high, too low, or correct) in a variable instead of outputting it directly to the console window. We still need to show message to the ",
        "bbox": [
            230,
            851,
            880,
            924
        ],
        "page_idx": 83
    },
    {
        "type": "page_number",
        "text": "60 ",
        "bbox": [
            91,
            950,
            113,
            963
        ],
        "page_idx": 83
    },
    {
        "type": "footer",
        "text": "Chapter 3 ",
        "bbox": [
            136,
            951,
            192,
            965
        ],
        "page_idx": 83
    },
    {
        "type": "text",
        "text": "user, so we’ll do that using the lblOutput GUI label. We’ll use the setText() method like so: ",
        "bbox": [
            236,
            61,
            898,
            97
        ],
        "page_idx": 84
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "else message $=$ guess $^+$ \"is correct.You win!\"; lb1Output.setText(message);   \n} ",
        "bbox": [
            271,
            115,
            700,
            180
        ],
        "page_idx": 84
    },
    {
        "type": "text",
        "text": "This command will show the output message to the user in the GUI window by changing the text property of the JLabel called lblOutput to the correct String variable message based on the user’s guess. ",
        "bbox": [
            236,
            196,
            882,
            252
        ],
        "page_idx": 84
    },
    {
        "type": "text",
        "text": "Your completed checkGuess() code should look like the following: ",
        "bbox": [
            271,
            252,
            839,
            271
        ],
        "page_idx": 84
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "public void checkGuess() { String guessText $=$ txtGuess.getText(); String message $=$ \"\"; int guess $=$ Integer.parseInt(guessText); if (guess < theNumber) message $=$ guess $^+$ \" is too low. Try again.\"; else if (guess > theNumber) message $=$ guess $^+$ \" is too high. Try again.\"; else message $=$ guess $^+$ \" is correct. You win!\"; lb1Output.setText(message);   \n} ",
        "bbox": [
            271,
            285,
            726,
            478
        ],
        "page_idx": 84
    },
    {
        "type": "text",
        "text": "Next, we need to write the code that assigns a random value to theNumber. We’ll use the newGame() method, because we want to have a new random number every time the user begins a new game. ",
        "bbox": [
            236,
            495,
            876,
            551
        ],
        "page_idx": 84
    },
    {
        "type": "text",
        "text": "Starting a New Game ",
        "text_level": 1,
        "bbox": [
            130,
            582,
            410,
            605
        ],
        "page_idx": 84
    },
    {
        "type": "text",
        "text": "We want to tell the computer to pick a new, secret, random number whenever a new round of the guessing game starts, so it makes sense to do this in a method in the GuessingGame class. By doing it this way, we’ll be able to call on the method every time the user wins and wants to play a new game. ",
        "bbox": [
            236,
            612,
            902,
            684
        ],
        "page_idx": 84
    },
    {
        "type": "text",
        "text": "The method signature of the newGame() method looks similar to the checkGuess() method. Place it just after the closing brace for checkGuess() and before public GuessingGame(): ",
        "bbox": [
            236,
            684,
            904,
            738
        ],
        "page_idx": 84
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "lblOutput.setText(message);   \npublic void newGame(){   \npublic GuessingGame() { ",
        "guess_lang": "java",
        "bbox": [
            271,
            753,
            539,
            837
        ],
        "page_idx": 84
    },
    {
        "type": "text",
        "text": "We’ll make this method public so that it can be called from an outside class. We also need to let Java know that just like the checkGuess() method, this method has no information that needs to be returned, so its return type is void. Finally, the method’s name is newGame, and it includes open and ",
        "bbox": [
            236,
            852,
            896,
            927
        ],
        "page_idx": 84
    },
    {
        "type": "footer",
        "text": "Creating a GUI for Our Guessing Game ",
        "bbox": [
            644,
            951,
            863,
            966
        ],
        "page_idx": 84
    },
    {
        "type": "page_number",
        "text": "61 ",
        "bbox": [
            884,
            950,
            904,
            965
        ],
        "page_idx": 84
    },
    {
        "type": "text",
        "text": "close parentheses, (). The method body is empty right now, with nothing between the braces, but we’ll address that next. ",
        "bbox": [
            230,
            64,
            871,
            99
        ],
        "page_idx": 85
    },
    {
        "type": "text",
        "text": "A new game in this app just means that we’re telling the computer to pick a new random number. The code to assign this random value to theNumber will look and function like it did in the text-based version of the game, except now we’re putting this code inside its own, separate method. So, the finished newGame() method should look like this: ",
        "bbox": [
            230,
            100,
            880,
            190
        ],
        "page_idx": 85
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "public void newGame() { theNumber $=$ (int)(Math.random( $\\text{一}$ 100 + 1); ",
        "bbox": [
            265,
            205,
            666,
            253
        ],
        "page_idx": 85
    },
    {
        "type": "text",
        "text": "That’s it! Now we have all the necessary pieces in place to build a functional guessing game app, so we just have to connect them to the GUI interface. Once the app can listen for user events so it can respond to the user clicking the “Guess!” button, we’ll be ready to run the game! ",
        "bbox": [
            230,
            274,
            896,
            346
        ],
        "page_idx": 85
    },
    {
        "type": "text",
        "text": "Listening for User Events: Click to Guess! ",
        "text_level": 1,
        "bbox": [
            125,
            376,
            628,
            400
        ],
        "page_idx": 85
    },
    {
        "type": "text",
        "text": "The last step we need to complete before running the app is to connect the btnGuess button (labeled “Guess!”) with the function that checks the user’s guess, checkGuess(). With Java, we can use event listeners to do this. Event listeners are just code that tells the program to wait, or listen, for user interaction events, like button clicks, mouse movement, or keyboard entries. ",
        "bbox": [
            230,
            409,
            892,
            496
        ],
        "page_idx": 85
    },
    {
        "type": "text",
        "text": "Go back to the GUI preview of the app by clicking on the Design tab. In the GUI preview window, find the “Guess!” button, as shown in Figure 3-18, and double-click it. ",
        "bbox": [
            230,
            500,
            898,
            552
        ],
        "page_idx": 85
    },
    {
        "type": "image",
        "img_path": "images/db336adfcf21fba9d0262451ed2939c4ecbfc30a7beeb428a1171275915fce06.jpg",
        "image_caption": [
            "Figure 3-18: In the Design view, double-click the “Guess!” button to add an event listener to the code. "
        ],
        "image_footnote": [],
        "bbox": [
            91,
            564,
            896,
            873
        ],
        "page_idx": 85
    },
    {
        "type": "page_number",
        "text": "62 ",
        "bbox": [
            91,
            950,
            113,
            965
        ],
        "page_idx": 85
    },
    {
        "type": "footer",
        "text": "Chapter 3 ",
        "bbox": [
            134,
            951,
            192,
            965
        ],
        "page_idx": 85
    },
    {
        "type": "text",
        "text": "Double-clicking the “Guess!” button automatically opens the Source tab, where you’ll notice Eclipse has added new code. This new code is the skeleton of an event listener—in this case, an ActionListener() for the event that occurs when the user takes an action on the JButton btnGuess. In this case, the action is clicking the button. ",
        "bbox": [
            236,
            63,
            904,
            151
        ],
        "page_idx": 86
    },
    {
        "type": "text",
        "text": "Eclipse has added everything except the action we want to perform when the user clicks the button. Let’s take a look at the event listener code Eclipse has created for us. ",
        "bbox": [
            236,
            154,
            890,
            207
        ],
        "page_idx": 86
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "JButton btnGuess = new JButton(\"Guess!\");  \n1 botnGuess.addActionListener(new 2ActionListener() { public void actionPerformed(ActionEvent e) { }）; btnGuess.setBounds(172，149，89，23); getContentPane().add(btnGuess); ",
        "guess_lang": "java",
        "bbox": [
            285,
            223,
            740,
            336
        ],
        "page_idx": 86
    },
    {
        "type": "text",
        "text": "The event listener for an ActionListener(), the specific listener that handles button clicks, is connected to btnGuess with the addActionListener() method at $\\bullet$ . The next couple of lines of code are all built inside the parentheses for the addActionListener() function. ",
        "bbox": [
            236,
            354,
            902,
            424
        ],
        "page_idx": 86
    },
    {
        "type": "text",
        "text": "Inside the addActionListener() method, the first thing we see is the keyword new, letting us know that Eclipse is creating a new object of the ActionListener class at v. What makes this new object different from the ones we’ve seen in the past, though, is that it’s an anonymous inner class, meaning that it doesn’t have a variable that refers to it and it’s created entirely inside the GuessingGame class. Anonymous inner classes can help us code faster since we don’t need to build a completely separate class to handle short, quick events like a button click. Instead, we can insert the code for an event handler right where we create the button. In this case, the ActionListener will be listening for just a button click, so it’s a perfect candidate for an anonymous inner class. ",
        "bbox": [
            236,
            426,
            902,
            621
        ],
        "page_idx": 86
    },
    {
        "type": "text",
        "text": "Eclipse creates the skeleton for the anonymous inner class, but we still need to code the button’s behavior. This next section of code will go inside the braces of the actionPerformed() method at $\\otimes$ . The actionPerformed() method is where we describe what we want the app to do when the user has clicked btnGuess. The method accepts an ActionEvent as an argument, which is the event, or user action, the listener is listening for. In this case we’ve named the ActionEvent e, but you can use any variable name you’d like. When the user enters a guess and clicks the “Guess!” button, that action is assigned to e, and we need to check their guess with the checkGuess() method we created earlier: ",
        "bbox": [
            236,
            624,
            884,
            801
        ],
        "page_idx": 86
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "btnGuess.addActionListener(new ActionListener() { public void actionPerformed(ActionEvent e) { checkGuess(); } }); ",
        "guess_lang": "java",
        "bbox": [
            305,
            819,
            726,
            900
        ],
        "page_idx": 86
    },
    {
        "type": "footer",
        "text": "Creating a GUI for Our Guessing Game ",
        "bbox": [
            642,
            951,
            861,
            966
        ],
        "page_idx": 86
    },
    {
        "type": "page_number",
        "text": "63 ",
        "bbox": [
            884,
            950,
            904,
            963
        ],
        "page_idx": 86
    },
    {
        "type": "text",
        "text": "Thanks to Eclipse, the only part we had to add was the checkGuess(); command. The automatic code completion feature has saved us time and helped us avoid typographical errors. ",
        "bbox": [
            232,
            64,
            873,
            117
        ],
        "page_idx": 87
    },
    {
        "type": "text",
        "text": "With this section of code in place, now we just need to tell the app what to do on startup. Take a moment to save your work so far. ",
        "bbox": [
            232,
            118,
            892,
            154
        ],
        "page_idx": 87
    },
    {
        "type": "text",
        "text": "Setting Up the GU I Window ",
        "text_level": 1,
        "bbox": [
            125,
            190,
            474,
            214
        ],
        "page_idx": 87
    },
    {
        "type": "text",
        "text": "Before we run the game for the first time, we need to tell the program what to do to set up the GUI window. This includes building the GUI interface, starting a new game by calling the newGame() method, and setting the desired width and height dimensions of the window. ",
        "bbox": [
            230,
            226,
            892,
            298
        ],
        "page_idx": 87
    },
    {
        "type": "text",
        "text": "Inside the braces for the main() method near the bottom of the file, add the following lines of code: ",
        "bbox": [
            232,
            298,
            892,
            334
        ],
        "page_idx": 87
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public static void main(String[] args) { 1 GuessingGame theGame = new GuessingGame(); 2 theGame.newGame(); } ",
        "guess_lang": "java",
        "bbox": [
            234,
            349,
            658,
            435
        ],
        "page_idx": 87
    },
    {
        "type": "text",
        "text": "The line of code at $\\bullet$ creates a new GuessingGame called theGame. The line at $\\bullet$ will start the guessing game with a new random number. ",
        "bbox": [
            232,
            454,
            892,
            490
        ],
        "page_idx": 87
    },
    {
        "type": "text",
        "text": "Now, let’s give Java an idea of the size we want the window to be. For a GUI desktop app, we can specify the size of the frame for the app using the setSize() method, entering the width and height of the window we want to create. ",
        "bbox": [
            230,
            492,
            890,
            561
        ],
        "page_idx": 87
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public static void main(String[] args) { GuessingGame theGame = new GuessingGame(); theGame新的一Game(); theGame.setSize(new Dimension(450,300));",
        "guess_lang": "java",
        "bbox": [
            265,
            582,
            658,
            647
        ],
        "page_idx": 87
    },
    {
        "type": "text",
        "text": "The setSize() method requires a parameter of the Dimension type that’s built into the java.awt library (.awt is short for abstract window toolkit). The new Dimension() inside the parentheses for setSize() tells Java to create an object of type Dimension with width and height parameters of 450 pixels wide by 300 pixels tall. But we haven’t imported the java.awt library yet, which means Eclipse doesn’t know what Dimension refers to, so your Eclipse editor will tell you there’s an error with this statement by underlining the class name Dimension in red. If you click the word Dimension in the editor, Eclipse shows you a list of Quick Fix options, as shown in Figure 3-19. (If you aren’t able to get the Quick Fix pop-up to display, press ctrl-1 or $\\pmb { \\mathcal { H } } _ { - 1 }$ after placing your cursor in Dimension.) ",
        "bbox": [
            230,
            668,
            884,
            867
        ],
        "page_idx": 87
    },
    {
        "type": "page_number",
        "text": "64 ",
        "bbox": [
            91,
            950,
            113,
            963
        ],
        "page_idx": 87
    },
    {
        "type": "footer",
        "text": "Chapter 3 ",
        "bbox": [
            136,
            951,
            192,
            965
        ],
        "page_idx": 87
    },
    {
        "type": "image",
        "img_path": "images/84d5a3da39590e7886b9dcb9f12a096c779be5483d086114f4616817c8ecf59d.jpg",
        "image_caption": [
            "Figure 3-19: Eclipse recommends Quick Fix options for the new code we’ve entered; choose the top option to import the correct class. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            64,
            890,
            160
        ],
        "page_idx": 88
    },
    {
        "type": "text",
        "text": "We want to make use of the Dimension class that’s already provided in the java.awt package, so the topmost Quick Fix option, Import 'Dimension' ( java.awt), is the right one for this situation. Click it, and Eclipse will add java.awt.Dimension to the list of imported classes at the top of the file. ",
        "bbox": [
            236,
            219,
            898,
            292
        ],
        "page_idx": 88
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "import javax.swing JFrame;  \nimport javax.swing.JLabel;  \nimport javax.swing.SwingConstants;  \nimport java.awt.Dimension;  \nimport java.awt.Font;  \nimport javax.swing.JTextField; ",
        "guess_lang": "java",
        "bbox": [
            238,
            307,
            529,
            403
        ],
        "page_idx": 88
    },
    {
        "type": "text",
        "text": "Finally, add this line to the main() method to make the app visible on the screen: ",
        "bbox": [
            238,
            421,
            876,
            456
        ],
        "page_idx": 88
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "theGame.setSize(new Dimension(450,300)); theGame.setVisible(true); } ",
        "guess_lang": "javascript",
        "bbox": [
            273,
            474,
            648,
            522
        ],
        "page_idx": 88
    },
    {
        "type": "text",
        "text": "This command calls the setVisible() method on the GuessingGame object theGame. Remember, GuessingGame extended the class JFrame, so theGame is also a descendent of the JFrame parent class. We want to set the visible property of the main JFrame holding the GUI version of the guessing game to true, which is a Boolean value. ",
        "bbox": [
            236,
            540,
            894,
            630
        ],
        "page_idx": 88
    },
    {
        "type": "text",
        "text": "There are only two Boolean values, true and false (both spelled with all lowercase letters), and these are used in Boolean expressions. Boolean expressions are any set of arguments that can be evaluated to true or false. The if statements we used in the checkGuess() method, like the expression (guess < theNumber), are just one example we’ve already seen. When we evaluate this expression and check whether guess is less than theNumber, the expression evaluates to either true (meaning guess is less than theNumber) or false (guess is not less than theNumber). The result of that Boolean expression determines whether the statement following the if statement will run. ",
        "bbox": [
            236,
            630,
            904,
            792
        ],
        "page_idx": 88
    },
    {
        "type": "text",
        "text": "The complete main() method for the GuessingGame class is as follows: ",
        "bbox": [
            273,
            794,
            855,
            812
        ],
        "page_idx": 88
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public static void main(String[] args) { GuessingGame theGame = new GuessingGame(); theGame新开Game(); theGame.setSize(new Dimension(450,300)); theGame.setVisible(true); } ",
        "guess_lang": "java",
        "bbox": [
            271,
            828,
            664,
            923
        ],
        "page_idx": 88
    },
    {
        "type": "footer",
        "text": "Creating a GUI for Our Guessing Game ",
        "bbox": [
            642,
            951,
            861,
            966
        ],
        "page_idx": 88
    },
    {
        "type": "page_number",
        "text": "65 ",
        "bbox": [
            884,
            948,
            904,
            963
        ],
        "page_idx": 88
    },
    {
        "type": "text",
        "text": "Time to Play! ",
        "text_level": 1,
        "bbox": [
            126,
            64,
            291,
            85
        ],
        "page_idx": 89
    },
    {
        "type": "text",
        "text": "With your code complete, now is a good time to save the GuessingGame.java file. Once you’ve done so, click the run button or select Run4Run from the menu. The game window will appear. ",
        "bbox": [
            230,
            94,
            898,
            148
        ],
        "page_idx": 89
    },
    {
        "type": "text",
        "text": "Try entering some guesses and see if the app works. While you’re playing the game, check each component to make sure it works. Make sure to test the “Guess!” button, the label at the bottom, and the text field. If you spot problems, go back and check your code. Pay attention to when or where the error occurs to narrow down the source. You’ll get better at finding errors as you learn to code. Figure 3-20 shows how the app might look when it’s working properly. ",
        "bbox": [
            230,
            148,
            896,
            276
        ],
        "page_idx": 89
    },
    {
        "type": "image",
        "img_path": "images/b551641c6eede9ec6faa835f9e75fcc9cad082802a1e9df5346b3b41187b6294.jpg",
        "image_caption": [
            "Figure 3-20: The “Guess!” button works! "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            286,
            611,
            478
        ],
        "page_idx": 89
    },
    {
        "type": "text",
        "text": "When your game is playable all the way through, you’re ready to take the next step. ",
        "bbox": [
            232,
            525,
            869,
            561
        ],
        "page_idx": 89
    },
    {
        "type": "text",
        "text": "Right now, the game is playable, but only until you win. The current version of the app doesn’t have the code to tell Java to start a new game every time we win the current one. ",
        "bbox": [
            230,
            561,
            863,
            614
        ],
        "page_idx": 89
    },
    {
        "type": "text",
        "text": "First, let’s set it up so we can keep playing the game even after we win once, and then we’ll make a few tweaks to the user interface to provide a better user experience. ",
        "bbox": [
            230,
            615,
            875,
            669
        ],
        "page_idx": 89
    },
    {
        "type": "text",
        "text": "Adding a Play Again Feature ",
        "text_level": 1,
        "bbox": [
            125,
            702,
            490,
            725
        ],
        "page_idx": 89
    },
    {
        "type": "text",
        "text": "Just like we did in the first text-based version of the game, let’s add a play again feature. We created a newGame() method already, but we only called that method when setting up the game for its initial display in the main() method of the app. ",
        "bbox": [
            230,
            732,
            869,
            804
        ],
        "page_idx": 89
    },
    {
        "type": "text",
        "text": "We need to either change the GUI or change the app behavior. We could add a Play Again button for the user to click when they want to play another round, or we could just make the app automatically start a new game every time the user wins. ",
        "bbox": [
            230,
            806,
            876,
            876
        ],
        "page_idx": 89
    },
    {
        "type": "text",
        "text": "The benefit of adding a Play Again button is that it would be easy to understand from the user’s perspective. However, we wouldn’t want the Play Again button to be visible in the GUI window all the time, because it’s ",
        "bbox": [
            230,
            876,
            871,
            932
        ],
        "page_idx": 89
    },
    {
        "type": "page_number",
        "text": "66 ",
        "bbox": [
            91,
            950,
            113,
            963
        ],
        "page_idx": 89
    },
    {
        "type": "footer",
        "text": "Chapter 3 ",
        "bbox": [
            134,
            951,
            192,
            965
        ],
        "page_idx": 89
    },
    {
        "type": "text",
        "text": "needed only when the user wins. One option would be to add a button but make it invisible while the game is running, having it become visible only when the user wins. In order to keep our game simple, we won’t do this here, but if you’re interested in trying it out, see Programming Challenge #2 on page 73. ",
        "bbox": [
            236,
            63,
            894,
            151
        ],
        "page_idx": 90
    },
    {
        "type": "text",
        "text": "Instead of adding a button, let’s change the app’s behavior so that a new number is picked automatically after the user wins the current round. This requires changing only one section of the program, the else statement that handles a guess matching the random number. If the user has won a round, a new round should begin automatically. This makes intuitive sense—no extra buttons, no decisions to make. If the player decides they’re done playing, they can simply close the window. We’ll add this behavior by changing the following lines: ",
        "bbox": [
            236,
            153,
            898,
            297
        ],
        "page_idx": 90
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "else message $=$ guess $^+$ \"is correct.You win!\"; ",
        "bbox": [
            305,
            313,
            698,
            346
        ],
        "page_idx": 90
    },
    {
        "type": "text",
        "text": "We’ll call newGame() to start a new game. To add the call to the newGame() method inside this else statement, we’ll group two statements (setting the variable message and calling newGame()) together as one block like so: ",
        "bbox": [
            236,
            364,
            890,
            418
        ],
        "page_idx": 90
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "else{ message $=$ guess $^+$ \"is correct.You win! Let's play again!\"; newGame();   \n} ",
        "bbox": [
            305,
            435,
            765,
            515
        ],
        "page_idx": 90
    },
    {
        "type": "text",
        "text": "The braces group these two statements as a single block of code to be executed together whenever the else statement is selected as the correct program path. Without the braces, only the first line after the else statement would be executed, and the newGame() method would run after the if-else statements are evaluated. This would make the game change the secret number every time the user tried to guess. ",
        "bbox": [
            236,
            534,
            884,
            642
        ],
        "page_idx": 90
    },
    {
        "type": "text",
        "text": "Notice also that we added Let's play again! to the end of the message string. This lets the user know that they’re able to play again just by guessing and can expect the computer to pick a new number each round. Make these changes, save the program, and run it again to see the new version of the game! ",
        "bbox": [
            236,
            642,
            898,
            732
        ],
        "page_idx": 90
    },
    {
        "type": "text",
        "text": "Improving the UX ",
        "text_level": 1,
        "bbox": [
            130,
            764,
            357,
            788
        ],
        "page_idx": 90
    },
    {
        "type": "text",
        "text": "As you play the game, you may notice a few elements of gameplay that could make the user interface even better. For example, if we could have the app accept a new guess either when the user clicks the “Guess!” button or when they press enter from the keyboard, that would provide a more natural and intuitive user experience (UX). ",
        "bbox": [
            236,
            795,
            902,
            884
        ],
        "page_idx": 90
    },
    {
        "type": "text",
        "text": "One other problem is that when we want to guess a new number, we have to highlight and select the old number (or, alternatively, press the ",
        "bbox": [
            236,
            885,
            867,
            921
        ],
        "page_idx": 90
    },
    {
        "type": "footer",
        "text": "Creating a GUI for Our Guessing Game ",
        "bbox": [
            642,
            951,
            861,
            966
        ],
        "page_idx": 90
    },
    {
        "type": "page_number",
        "text": "67 ",
        "bbox": [
            884,
            948,
            904,
            963
        ],
        "page_idx": 90
    },
    {
        "type": "text",
        "text": "delete or backspace key) to clear the previous guess. We also have to click back into the text field, because the focus switches to the “Guess!” button. To improve the user interface, we could have the cursor return to the text field after each guess and automatically highlight or delete the previous guess’s text so that the new guess replaces the old one. ",
        "bbox": [
            230,
            64,
            880,
            154
        ],
        "page_idx": 91
    },
    {
        "type": "text",
        "text": "Let’s tackle these two items now. ",
        "bbox": [
            267,
            154,
            553,
            169
        ],
        "page_idx": 91
    },
    {
        "type": "text",
        "text": "Allowing Users to Press Enter to Guess ",
        "text_level": 1,
        "bbox": [
            232,
            190,
            571,
            213
        ],
        "page_idx": 91
    },
    {
        "type": "text",
        "text": "The first improvement we’ll make is to allow the user to press enter to submit their guess. First, go to the Design tab and right-click the “Guess!” button. In the pop-up menu, select Add event handler4action4 actionPerformed. ",
        "bbox": [
            230,
            219,
            865,
            289
        ],
        "page_idx": 91
    },
    {
        "type": "text",
        "text": "Just like when we created an event handler for btnGuess, Eclipse will automatically add the code to create an action listener for txtGuess, as shown in the following code snippet. And, just like we did before, we’ll add the checkGuess() method inside the braces of the actionPerformed() portion of this code. The only action event we usually want to handle from inside a text field is the user pressing the enter key. ",
        "bbox": [
            230,
            291,
            888,
            399
        ],
        "page_idx": 91
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "txtGuess.addActionListener(new ActionListener() { public void actionPerformed(ActionEvent e) { checkGuess(); } }); ",
        "guess_lang": "txt",
        "bbox": [
            299,
            414,
            718,
            496
        ],
        "page_idx": 91
    },
    {
        "type": "text",
        "text": "After you add this line, save the file and run it again. Now when we press the enter key, it activates the checkGuess() method. The “Guess!” button still works, so the user has their choice of interacting only by keyboard or with their mouse. ",
        "bbox": [
            230,
            513,
            863,
            584
        ],
        "page_idx": 91
    },
    {
        "type": "text",
        "text": "Automatically Removing Old Guesses ",
        "text_level": 1,
        "bbox": [
            232,
            605,
            555,
            627
        ],
        "page_idx": 91
    },
    {
        "type": "text",
        "text": "Now let’s solve the issue of having to click back into the text field to delete our old guesses. To address this, we’ll need to learn a couple of new methods for working with JTextField objects like txtGuess. ",
        "bbox": [
            230,
            633,
            890,
            684
        ],
        "page_idx": 91
    },
    {
        "type": "text",
        "text": "First we have to consider when we want text to be selected. For the guessing game, after the user’s guess is evaluated is probably the right time to enable the user to guess again. In the code, this would be at the end of the checkGuess() method, as we want it to occur after the user has made one guess and is ready to make another. ",
        "bbox": [
            230,
            687,
            888,
            776
        ],
        "page_idx": 91
    },
    {
        "type": "text",
        "text": "So, we know we need to add code inside the end of the checkGuess() method to place the cursor back into the txtGuess text field and select the text from the user’s previous guess. But how do we know which commands would place the cursor in the text field and select all the text? This is a great time to use the content assist feature in Eclipse. Type the name of the object, txtGuess, followed by the dot operator (.), and Eclipse will display a list of available methods, as shown in Figure 3-21. ",
        "bbox": [
            230,
            777,
            890,
            903
        ],
        "page_idx": 91
    },
    {
        "type": "page_number",
        "text": "68 ",
        "bbox": [
            91,
            950,
            113,
            963
        ],
        "page_idx": 91
    },
    {
        "type": "footer",
        "text": "Chapter 3 ",
        "bbox": [
            136,
            951,
            192,
            965
        ],
        "page_idx": 91
    },
    {
        "type": "image",
        "img_path": "images/2f35b1e8431c562cc68a59fa5e00d0b1ff275a767f38ee6390697a62adb5f46a.jpg",
        "image_caption": [
            "Figure 3-21: The content assist feature displays all the methods available for the JTextField txtGuess. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            64,
            894,
            220
        ],
        "page_idx": 92
    },
    {
        "type": "text",
        "text": "You’ll see that there are dozens of methods available for working with JTextFields like txtGuess, but the one we’re looking for is requestFocus(). The documentation for this function says, “Requests that this Component gets the input focus.” The focus in this case is the cursor. This method will do exactly what we want and request that the cursor be placed back in the text field every time the user guesses again. ",
        "bbox": [
            236,
            289,
            896,
            397
        ],
        "page_idx": 92
    },
    {
        "type": "text",
        "text": "Finally, we want to select all the text from the user’s previous guess so that their new guess will replace the old one automatically. To select all the text in a text field, use the selectAll() method, which is also listed in Eclipse’s content assist feature suggestions. Add both these lines to the end of the checkGuess() method, right after the line for lblOutput.setText(message); and right before the closing brace: ",
        "bbox": [
            236,
            397,
            898,
            506
        ],
        "page_idx": 92
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "lblOutput.setText(message); txtGuess.requestFocus(); txtGuess.selectAll();   \n} ",
        "guess_lang": "javascript",
        "bbox": [
            273,
            524,
            539,
            588
        ],
        "page_idx": 92
    },
    {
        "type": "text",
        "text": "Now is a good time to save your application. When you try running the game again, you should feel a much smoother, more intuitive user experience. The guessing game finally has an elegant, easy-to-use GUI that provides a simple UX. Our game is easy to play, but a challenge to master. It’s just like the games that we play for fun, but we’ve built this one from scratch, using Java and the Swing toolkit for a professional appearance. ",
        "bbox": [
            236,
            611,
            906,
            719
        ],
        "page_idx": 92
    },
    {
        "type": "text",
        "text": "Now, we have a great app all around, except for one important thing: security. You may ask, “What? Security? I thought we were just building a fun GUI game!” And that’s true—the program works beautifully, but only as long as the user enters their numbers correctly. ",
        "bbox": [
            236,
            719,
            888,
            789
        ],
        "page_idx": 92
    },
    {
        "type": "text",
        "text": "What happens if the user’s fingers slip and they press enter or click the “Guess!” button before they’ve typed their guess? What if they enter any noninteger text, like blah, as a guess? Figure 3-22 shows what happens in Eclipse when the user enters bad input. ",
        "bbox": [
            236,
            791,
            898,
            863
        ],
        "page_idx": 92
    },
    {
        "type": "footer",
        "text": "Creating a GUI for Our Guessing Game ",
        "bbox": [
            642,
            953,
            861,
            966
        ],
        "page_idx": 92
    },
    {
        "type": "page_number",
        "text": "69 ",
        "bbox": [
            884,
            950,
            904,
            963
        ],
        "page_idx": 92
    },
    {
        "type": "image",
        "img_path": "images/6772ef227739294d21fcd5ebda14393e9f714744e1df388cd63805c90603bb80.jpg",
        "image_caption": [
            "Figure 3-22: Bad things happen when the user enters bad data, like blah, in the text field. "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            64,
            898,
            259
        ],
        "page_idx": 93
    },
    {
        "type": "text",
        "text": "As you can see, our console window is now filled with errors. The bad input resulted in an exception—an unexpected or faulty programming situation. The first line of output in Figure 3-22 tells us there was a NumberFormatException because the string \"blah\" is not recognized as a number. You’ll need to learn how to handle exceptions in the programs you create. ",
        "bbox": [
            234,
            307,
            875,
            414
        ],
        "page_idx": 93
    },
    {
        "type": "text",
        "text": "Handling Bad User Input ",
        "text_level": 1,
        "bbox": [
            128,
            447,
            434,
            469
        ],
        "page_idx": 93
    },
    {
        "type": "text",
        "text": "Java provides a safe way of anticipating and dealing with exceptions, the bad things that can happen when a program runs. In addition to bad user input like we just discussed, exceptions can include missing files (a file gets deleted, or you remove a USB drive unexpectedly) or network problems (such as a missing connection or a bad server). ",
        "bbox": [
            234,
            478,
            886,
            567
        ],
        "page_idx": 93
    },
    {
        "type": "text",
        "text": "We call the code built for dealing with exceptions an exception handler. An exception handler deals with exceptional situations. But how do we know when an exception might occur? Do we have to predict everything bad that could happen when a program is running? ",
        "bbox": [
            234,
            567,
            878,
            639
        ],
        "page_idx": 93
    },
    {
        "type": "text",
        "text": "Many of the situations in which errors could occur are particular types of events, like user input, file input/output, or network access. For example, think about the exceptions we listed previously. Bad user input could happen any time we ask the user for input of a certain type. A missing file could be a problem whenever we’re reading or writing files; for example, when viewing and saving pictures from a photo app. If we can anticipate possible exceptions and write exception handlers to deal with those exceptions, our code will be safer, more secure from malicious hackers who might want to crash your program by entering bad input, and more reliable. ",
        "bbox": [
            234,
            641,
            890,
            801
        ],
        "page_idx": 93
    },
    {
        "type": "text",
        "text": "In the case of the guessing game, the exception occurred when we asked the user for a number, but they entered text instead. Specifically, the exception was triggered when we tried to parse an integer out of a string that didn’t contain an integer. User input is a common source of exceptions, both accidental and intentional. An example of the latter is a hacker trying to break your program. ",
        "bbox": [
            234,
            803,
            896,
            909
        ],
        "page_idx": 93
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            951,
            111,
            963
        ],
        "page_idx": 93
    },
    {
        "type": "footer",
        "text": "Chapter 3 ",
        "bbox": [
            136,
            954,
            190,
            963
        ],
        "page_idx": 93
    },
    {
        "type": "text",
        "text": "Java gives us a clean way of handling exceptions with the try-catch statement. The idea of a try-catch block is that we want the program to try to do something that we know might cause an exception and catch, or handle, the exception that might occur rather than allowing it to break the program. The catch block executes only when an exception happens. ",
        "bbox": [
            236,
            63,
            902,
            153
        ],
        "page_idx": 94
    },
    {
        "type": "text",
        "text": "The last part of a try-catch is the optional finally block. In a try-catchfinally statement, the finally block will always execute if it’s provided, regardless of whether there’s an exception. If there’s no exception, the finally block will still run after the try block finishes. If an exception occurs, the finally block will run after the catch block has completed. ",
        "bbox": [
            236,
            154,
            890,
            241
        ],
        "page_idx": 94
    },
    {
        "type": "text",
        "text": "The format of a try-catch typically looks something like this (don’t type this into your code; this is just an example of the format): ",
        "bbox": [
            238,
            243,
            886,
            280
        ],
        "page_idx": 94
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "try { // Something that could cause an exception, like getting bad input } catch (Exception e) { // Handle or recover from the exception, like asking for good input } finally { // Any wrap-up code; this will always run last, exception or not } ",
        "guess_lang": "txt",
        "bbox": [
            271,
            295,
            878,
            408
        ],
        "page_idx": 94
    },
    {
        "type": "text",
        "text": "Notice we group statements for each part of the try-catch-finally statement with braces, just like we do for if-else and loop statements. The catch part requires an Exception parameter; this can be a specific exception, like NumberFormatException, or we can use the base class Exception. This parameter will receive information about the Exception, like what line number the exception occurred on. ",
        "bbox": [
            236,
            426,
            898,
            533
        ],
        "page_idx": 94
    },
    {
        "type": "text",
        "text": "To place the try-catch-finally blocks correctly in our game’s code, we need to think about where the exception might occur (and wrap that code inside a try block), what we want to do if there is an exception (and put that in a catch block), and what we want to do after either the try or catch block finishes (this part goes inside the finally block). ",
        "bbox": [
            236,
            534,
            902,
            624
        ],
        "page_idx": 94
    },
    {
        "type": "text",
        "text": "Because the user input problem occurred when we tried to parse an integer out of text the user entered, we want to wrap that code in a try block. Let’s put the try keyword and an opening brace right before the line that parses the integer out of the text: ",
        "bbox": [
            236,
            624,
            884,
            696
        ],
        "page_idx": 94
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "public void checkGuess() { String guessText $=$ txtGuess.getText(); String message $=$ \"\"; try { int guess $=$ Integer.parseInt(guessText); if (guess < theNumber) ",
        "bbox": [
            271,
            711,
            682,
            809
        ],
        "page_idx": 94
    },
    {
        "type": "text",
        "text": "If the user didn’t enter a number, we can’t test for too high or too low, so the try clause will go all the way to the end of this pair of if-else statements. Place a closing brace for the try block after the closing brace for the else statement, as shown in the following listing. The catch keyword should ",
        "bbox": [
            236,
            827,
            898,
            899
        ],
        "page_idx": 94
    },
    {
        "type": "footer",
        "text": "Creating a GUI for Our Guessing Game ",
        "bbox": [
            642,
            951,
            863,
            966
        ],
        "page_idx": 94
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            884,
            950,
            904,
            963
        ],
        "page_idx": 94
    },
    {
        "type": "text",
        "text": "go next. In this game, if a user enters bad input, we just want to ask them to enter a whole number between 1 and 100. We can do that with the message string that gets displayed in lblOutput later. So, the catch block should look like this: ",
        "bbox": [
            230,
            64,
            894,
            133
        ],
        "page_idx": 95
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "else{ message $=$ guess $^+$ \"is correct.You win! Let's play again!\"; newGame();   \n} catch(Exception e){ message $=$ \"Enter a whole number between 1 and 100.\"; ",
        "bbox": [
            299,
            151,
            793,
            280
        ],
        "page_idx": 95
    },
    {
        "type": "text",
        "text": "The last step we want to take, whether there was an exception or not, is to show the output message, request the focus for the text field, and select all the text to prepare for the next entry. These three statements will go into the finally block, after the closing brace of the catch statement we just added: ",
        "bbox": [
            230,
            298,
            890,
            387
        ],
        "page_idx": 95
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "}finally{ lblOutput.setText(message); txtGuess.requestFocus(); txtGuess.selectAll(); }   \npublicvoidnewGame(){ ",
        "guess_lang": "javascript",
        "bbox": [
            263,
            403,
            565,
            516
        ],
        "page_idx": 95
    },
    {
        "type": "text",
        "text": "You may notice that the statements inside each of the try-catchfinally blocks are indented to make the code easier to read. Remember, there’s a shortcut in Eclipse that will automatically indent everything correctly after you’ve made any changes. Just select all the code, then go to Source4Correct Indentation. ",
        "bbox": [
            230,
            534,
            875,
            623
        ],
        "page_idx": 95
    },
    {
        "type": "text",
        "text": "Save your app and run it a few times to test the user interface. Test a few nonintegers to make sure the exception handling works the way it’s supposed to. If you run into errors that prevent the file from compiling, check your braces. Whenever we add blocks around existing code, braces are the first place to check for errors. Once your try-catch-finally statements are in place, you’ve got a more reliable, more predictable, and safer version of the GUI guessing game app. ",
        "bbox": [
            230,
            624,
            896,
            750
        ],
        "page_idx": 95
    },
    {
        "type": "text",
        "text": "Safe programming isn’t just a nice touch—it’s often a critical part of writing good software. For our guessing game, the consequences of bad code don’t seem dire. But think about the code running on a medical device, a satellite, a car, an airplane, or the power grid that delivers electricity to your home and city. Secure code is vital to our safety and security. And even a small game or app running unsecure code on your smartphone could expose your data to hackers. Safe programming is always a smart practice. ",
        "bbox": [
            230,
            752,
            876,
            896
        ],
        "page_idx": 95
    },
    {
        "type": "page_number",
        "text": "72 ",
        "bbox": [
            91,
            950,
            113,
            965
        ],
        "page_idx": 95
    },
    {
        "type": "footer",
        "text": "Chapter 3 ",
        "bbox": [
            136,
            951,
            192,
            965
        ],
        "page_idx": 95
    },
    {
        "type": "text",
        "text": "What You Learned ",
        "text_level": 1,
        "bbox": [
            130,
            61,
            367,
            82
        ],
        "page_idx": 96
    },
    {
        "type": "text",
        "text": "In the GUI version of the guessing game app, we’ve grown our Java skills to include all the following: ",
        "bbox": [
            236,
            93,
            898,
            130
        ],
        "page_idx": 96
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Creating GUI windows by importing the javax.swing package ",
            "Setting up a GUI app in Eclipse ",
            "Designing a GUI with the WindowBuilder Editor ",
            "Using the Properties pane to change GUI component properties ",
            "Naming GUI components consistently for easy use in Java code ",
            "•\t Connecting GUI elements to Java variables and programming code ",
            "Getting user text from a JTextField and using it in a program ",
            "Listening for user events, like button clicks ",
            "Improving the user experience, or UX, by testing the app with the user in mind ",
            "Handling exceptions with try-catch-finally "
        ],
        "bbox": [
            238,
            142,
            896,
            382
        ],
        "page_idx": 96
    },
    {
        "type": "text",
        "text": "Programming Challenges ",
        "text_level": 1,
        "bbox": [
            130,
            412,
            450,
            436
        ],
        "page_idx": 96
    },
    {
        "type": "text",
        "text": "Try these challenges to review and practice what you’ve learned and to expand your programming skills by trying something new. If you get stuck, visit https://www.nostarch.com/learnjava/ for sample solutions. ",
        "bbox": [
            236,
            445,
            896,
            501
        ],
        "page_idx": 96
    },
    {
        "type": "text",
        "text": "#1: Showing Users How Many Tries They Took ",
        "text_level": 1,
        "bbox": [
            238,
            518,
            642,
            542
        ],
        "page_idx": 96
    },
    {
        "type": "text",
        "text": "Try changing the winning message to tell the user how many tries they took when they win, as in the following: ",
        "bbox": [
            236,
            545,
            904,
            582
        ],
        "page_idx": 96
    },
    {
        "type": "text",
        "text": "62 is correct! You win after 7 tries! ",
        "bbox": [
            238,
            597,
            555,
            614
        ],
        "page_idx": 96
    },
    {
        "type": "text",
        "text": "To accomplish this task, you’ll need to create a new variable (like numberOfTries) to store how many times the user guessed, add to the number of tries every time the checkGuess() method runs successfully, and display the number of tries to the user when they win. ",
        "bbox": [
            236,
            633,
            902,
            705
        ],
        "page_idx": 96
    },
    {
        "type": "text",
        "text": "As an alternative version, you could begin the game with seven or eight tries and then subtract a try every time the user guesses. When the last guess has been used, you could tell the user they lost, show them what the correct number was, and start a new game. Give it a shot! ",
        "bbox": [
            236,
            705,
            898,
            779
        ],
        "page_idx": 96
    },
    {
        "type": "text",
        "text": "#2: Showing and Hiding a Play Again Button ",
        "text_level": 1,
        "bbox": [
            238,
            797,
            628,
            819
        ],
        "page_idx": 96
    },
    {
        "type": "text",
        "text": "When we built the GUI for this chapter’s guessing game, we decided not to include a Play Again button because it would have cluttered the interface when it wasn’t in use and it would really only be needed at the end of the game. As it turns out, we can hide a GUI component with the setVisible(false) method. Then we can show it again with setVisible(true), just as we did with our JFrame. ",
        "bbox": [
            236,
            824,
            888,
            933
        ],
        "page_idx": 96
    },
    {
        "type": "aside_text",
        "text": "PROGRAMMING CHALLENGES ",
        "bbox": [
            938,
            64,
            960,
            258
        ],
        "page_idx": 96
    },
    {
        "type": "footer",
        "text": "Creating a GUI for Our Guessing Game ",
        "bbox": [
            642,
            951,
            863,
            966
        ],
        "page_idx": 96
    },
    {
        "type": "page_number",
        "text": "73 ",
        "bbox": [
            884,
            950,
            906,
            965
        ],
        "page_idx": 96
    },
    {
        "type": "text",
        "text": "First, we could add a Play Again button, called btnPlayAgain, to the GUI layout. In the code after the button is created, we could call btnPlayAgain .setVisible(false) to hide the button. In the winning else statement in checkGuess(), we could call btnPlayAgain.setVisible(true) to show the button instead of starting a new game. Once you’ve written that code, remember to double-click the button in the GUI preview to add an event listener, call newGame() in that listener, and then hide the button again. ",
        "bbox": [
            230,
            64,
            884,
            189
        ],
        "page_idx": 97
    },
    {
        "type": "text",
        "text": "One important note before you start: unlike with the other button (btnGuess), you need to change the the visible property to hide and show the button from several places in the code. As with txtGuess and lblOutput, you’ll need to declare private JButton btnPlayAgain at the top of the class, but make sure not to redeclare the button in the code below it. ",
        "bbox": [
            230,
            190,
            884,
            279
        ],
        "page_idx": 97
    },
    {
        "type": "text",
        "text": "When you get it working, the game should start with the Play Again button hidden, and the button should appear when you win the game. When you click the button, a new game will start, and the button will disappear again. Play the game with the button, and if you think of any other improvements for the UX, go ahead and try them! ",
        "bbox": [
            230,
            280,
            898,
            372
        ],
        "page_idx": 97
    },
    {
        "type": "text",
        "text": "#3: Creating a GUI MadLib ",
        "text_level": 1,
        "bbox": [
            234,
            388,
            468,
            412
        ],
        "page_idx": 97
    },
    {
        "type": "text",
        "text": "Look back at the MadLibs.java program you built in Chapter 2 (Programming Challenge #3 on page 41) and create a new MadLibGUI.java app that prompts the user for several words in a graphical user interface with labels and text fields, like txtColor, txtPastTenseVerb, txtAdjective, and txtNoun. Add a button that the user can press to generate a MadLibs-style story. ",
        "bbox": [
            230,
            417,
            876,
            524
        ],
        "page_idx": 97
    },
    {
        "type": "text",
        "text": "Explore and play around with several more properties of the GUI elements in the WindowBuilder Editor, including background colors, fonts, initial text values, and more. When the user clicks the button, the program should display the completed MadLibs story in a JLabel or a JTextArea, as shown in Figure 3-23. ",
        "bbox": [
            230,
            525,
            890,
            615
        ],
        "page_idx": 97
    },
    {
        "type": "image",
        "img_path": "images/f349641e3a08ec3571bfcfd7cc52435d48d92665e2575419c507822ba91aba91.jpg",
        "image_caption": [
            "Figure 3-23: A GUI MadLibs app "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            627,
            751,
            843
        ],
        "page_idx": 97
    },
    {
        "type": "aside_text",
        "text": "eONNEHNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNn ",
        "bbox": [
            37,
            64,
            55,
            259
        ],
        "page_idx": 97
    },
    {
        "type": "page_number",
        "text": "74 ",
        "bbox": [
            91,
            950,
            111,
            965
        ],
        "page_idx": 97
    },
    {
        "type": "footer",
        "text": "Chapter 3 ",
        "bbox": [
            134,
            953,
            190,
            965
        ],
        "page_idx": 97
    },
    {
        "type": "text",
        "text": "4 ",
        "text_level": 1,
        "bbox": [
            517,
            189,
            626,
            331
        ],
        "page_idx": 98
    },
    {
        "type": "text",
        "text": "Cr e at i ng Yo u r Fi r s t A nd roid App ",
        "text_level": 1,
        "bbox": [
            353,
            379,
            795,
            432
        ],
        "page_idx": 98
    },
    {
        "type": "image",
        "img_path": "images/586be510ef9e64a7199a613b9ac48a6a99d0b1d529ec3ea3000c5406f2ef05f4.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            164,
            475,
            359,
            626
        ],
        "page_idx": 98
    },
    {
        "type": "text",
        "text": "To build the mobile version of the Hi-Lo guessing game app, we’re going to use Android Studio. If you didn’t set this up ",
        "bbox": [
            355,
            558,
            876,
            639
        ],
        "page_idx": 98
    },
    {
        "type": "text",
        "text": "in Chapter 1, go back to “Installing Android Studio for Mobile App Development” on page 8 and set it up. As with the GUI version of the game, we’re going to create a user interface for the app, as shown in Figure 4-1. The apps you’ve created so far could only be run on your desktop computer, but Android apps can run on any Android device, including phones, tablets, watches, TVs, and so on. If you don’t own an Android device, don’t worry—you can still code for Android, as the Android emulator that comes with Android Studio lets you simulate running a device. ",
        "bbox": [
            236,
            641,
            894,
            867
        ],
        "page_idx": 98
    },
    {
        "type": "image",
        "img_path": "images/fe88df6ae710129dcd59aa0eab14e0aa5dc67bdf8c1b681a6de85e0c83916b28.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            232,
            64,
            519,
            450
        ],
        "page_idx": 99
    },
    {
        "type": "image",
        "img_path": "images/69178eac57a23f9589e3f4d70c09f9961565fabd6946461c77d94e44712f8174.jpg",
        "image_caption": [
            "Figure 4-1: The guessing game will become a mobile app in this chapter. The app runs on a simulated Android phone (left) and on an actual Android tablet (right). "
        ],
        "image_footnote": [],
        "bbox": [
            533,
            97,
            831,
            450
        ],
        "page_idx": 99
    },
    {
        "type": "text",
        "text": "Figure 4-1 shows our app running on the Android emulator, simulating how the app looks on a Nexus 6P, and on an Android tablet. Both versions are running the same code—and, even more conveniently, we can reuse a lot of the Java code we built for the previous desktop versions because Android is built on Java! ",
        "bbox": [
            230,
            510,
            896,
            600
        ],
        "page_idx": 99
    },
    {
        "type": "text",
        "text": "Notice that the emulator and the actual device look very similar, with some minor differences to account for the different screen sizes between the phone and the 7-inch tablet. In the same way that you can write a Java app for Windows and run it on macOS or Linux, you can write an Android mobile app in Java and run it on any of literally thousands of Android devices. Let’s get started building your first Android mobile app! ",
        "bbox": [
            230,
            600,
            880,
            708
        ],
        "page_idx": 99
    },
    {
        "type": "text",
        "text": "Starting a New Android Studio App Project ",
        "text_level": 1,
        "bbox": [
            125,
            740,
            668,
            765
        ],
        "page_idx": 99
    },
    {
        "type": "text",
        "text": "The first time you start Android Studio, it may take a few minutes to update and run. When it starts, you’ll see a screen like the one shown in Figure 4-2. Select the option labeled Start a new Android Studio project. ",
        "bbox": [
            230,
            771,
            898,
            825
        ],
        "page_idx": 99
    },
    {
        "type": "text",
        "text": "Name your new project GuessingGame, with no space. If you have a website, you can enter it in the Company Domain field, as shown in Figure 4-3. Otherwise, leave the default example domain. Next, choose a project location. I’ve set up a folder called AndroidProjects to keep things organized, and you should do the same. ",
        "bbox": [
            230,
            825,
            898,
            915
        ],
        "page_idx": 99
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            91,
            950,
            111,
            963
        ],
        "page_idx": 99
    },
    {
        "type": "footer",
        "text": "Chapter 4 ",
        "bbox": [
            134,
            953,
            192,
            965
        ],
        "page_idx": 99
    },
    {
        "type": "image",
        "img_path": "images/feeb4597523263a2df021ca810da170e2bbcd64e312f5abcab49058657109a65.jpg",
        "image_caption": [
            "Figure 4-2: Once Android Studio finishes setting up, choose Start a new Android Studio project. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            64,
            795,
            313
        ],
        "page_idx": 100
    },
    {
        "type": "image",
        "img_path": "images/b46877f167f352c103304eff9b6cdf7e9cb430e458e1a466fa4fe1824c848957.jpg",
        "image_caption": [
            "Figure 4-3: Name your new Android Studio project GuessingGame, with no space. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            388,
            809,
            792
        ],
        "page_idx": 100
    },
    {
        "type": "text",
        "text": "Click Next after naming your project. Now you’ll have the opportunity to choose which Android version number your app should run on. The Android platform evolves rapidly as new devices and capabilities are developed, so we’ll need to pick a target. Fortunately, Android Studio ",
        "bbox": [
            238,
            855,
            888,
            927
        ],
        "page_idx": 100
    },
    {
        "type": "footer",
        "text": "Creating Your First Android App ",
        "bbox": [
            684,
            953,
            857,
            966
        ],
        "page_idx": 100
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            884,
            950,
            904,
            963
        ],
        "page_idx": 100
    },
    {
        "type": "text",
        "text": "is regularly updated with both the latest Android versions and information on how many devices still use the older versions. You’ll also need to select a software development kit (SDK) or application program interface (API) level when you choose which versions of Android to support. SDK and API levels include tools you’ll use to develop your app, but they’re tied to specific versions of Android. The Target Android Devices window, shown in Figure 4-4, allows you to choose a minimum SDK or API level for each app you develop. ",
        "bbox": [
            230,
            64,
            884,
            208
        ],
        "page_idx": 101
    },
    {
        "type": "image",
        "img_path": "images/c511631107f337762303766db91b8ba6ea84558e4f34e366a901564f6c2942db.jpg",
        "image_caption": [
            "Figure 4-4: Choose the Minimum SDK level for the Android devices you’re developing for. "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            220,
            674,
            582
        ],
        "page_idx": 101
    },
    {
        "type": "text",
        "text": "Choose API 16 (Android 4.1, Jelly Bean) as the minimum SDK for the guessing game app. Android Studio will tell you that this runs on more than 99 percent of active Android devices. Click Next. ",
        "bbox": [
            230,
            644,
            884,
            698
        ],
        "page_idx": 101
    },
    {
        "type": "text",
        "text": "The New Project wizard will ask you what kind of activity you want to add to your app. An activity is just something the user can do. Each activity usually has its own screen layout with a user interface, like the ones shown in Figure 4-5. ",
        "bbox": [
            230,
            699,
            888,
            770
        ],
        "page_idx": 101
    },
    {
        "type": "text",
        "text": "There are lots of choices for the main activity for an app, such as Google Maps, Login, Settings, Tabbed Activities, and more. The Basic Activity will give us a great foundation for the guessing game app, so choose that option and click Next. ",
        "bbox": [
            230,
            771,
            861,
            843
        ],
        "page_idx": 101
    },
    {
        "type": "text",
        "text": "We’ll use the default names provided by Android Studio on the following screen (shown in Figure 4-6): MainActivity for the activity name and activity_main for the layout name. The activity file contains the Java source code that runs the app. The layout is a separate file that contains the app interface. Click Finish to complete your app project setup. ",
        "bbox": [
            230,
            843,
            886,
            933
        ],
        "page_idx": 101
    },
    {
        "type": "page_number",
        "text": "78 ",
        "bbox": [
            91,
            950,
            113,
            963
        ],
        "page_idx": 101
    },
    {
        "type": "footer",
        "text": "Chapter 4 ",
        "bbox": [
            134,
            953,
            192,
            965
        ],
        "page_idx": 101
    },
    {
        "type": "image",
        "img_path": "images/811c77fbf86c15c90ef77d8b166b060a5ec73628042d34479734b931c2375766.jpg",
        "image_caption": [
            "Figure 4-5: Choose Basic Activity as the basis for your app. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            64,
            898,
            457
        ],
        "page_idx": 102
    },
    {
        "type": "image",
        "img_path": "images/6d8124cb844b1a31f28e9cff6ffc9ed4f6bbef8c1ca79145e3aededa3cd0b654.jpg",
        "image_caption": [
            "Figure 4-6: Leave the default values for activity name and layout name. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            504,
            898,
            899
        ],
        "page_idx": 102
    },
    {
        "type": "footer",
        "text": "Creating Your First Android App ",
        "bbox": [
            686,
            953,
            857,
            966
        ],
        "page_idx": 102
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            884,
            950,
            904,
            963
        ],
        "page_idx": 102
    },
    {
        "type": "text",
        "text": "The project may take a few moments to build, as Android Studio creates the project files and sets up the GuessingGame app project. After it finishes loading, Android Studio will open the project to a default view that looks like Figure 4-7. ",
        "bbox": [
            230,
            64,
            894,
            136
        ],
        "page_idx": 103
    },
    {
        "type": "image",
        "img_path": "images/c0ea4fe2d557fa476250c8fdb017b8e0fa49caa9667686b6db80523cc2f00650.jpg",
        "image_caption": [
            "Figure 4-7: The default project view in Android Studio, complete with a GUI mobile layout view "
        ],
        "image_footnote": [],
        "bbox": [
            89,
            148,
            900,
            519
        ],
        "page_idx": 103
    },
    {
        "type": "text",
        "text": "If your project doesn’t open with this screen, click the Project tab in the upper left, expand the app folder in the Project Explorer, expand the res (short for resources) folder, expand layout, and then double-click the content_main.xml file to see a view similar to Figure 4-7. ",
        "bbox": [
            230,
            564,
            875,
            638
        ],
        "page_idx": 103
    },
    {
        "type": "text",
        "text": "Building the GU I Layout in Design View ",
        "text_level": 1,
        "bbox": [
            125,
            668,
            621,
            693
        ],
        "page_idx": 103
    },
    {
        "type": "text",
        "text": "Android apps separate the layout from the app code (the activity), so this app will be a little different from the desktop app we wrote in Chapter 3. The layout isn’t described in Java but in eXtensible Markup Language (XML). Fortunately, despite this difference, we can still use a drag-and-drop palette similar to Eclipse’s WindowBuilder Editor to design the GUI view. The main difference in Android Studio is that the components have been named with mobile apps in mind. ",
        "bbox": [
            230,
            699,
            884,
            825
        ],
        "page_idx": 103
    },
    {
        "type": "text",
        "text": "Like the WindowBuilder Editor, Android Studio has two tabs, one for the design view and one for the source code. Click the Design tab in the lower-left corner of the main window containing the content_main.xml file. You’ll see the design view shown in Figure 4-8. ",
        "bbox": [
            230,
            825,
            880,
            899
        ],
        "page_idx": 103
    },
    {
        "type": "page_number",
        "text": "80 ",
        "bbox": [
            91,
            950,
            113,
            963
        ],
        "page_idx": 103
    },
    {
        "type": "footer",
        "text": "Chapter 4 ",
        "bbox": [
            136,
            953,
            194,
            965
        ],
        "page_idx": 103
    },
    {
        "type": "image",
        "img_path": "images/d4da7ec2052f35c52d2f7b9356b31c142984f56e4d1b87d2490c3e0a1ece3e97.jpg",
        "image_caption": [
            "Figure 4-8: Android Studio has a design view similar to the WindowBuilder Editor in Eclipse. "
        ],
        "image_footnote": [],
        "bbox": [
            97,
            64,
            902,
            429
        ],
        "page_idx": 104
    },
    {
        "type": "text",
        "text": "Figure 4-8 shows the four areas of the design view that we’ll be using the most: the Project Explorer pane $\\bullet$ , the Palette pane v, the Preview pane $\\pmb { \\Theta }$ , and the Properties pane x. ",
        "bbox": [
            236,
            474,
            878,
            528
        ],
        "page_idx": 104
    },
    {
        "type": "text",
        "text": "In the center of the Preview pane, you’ll see a label—known as a TextView in Android terminology—reading Hello World!. Click the label and press delete (or right-click and select Delete from the menu) to delete it from the Preview pane. Then, click the Layouts option in the Palette pane, select a RelativeLayout, and drag it either to the Preview pane or onto the ConstraintLayout (in Figure 4-8) in the Component Tree listing just below the Palette pane. We’ll start with an empty RelativeLayout to build our guessing game GUI view. ",
        "bbox": [
            236,
            528,
            894,
            672
        ],
        "page_idx": 104
    },
    {
        "type": "text",
        "text": "In the Palette pane, under Widgets, select TextView. A TextView in Android is similar to a JLabel in the Swing toolkit, and widgets are what we call most of the GUI components in Android. We’ll drag and drop to place GUI components in the design preview. ",
        "bbox": [
            236,
            672,
            894,
            744
        ],
        "page_idx": 104
    },
    {
        "type": "text",
        "text": "Click the TextView widget and drag it over the white app background in the simulated Android phone, placing the widget near the top to serve as the title of your app. ",
        "bbox": [
            236,
            744,
            898,
            800
        ],
        "page_idx": 104
    },
    {
        "type": "text",
        "text": "After placing the title TextView, you’ll see options appear in the Properties pane on the right. If the pane doesn’t appear, click Properties in the upperright corner of the Design tab to expand the Properties pane. Find the text property of the TextView widget you’ve just added. Change the text to \"Your Name's Guessing Game\" and change the textAppearance property to Large. Then, drag the TextView to center it at the top of the screen as shown in Figure 4-9. The gray dashed guideline helps with placement. ",
        "bbox": [
            236,
            800,
            902,
            927
        ],
        "page_idx": 104
    },
    {
        "type": "footer",
        "text": "Creating Your First Android App ",
        "bbox": [
            686,
            951,
            859,
            966
        ],
        "page_idx": 104
    },
    {
        "type": "page_number",
        "text": "81 ",
        "bbox": [
            884,
            950,
            904,
            963
        ],
        "page_idx": 104
    },
    {
        "type": "image",
        "img_path": "images/447f4ffae11cc1ad486a67029c524c58b64d4b7065ef6f785a80eda321f4631c.jpg",
        "image_caption": [
            "Figure 4-9: Placing GUI widgets/components in Android Studio is very similar to the process in Eclipse. "
        ],
        "image_footnote": [],
        "bbox": [
            91,
            64,
            896,
            409
        ],
        "page_idx": 105
    },
    {
        "type": "text",
        "text": "To add the label prompting the user to enter a number between 1 and 100, place another TextView widget onto the design preview just a small distance below the title. Change the textAppearance property to Medium in the Properties pane on the right. Then, type Enter a number between 1 and 100: in the text property for the TextView. ",
        "bbox": [
            232,
            454,
            898,
            545
        ],
        "page_idx": 105
    },
    {
        "type": "text",
        "text": "Next, we’ll place the text field, also known as an EditText in Android, for the user’s guess. Text fields are listed just below Widgets in the Palette pane. There are many types of text fields in Android, and each behaves differently depending on the needs of your app. For example, Plain Text is a simple text field, Password hides characters as they’re typed, Phone shows the numeric keypad and formats the input as a phone number, and E-mail shows a modified keyboard with the $@$ symbol. ",
        "bbox": [
            230,
            545,
            892,
            671
        ],
        "page_idx": 105
    },
    {
        "type": "text",
        "text": "Choose a Number text field so the user can enter their guess from a numeric keyboard on their screen. Place this field just a little below the previous label. Then, place a Button widget an equal distance below the text field and change its text property to \"Guess!\". Finally, place another TextView widget below the button, giving it a text property of \"Enter a number, then click Guess!\". If you have trouble placing the widget the same distance below the button because you’re too close to the vertical center of the screen, place it lower or higher in the Properties pane under Layout_Margin (you may need to click View all properties and then click the gray arrow next to Layout_Margin to expand the margin properties), find layout_marginTop, and change the value to 30dp. The finished GUI layout should look similar to Figure 4-10. ",
        "bbox": [
            230,
            671,
            880,
            888
        ],
        "page_idx": 105
    },
    {
        "type": "page_number",
        "text": "82 ",
        "bbox": [
            91,
            950,
            113,
            965
        ],
        "page_idx": 105
    },
    {
        "type": "footer",
        "text": "Chapter 4 ",
        "bbox": [
            136,
            951,
            194,
            965
        ],
        "page_idx": 105
    },
    {
        "type": "image",
        "img_path": "images/e5dee0b640cc5f998c44cb19a8df8164abbd6ab6ea4fab015081f6ecdfd87570.jpg",
        "image_caption": [
            "Figure 4-10: The finished GUI layout for the Android guessing game app in design view "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            64,
            777,
            411
        ],
        "page_idx": 106
    },
    {
        "type": "text",
        "text": "We’ll make one final change before naming the GUI components. Change the width property of the numeric text field, where the user enters their guess, to 75dp; do so by clicking View all properties or the left-andright arrow icon in the Properties pane. The original text field was too wide for a number-guessing game that uses only numbers between 1 and 100, so we’ve resized it to make it narrower. ",
        "bbox": [
            242,
            472,
            898,
            579
        ],
        "page_idx": 106
    },
    {
        "type": "text",
        "text": "With that small change, it’s time to start naming our GUI components so we’ll be able to find them easily in the Java code. ",
        "bbox": [
            242,
            581,
            888,
            617
        ],
        "page_idx": 106
    },
    {
        "type": "text",
        "text": "Naming GU I Components in Android Studio ",
        "text_level": 1,
        "bbox": [
            134,
            648,
            674,
            672
        ],
        "page_idx": 106
    },
    {
        "type": "text",
        "text": "Just as we named GUI components in Eclipse, we’ll need to name the GUI elements in Android Studio so that we can access them from the code. But in Android Studio, the names of the GUI elements themselves won’t appear in the Java source code by default. Instead, we’ll have to connect these XML GUI components to the Java code by hand before we can use them in the code. ",
        "bbox": [
            240,
            681,
            888,
            786
        ],
        "page_idx": 106
    },
    {
        "type": "text",
        "text": "For now, though, we just need to change the id property of the number text field, the guess button, and the bottommost label to txtGuess, btnGuess, and lblOutput, respectively. If a pop-up message asks you to update usages, click Yes. We’ll use these names for consistency and convenience. Figure 4-11 shows the renamed text field, button, and label. ",
        "bbox": [
            242,
            789,
            896,
            876
        ],
        "page_idx": 106
    },
    {
        "type": "footer",
        "text": "Creating Your First Android App ",
        "bbox": [
            686,
            954,
            855,
            966
        ],
        "page_idx": 106
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            884,
            951,
            904,
            963
        ],
        "page_idx": 106
    },
    {
        "type": "image",
        "img_path": "images/2a8a3c4cd9d79a78e860877d76a1073a96a8e4bb57738507e9bd28d53e39b782.jpg",
        "image_caption": [
            "Figure 4-11: Rename the EditText, Button, and TextView components (circled) by changing their id properties to txtGuess, btnGuess, and lblOutput, respectively. "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            64,
            801,
            373
        ],
        "page_idx": 107
    },
    {
        "type": "text",
        "text": "One last thing we should do before we start coding in Java is hide the small floating action button (fab) icon, shown in the bottom right of the design preview in Figure 4-12. Your project may not show the fab icon, but if it does, double-click the activity_main.xml file in the Project Explorer pane u. Click the activity_main.xml tab above the design view $\\bullet$ and then click the fab icon $\\otimes$ . Go to Properties and set the visibility property to invisible $\\bullet$ . ",
        "bbox": [
            230,
            435,
            888,
            543
        ],
        "page_idx": 107
    },
    {
        "type": "image",
        "img_path": "images/e1ac6ac89e52850f8d3c18e37269d4edd950bcd6243b3aeb6fc7151fbeb9f292.jpg",
        "image_caption": [
            "Figure 4-12: Hide the fab icon by going to the activity_main.xml file, clicking the small envelope icon, and setting the visibility property to invisible. "
        ],
        "image_footnote": [],
        "bbox": [
            91,
            554,
            890,
            890
        ],
        "page_idx": 107
    },
    {
        "type": "page_number",
        "text": "84 ",
        "bbox": [
            91,
            950,
            113,
            963
        ],
        "page_idx": 107
    },
    {
        "type": "footer",
        "text": "Chapter 4 ",
        "bbox": [
            136,
            953,
            194,
            965
        ],
        "page_idx": 107
    },
    {
        "type": "text",
        "text": "I’ve chosen to set the fab icon to invisible rather than delete it entirely, because you might want to use the floating action button to add new features to your app later on. The floating action button can share info from the app to Facebook, post a tweet in Twitter about how much you like the app, send an email to a friend about the app, and more. ",
        "bbox": [
            236,
            63,
            898,
            153
        ],
        "page_idx": 108
    },
    {
        "type": "text",
        "text": "Next, we’ll wire up the GUI so that we can use it in Java to program the rest of the app. ",
        "bbox": [
            236,
            154,
            898,
            189
        ],
        "page_idx": 108
    },
    {
        "type": "text",
        "text": "Connecting the GU I to Java in Android Studio ",
        "text_level": 1,
        "bbox": [
            130,
            220,
            698,
            243
        ],
        "page_idx": 108
    },
    {
        "type": "text",
        "text": "It’s time to connect the GUI to Java so we can write the code for the guessing game app. First, let’s open the Java source code file by looking in the Project Explorer pane, under app4src4main4java4com.example.guessinggame (or your package name)4MainActivity. Double-click MainActivity to open the MainActivity.java source code file. ",
        "bbox": [
            236,
            252,
            898,
            342
        ],
        "page_idx": 108
    },
    {
        "type": "text",
        "text": "You may have noticed the java folder in the Project Explorer has another package or two, possibly labeled the same, but with (test) or (androidTest) after the package name. These packages are used for testing in larger applications, where engineers evaluate app quality, security, and functionality for software quality assurance. We won’t tackle quality assurance, but it’s a great way to get into the software development industry. ",
        "bbox": [
            236,
            343,
            902,
            450
        ],
        "page_idx": 108
    },
    {
        "type": "text",
        "text": "The Java source code inside the MainActivity.java file will look something like Figure 4-13. ",
        "bbox": [
            236,
            451,
            875,
            486
        ],
        "page_idx": 108
    },
    {
        "type": "image",
        "img_path": "images/8592552d47715ee9b7d9efc55a29556fc97f2b0abf3171dc0e33d71ab4995d5b.jpg",
        "image_caption": [
            "Figure 4-13: The Java source code for the app is called MainActivity.java by default. "
        ],
        "image_footnote": [],
        "bbox": [
            97,
            498,
            904,
            852
        ],
        "page_idx": 108
    },
    {
        "type": "text",
        "text": "Notice that in Android Studio, a package declaration appears at the very top of the file by default. Packages help us organize all the files needed in ",
        "bbox": [
            236,
            899,
            898,
            936
        ],
        "page_idx": 108
    },
    {
        "type": "footer",
        "text": "Creating Your First Android App ",
        "bbox": [
            684,
            953,
            859,
            966
        ],
        "page_idx": 108
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            884,
            950,
            904,
            963
        ],
        "page_idx": 108
    },
    {
        "type": "text",
        "text": "a more complex program, such as a mobile app. In this case, the package name is the company domain name from the Create New Project screen back in Figure 4-3 on page 77, but in reverse order—notice the com comes first. ",
        "bbox": [
            230,
            64,
            896,
            118
        ],
        "page_idx": 109
    },
    {
        "type": "text",
        "text": "Several Android import statements follow the package declaration. These work just as they do for Java on the desktop, importing existing features and functionality into the code. ",
        "bbox": [
            230,
            118,
            894,
            172
        ],
        "page_idx": 109
    },
    {
        "type": "text",
        "text": "The following public class MainActivity code snippet may be slightly different for you depending on the minimum API level you chose for your app, but the overall code will be similar, and the app we’re writing will work across multiple API levels. First we’ll declare our variables to connect the GUI to the program. Click just inside the opening brace for the class, on the next line down, and add these lines to declare variables for the text field, button, and output label: ",
        "bbox": [
            230,
            172,
            896,
            298
        ],
        "page_idx": 109
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public classMainActivity extends AppCompatActivity { private EditText txtGuess; private Button btnGuess; private TextView lblOutput; ",
        "guess_lang": "java",
        "bbox": [
            232,
            313,
            686,
            381
        ],
        "page_idx": 109
    },
    {
        "type": "text",
        "text": "As you enter each new variable type, you may see a drop-down menu offering to import it (android.widget.EditText, for example). If you click the correct widget type to import, Android Studio will add the corresponding import statement for you. If you typed the three lines without clicking to accept the automatic imports, just click each widget type and then press alt-enter (or option-enter on macOS) to import any missing classes, as shown in Figure 4-14. ",
        "bbox": [
            230,
            397,
            884,
            525
        ],
        "page_idx": 109
    },
    {
        "type": "image",
        "img_path": "images/7e09550c0d4db969ec45996225c045e99e4cf85383a5563d6819fc6e077431e2.jpg",
        "image_caption": [
            "Figure 4-14: Android Studio enables you to automatically import classes just as Eclipse did, either as you type or afterward with a simple key combination (alt-enter, or option-enter on macOS). "
        ],
        "image_footnote": [],
        "bbox": [
            91,
            536,
            900,
            891
        ],
        "page_idx": 109
    },
    {
        "type": "page_number",
        "text": "86 ",
        "bbox": [
            91,
            950,
            113,
            965
        ],
        "page_idx": 109
    },
    {
        "type": "footer",
        "text": "Chapter 4 ",
        "bbox": [
            134,
            953,
            194,
            965
        ],
        "page_idx": 109
    },
    {
        "type": "text",
        "text": "The following three import statements should now appear with the others near the top of your file: ",
        "bbox": [
            240,
            63,
            853,
            99
        ],
        "page_idx": 110
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "import android.widget.EditText;  \nimport android.widget.Button;  \nimport android.widget.TextView; ",
        "guess_lang": "typescript",
        "bbox": [
            240,
            115,
            503,
            163
        ],
        "page_idx": 110
    },
    {
        "type": "text",
        "text": "After declaring the three variables for the GUI widgets, we need to connect those variables to the XML components for each one. We’ll do this in the onCreate() method, shown at the bottom of Figure 4-14, which is the function that runs when the app is loaded. Android Studio has automatically generated the code to begin this method. ",
        "bbox": [
            240,
            181,
            900,
            271
        ],
        "page_idx": 110
    },
    {
        "type": "text",
        "text": "Look inside the top two or three lines of the onCreate() method, and find this line: ",
        "bbox": [
            240,
            273,
            869,
            307
        ],
        "page_idx": 110
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "setContentView(R.layout.activity_main); ",
        "guess_lang": "javascript",
        "bbox": [
            273,
            325,
            603,
            343
        ],
        "page_idx": 110
    },
    {
        "type": "text",
        "text": "Right after that line, press enter a couple of times and type the following partial line of code to begin connecting the variable txtGuess to the EditText widget in the XML layout file: ",
        "bbox": [
            240,
            360,
            890,
            412
        ],
        "page_idx": 110
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "txtGuess $=$ (EditText) findViewById(R.id. ",
        "bbox": [
            273,
            430,
            611,
            448
        ],
        "page_idx": 110
    },
    {
        "type": "text",
        "text": "The findViewById() function is how we connect GUI widgets in the XML layout to the variables we’ll use to represent them in the source code. The R inside that function refers to a special file called R.java that Android Studio generates to make it possible to connect resources. The R is short for resources, usually stored in the res folder in the project. As you begin to type the preceding line, you’ll see a pop-up menu like the one shown in Figure 4-15. Find and double-click txtGuess in the drop-down list of options. If you don’t see the txtGuess option, go back to the design view for content _main.xml and make sure you gave the text field the id property of txtGuess. ",
        "bbox": [
            240,
            466,
            890,
            627
        ],
        "page_idx": 110
    },
    {
        "type": "text",
        "text": "Finish with the closing parenthesis followed by a semicolon, as shown in the following listing, and then set up the button and output label. The finished three lines of code inside your onCreate() method should look like this: ",
        "bbox": [
            240,
            629,
            890,
            681
        ],
        "page_idx": 110
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); txtGuess = (EditText) findViewById(R.id.txtGuess); btnGuess = (Button) findViewById(R.id.btnGuess); lb1Output = (TextView) findViewById(R.id.lb1Output); ",
        "guess_lang": "javascript",
        "bbox": [
            240,
            698,
            712,
            794
        ],
        "page_idx": 110
    },
    {
        "type": "text",
        "text": "If everything has been named correctly in the layout, these lines of code should connect the variables txtGuess, btnGuess, and lblOutput to the EditText, Button, and TextView components in the GUI layout. This is a good time to stop and save your project to capture the progress you’ve made so far. ",
        "bbox": [
            240,
            813,
            888,
            900
        ],
        "page_idx": 110
    },
    {
        "type": "footer",
        "text": "Creating Your First Android App ",
        "bbox": [
            686,
            954,
            857,
            966
        ],
        "page_idx": 110
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            884,
            950,
            904,
            963
        ],
        "page_idx": 110
    },
    {
        "type": "image",
        "img_path": "images/d34b468c928570fc85a6382ffa2593fc3b6e26f0bce1b64fffd242099349aa58.jpg",
        "image_caption": [
            "Figure 4-15: Android Studio helps us “wire up” the Java code to the GUI resources in the layout with helpful drop-down options. "
        ],
        "image_footnote": [],
        "bbox": [
            89,
            64,
            894,
            418
        ],
        "page_idx": 111
    },
    {
        "type": "text",
        "text": "Adding Methods to Check the Guess and Begin a New Game ",
        "text_level": 1,
        "bbox": [
            125,
            493,
            888,
            518
        ],
        "page_idx": 111
    },
    {
        "type": "text",
        "text": "Now, let’s work on writing the code for the checkGuess() function. We can begin writing the checkGuess() method just below the variable declarations for txtGuess, btnGuess, and lblOutput and just above the onCreate() method, as shown in Figure 4-16. ",
        "bbox": [
            230,
            524,
            892,
            594
        ],
        "page_idx": 111
    },
    {
        "type": "text",
        "text": "First, we need to get the user’s guess from the GUI text field and store it in a String variable: ",
        "bbox": [
            230,
            596,
            898,
            633
        ],
        "page_idx": 111
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "public classMainActivity extends AppCompatActivity { private EditText txtGuess; private Button btnGuess; private TextView lblOutput; public void checkGuess() { String guessText $=$ txtGuess.getText().toString(); ",
        "bbox": [
            232,
            647,
            714,
            747
        ],
        "page_idx": 111
    },
    {
        "type": "text",
        "text": "The code to get the user’s guess from the text field looks almost the same as in the desktop version of the app, except for the additional .toString() method at the end. There is a separate Text class in Android and the text that is entered into a text field is a Text object, so we have to convert that object to a String object. ",
        "bbox": [
            230,
            762,
            880,
            855
        ],
        "page_idx": 111
    },
    {
        "type": "page_number",
        "text": "88 ",
        "bbox": [
            91,
            950,
            113,
            965
        ],
        "page_idx": 111
    },
    {
        "type": "footer",
        "text": "Chapter 4 ",
        "bbox": [
            136,
            953,
            194,
            965
        ],
        "page_idx": 111
    },
    {
        "type": "image",
        "img_path": "images/29cc4fff01490e3d2d2341d7927fcefcd498eb26dbfb4169c18d531150f61aae.jpg",
        "image_caption": [
            "Figure 4-16: Beginning to write the checkGuess() method in Java "
        ],
        "image_footnote": [],
        "bbox": [
            97,
            64,
            906,
            427
        ],
        "page_idx": 112
    },
    {
        "type": "text",
        "text": "Fortunately, the rest of the checkGuess() method can be copied and pasted directly from the Eclipse desktop GUI version of the app from Chapter 3, with no changes! The complete checkGuess() method should look like this: ",
        "bbox": [
            236,
            472,
            906,
            528
        ],
        "page_idx": 112
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public void checkGuess() {  \n    String guessText = txtGuess.getText().toString();  \n    String message = \"\";  \n    try {  \n        int guess = Integer.parseInt(guessText);  \n        if (guess < theNumber)  \n            message = guess + \" is too low. Try again.\";  \n        else if (guess > theNumber)  \n            message = guess + \" is too high. Try again.\";  \n        else {  \n            message = guess + \" is correct. You win! Let's play again!\");  \n        newGame();  \n    }  \n} catch (Exception e) {  \n    message = \"Enter a whole number between 1 and 100.\";  \n} finally {  \n    lblOutput.setText(message);  \n    txtGuess.requestFocus();  \n    txtGuess.selectAll();  \n} ",
        "guess_lang": "java",
        "bbox": [
            238,
            542,
            769,
            894
        ],
        "page_idx": 112
    },
    {
        "type": "footer",
        "text": "Creating Your First Android App ",
        "bbox": [
            684,
            953,
            859,
            966
        ],
        "page_idx": 112
    },
    {
        "type": "page_number",
        "text": "89 ",
        "bbox": [
            884,
            950,
            904,
            965
        ],
        "page_idx": 112
    },
    {
        "type": "text",
        "text": "One of the convenient features of Java is that we can reuse code across platforms. Just as we used code from the command line game to make the desktop game, we can use code from the desktop version in the Android version. Let’s review this code to understand how it will work in the Android app. ",
        "bbox": [
            230,
            64,
            898,
            136
        ],
        "page_idx": 113
    },
    {
        "type": "text",
        "text": "At $\\bullet$ , we get the user’s guess from the text field and set up a string for the output message. At $\\bullet$ , we begin a try-catch-finally statement to handle user input errors or exceptions. Inside the try block, at $\\otimes$ , we parse the integer number of the user’s guess from the characters they enter. The rest of the try block contains the if-else statements that test whether the user guessed too high or too low, set the appropriate message, and start a new game. Next, the catch statement $\\bullet$ that tells the user to enter a whole number between 1 and 100. Then, the finally block $\\pmb { \\Theta }$ sets the text on the lblOutput widget to the appropriate message, returns the cursor to the text field, and highlights the text to prepare for the user’s next guess. ",
        "bbox": [
            230,
            136,
            890,
            316
        ],
        "page_idx": 113
    },
    {
        "type": "text",
        "text": "You may have noticed that there are a couple of items underlined in red: theNumber and newGame(). This is because we haven’t defined them yet in this version of our app. ",
        "bbox": [
            230,
            316,
            884,
            370
        ],
        "page_idx": 113
    },
    {
        "type": "text",
        "text": "At the top of the MainActivity class, below the three GUI widget declarations, add a declaration for the secret number, theNumber: ",
        "bbox": [
            232,
            370,
            896,
            405
        ],
        "page_idx": 113
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public classMainActivity extends AppCompatActivity { private EditText txtGuess; private Button btnGuess; private TextView lblOutput; private int theNumber; ",
        "guess_lang": "java",
        "bbox": [
            234,
            423,
            684,
            503
        ],
        "page_idx": 113
    },
    {
        "type": "text",
        "text": "This is the same code we used in the desktop game, because the Java code to create an integer is the same across the command line, desktop, and Android mobile versions of the app. ",
        "bbox": [
            230,
            521,
            871,
            575
        ],
        "page_idx": 113
    },
    {
        "type": "text",
        "text": "The code for the newGame() method is also the same as the desktop version. Add the newGame() method just before the onCreate() statement: ",
        "bbox": [
            230,
            576,
            880,
            612
        ],
        "page_idx": 113
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "public void newGame() { theNumber $=$ (int)(Math.random( $\\text{串}$ ）\\*100+1);   \n}   \n@override   \nprotected void onCreate(Bundle savedInstanceState){ ",
        "bbox": [
            234,
            627,
            676,
            708
        ],
        "page_idx": 113
    },
    {
        "type": "text",
        "text": "Creating a new game in the Android app is just like doing so in the desktop app. We just set theNumber to a random integer from 1 to 100, using the Math.random() function. ",
        "bbox": [
            230,
            726,
            884,
            779
        ],
        "page_idx": 113
    },
    {
        "type": "text",
        "text": "We can add a call to newGame() inside the onCreate() method after the code that connects the three GUI components: ",
        "bbox": [
            230,
            780,
            863,
            816
        ],
        "page_idx": 113
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); txtGuess = (EditText) findViewById(R.id.txtGuess); ",
        "guess_lang": "javascript",
        "bbox": [
            234,
            831,
            692,
            897
        ],
        "page_idx": 113
    },
    {
        "type": "page_number",
        "text": "90 ",
        "bbox": [
            91,
            950,
            113,
            963
        ],
        "page_idx": 113
    },
    {
        "type": "footer",
        "text": "Chapter 4 ",
        "bbox": [
            136,
            953,
            192,
            965
        ],
        "page_idx": 113
    },
    {
        "type": "text",
        "text": "When the game starts up, the program will call the newGame() method and pick a random number for the user to guess. Now, we just need to handle the button click event and learn how to run the app on our own Android device or on the Android emulator. ",
        "bbox": [
            236,
            129,
            878,
            199
        ],
        "page_idx": 114
    },
    {
        "type": "text",
        "text": "Handling Events in Android ",
        "text_level": 1,
        "bbox": [
            130,
            232,
            474,
            256
        ],
        "page_idx": 114
    },
    {
        "type": "text",
        "text": "In Eclipse, we were able to add an event listener to the guess button just by double-clicking it in the design view. Unfortunately, it’s not that easy in Android Studio, because the GUI layout is separate from the source code. Fortunately, Android Studio helps us add event listeners by providing code completion options, similar to the content assist feature in Eclipse. ",
        "bbox": [
            236,
            264,
            884,
            354
        ],
        "page_idx": 114
    },
    {
        "type": "text",
        "text": "To add a listener for button clicks, begin typing the following partial line of code inside the onCreate() method on the next line after the call to newGame(): ",
        "bbox": [
            236,
            355,
            882,
            408
        ],
        "page_idx": 114
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "txtGuess = (EditText) findViewById(R.id.txtGuess);  \nbtnGuess = (Button) findViewById(R.id.btnGuess);  \nlblOutput = (TextView) findViewById(R.id.lblOutput);  \nnewGame();  \nbtnGuess.setOn ",
        "guess_lang": "javascript",
        "bbox": [
            271,
            424,
            714,
            503
        ],
        "page_idx": 114
    },
    {
        "type": "text",
        "text": "Android Studio’s code completion feature will pop up with a list of code recommendations, as shown in Figure 4-17. Choose setOnClickListener() from the list of options and double-click to add it to your program. ",
        "bbox": [
            236,
            522,
            904,
            576
        ],
        "page_idx": 114
    },
    {
        "type": "text",
        "text": "Inside the parentheses for btnGuess.setOnClickListener(), type new and start typing OnClickListener. Android Studio’s code completion feature will display a list of options, as shown in Figure 4-18. ",
        "bbox": [
            236,
            578,
            888,
            630
        ],
        "page_idx": 114
    },
    {
        "type": "text",
        "text": "Choose OnClickListener from the list of options, and you’ll see Android Studio adds a few extra lines of code. Your event listener code for the btnGuess button should now look like the following: ",
        "bbox": [
            236,
            632,
            890,
            686
        ],
        "page_idx": 114
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "btnGuess.setOnClickListener(new View.OnClickListener() { @Override public void onClick(View v) { } }); ",
        "guess_lang": "javascript",
        "bbox": [
            238,
            701,
            716,
            783
        ],
        "page_idx": 114
    },
    {
        "type": "text",
        "text": "Look familiar? This is another example of an anonymous inner class. The desktop version also had an anonymous inner class, but it was named slightly differently. The two will work virtually identically. You may have noticed that Android inserts @Override in several places. This is called a compiler directive, and it tells the compiler that you’re implementing your own version of a method in the parent class. ",
        "bbox": [
            236,
            800,
            884,
            909
        ],
        "page_idx": 114
    },
    {
        "type": "header",
        "text": "btnGuess $=$ (Button) findViewById(R.id.btnGuess);lblOutput $=$ (TextView) findViewById(R.id.lblOutput);newGame();",
        "bbox": [
            271,
            61,
            716,
            111
        ],
        "page_idx": 114
    },
    {
        "type": "footer",
        "text": "Creating Your First Android App ",
        "bbox": [
            686,
            951,
            859,
            966
        ],
        "page_idx": 114
    },
    {
        "type": "page_number",
        "text": "91 ",
        "bbox": [
            884,
            950,
            904,
            965
        ],
        "page_idx": 114
    },
    {
        "type": "image",
        "img_path": "images/821b92beef92d5e0d8f9d0c7bc3bb6ec58d9f86e6a738bf16ea8a0e58dd1e5dc.jpg",
        "image_caption": [
            "Figure 4-17: Android Studio’s code completion feature suggests code as we type, similar to Eclipse’s content assist feature. "
        ],
        "image_footnote": [],
        "bbox": [
            89,
            64,
            896,
            427
        ],
        "page_idx": 115
    },
    {
        "type": "image",
        "img_path": "images/717ae4993c80d32ab411d7913a072a7183d6e56f1d12a2951a25872741217bc4.jpg",
        "image_caption": [
            "Figure 4-18: Use the code completion feature to create a new OnClickListener to add to the button btnGuess. "
        ],
        "image_footnote": [],
        "bbox": [
            89,
            500,
            900,
            809
        ],
        "page_idx": 115
    },
    {
        "type": "page_number",
        "text": "92 ",
        "bbox": [
            91,
            950,
            113,
            965
        ],
        "page_idx": 115
    },
    {
        "type": "footer",
        "text": "Chapter 4 ",
        "bbox": [
            136,
            953,
            194,
            965
        ],
        "page_idx": 115
    },
    {
        "type": "text",
        "text": "When the user clicks the Guess! button, we need to check their guess against the secret number. Add checkGuess(); inside the braces of the onClick() method. ",
        "bbox": [
            240,
            64,
            904,
            115
        ],
        "page_idx": 116
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public void onClick(View v) { checkGuess(); } ",
        "guess_lang": "txt",
        "bbox": [
            238,
            133,
            488,
            181
        ],
        "page_idx": 116
    },
    {
        "type": "text",
        "text": "The guessing game mobile app is now ready for its first run. The fully functional code for this first version of the guessing game is shown here. Your version may differ slightly, perhaps with a couple of extra methods for handling menu items, but because we’re not using the menu, these have been removed for space (see Chapter 5 to learn how to create options menus and settings): ",
        "bbox": [
            240,
            201,
            904,
            307
        ],
        "page_idx": 116
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "package com.brysonpayne.guessinggame;   \nimport android.os.Bundle;   \nimport android.support.design.widgetFLOATingActionButton;   \nimport android.support/design.widget.Smoothbar;   \nimport android.support.v7.app.AppCompatActivity;   \nimport android.support.v7.widgetToolBar;   \nimport android.view.View;   \nimport android.view.Menu;   \nimport android.view.MenuItem;   \nimport android.widget.EditText;   \nimport android.widget.Button;   \nimport android.widget.TextView;   \nimport org.w3c.dom.Text;   \npublic classMainActivity extends AppCompatActivity { private EditText txtGuess; private Button btnGuess; private TextView lblOutput; private int theNumber; public void checkGuess() { String guessText $=$ txtGuess.getText().toString(); String message $= \\mathrm{\"\"}$ try{ int guess $=$ Integer.parseInt(guessText); if (guess < theNumber) message $=$ guess $^+$ \"is too low. Try again.\"; else if (guess > theNumber) message $=$ guess $^+$ \"is too high. Try again.\"; else { message $=$ guess $^+$ \"is correct. You win! Let's play again!\"; newGame(); } ",
        "bbox": [
            240,
            325,
            801,
            831
        ],
        "page_idx": 116
    },
    {
        "type": "footer",
        "text": "Creating Your First Android App ",
        "bbox": [
            686,
            954,
            857,
            966
        ],
        "page_idx": 116
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            884,
            951,
            904,
            963
        ],
        "page_idx": 116
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "} catch (Exception e) { message = \"Enter a whole number between 1 and 100.\"; } finally { lblOutput.setText(message); txtGuess.requestFocus(); txtGuess.selectAll(); } } public void newGame() { theNumber = (int)(Math.random() * 100 + 1); } @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); txtGuess = (EditText) findViewById(R.id.txtGuess); btnGuess = (Button) findViewById(R.id.btnGuess);LBLOutput = (TextView) findViewById(R.id.LblOutput); newGame(); btnGuess.set OnClickListener(new View.OnClickListener() { @Override public void onClick(View v) { checkGuess(); } }); Toolbar toolbar = (ToolBar) findViewById(R.idtoolbar); setSupportActionBar toolbar); } ",
        "guess_lang": "txt",
        "bbox": [
            232,
            61,
            779,
            519
        ],
        "page_idx": 117
    },
    {
        "type": "text",
        "text": "In the next two sections, you’ll learn how to run the app on the Android emulator and on real Android devices. ",
        "bbox": [
            234,
            540,
            823,
            575
        ],
        "page_idx": 117
    },
    {
        "type": "text",
        "text": "Running the App on the Android Emulator ",
        "text_level": 1,
        "bbox": [
            128,
            606,
            652,
            632
        ],
        "page_idx": 117
    },
    {
        "type": "text",
        "text": "Now we have a working version of the Java code to run the app, but we still need to test it. Unlike the command line and desktop apps, the mobile app can’t run on a PC by itself, because PCs don’t have the Android operating system. To run your app for testing, you’ll need either an Android device or an emulator that will simulate an Android device on your PC. In this section, we’ll create an Android virtual device for testing your apps. ",
        "bbox": [
            234,
            638,
            894,
            747
        ],
        "page_idx": 117
    },
    {
        "type": "text",
        "text": "While viewing the MainActivity.java file, press the run button or select the menu item Run4Run ‘app’. A pop-up window will ask you to select a deployment target, which is a device you want to run the app on, as shown in Figure 4-19. ",
        "bbox": [
            234,
            747,
            882,
            819
        ],
        "page_idx": 117
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            951,
            111,
            963
        ],
        "page_idx": 117
    },
    {
        "type": "footer",
        "text": "Chapter 4 ",
        "bbox": [
            136,
            954,
            192,
            965
        ],
        "page_idx": 117
    },
    {
        "type": "image",
        "img_path": "images/c8cda06c489bd57b1fc45e88e554b67b76942678742c6dd05201bdf164e407ae.jpg",
        "image_caption": [
            "Figure 4-19: To run an Android app, you must choose a target device—either an emulator or an actual device. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            64,
            684,
            193
        ],
        "page_idx": 118
    },
    {
        "type": "text",
        "text": "Click the Create New Virtual Device button to begin configuring a new Android virtual device (AVD). Let’s begin by choosing the type of device, as shown in Figure 4-20. Then click Next. ",
        "bbox": [
            236,
            255,
            906,
            310
        ],
        "page_idx": 118
    },
    {
        "type": "image",
        "img_path": "images/00508c96a4b92ec7e99f0bd3f9ebfeba0970c0ae7993e4c4ea34e6ed6556ad1a.jpg",
        "image_caption": [
            "Figure 4-20: Choose a device to emulate. "
        ],
        "image_footnote": [],
        "bbox": [
            97,
            322,
            898,
            734
        ],
        "page_idx": 118
    },
    {
        "type": "text",
        "text": "We’ll select a Nexus 6P to start with, but feel free to test out other devices. If you decide to develop your own app for the Google Play Store, you’ll want to test it across a variety of screen sizes and device types, so you can try setting up several different emulators. But let’s start small for now with just one. ",
        "bbox": [
            236,
            780,
            890,
            872
        ],
        "page_idx": 118
    },
    {
        "type": "footer",
        "text": "Creating Your First Android App ",
        "bbox": [
            684,
            953,
            857,
            966
        ],
        "page_idx": 118
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            884,
            950,
            904,
            963
        ],
        "page_idx": 118
    },
    {
        "type": "text",
        "text": "Next, we need to select the system image, usually either x86 or ARM. We’ll be using an ARM image, so click the Other Images tab, as shown in Figure 4-21. ",
        "bbox": [
            230,
            64,
            876,
            118
        ],
        "page_idx": 119
    },
    {
        "type": "image",
        "img_path": "images/6330b5d3967b22374c8ae690500d19d884cd0cbf5f9203a4b122068690f5fb24.jpg",
        "image_caption": [
            "Figure 4-21: You can choose either an x86 or ARM emulator; ARM is slower but tends to work more consistently on different types of processors. "
        ],
        "image_footnote": [],
        "bbox": [
            89,
            130,
            890,
            548
        ],
        "page_idx": 119
    },
    {
        "type": "text",
        "text": "If the Android version, API level, or emulator you want is displayed in a gray font, click the Download link for the version you want. ",
        "bbox": [
            230,
            609,
            878,
            645
        ],
        "page_idx": 119
    },
    {
        "type": "text",
        "text": "Click Next when you’ve chosen the Android emulator you want. For now, let’s use the Nougat API 24 ARM Android 7.0 version with Google APIs. You’ll see a final screen asking you to verify your configuration, including any advanced settings changes you want to make. Let’s change the name of the AVD, the device you’re emulating, to My Nexus 6P, as shown in Figure 4-22. ",
        "bbox": [
            230,
            647,
            880,
            753
        ],
        "page_idx": 119
    },
    {
        "type": "text",
        "text": "If you have trouble getting your emulator to run on an older computer or on a computer with less than 8 GB of RAM, click Show Advanced Settings, scroll down to Memory and Storage, and change the RAM amount to 768 MB. ",
        "bbox": [
            230,
            755,
            900,
            825
        ],
        "page_idx": 119
    },
    {
        "type": "page_number",
        "text": "96 ",
        "bbox": [
            91,
            950,
            113,
            963
        ],
        "page_idx": 119
    },
    {
        "type": "footer",
        "text": "Chapter 4 ",
        "bbox": [
            134,
            953,
            194,
            965
        ],
        "page_idx": 119
    },
    {
        "type": "image",
        "img_path": "images/38942e0317c2d487a88783e95b2e6c71f1cbfb7c02d37383d0a2cd8e3e799a54.jpg",
        "image_caption": [
            "Figure 4-22: Name your new AVD. "
        ],
        "image_footnote": [],
        "bbox": [
            97,
            64,
            898,
            477
        ],
        "page_idx": 120
    },
    {
        "type": "text",
        "text": "Click Finish, and your new device will be created and saved to disk. Now it’s time to start the emulator and try out your device. You should see the Select Deployment Target window again, but this time, it shows $M \\mathfrak { y }$ Nexus 6P as an available emulator. Now click OK, as shown in Figure 4-23. ",
        "bbox": [
            238,
            524,
            888,
            597
        ],
        "page_idx": 120
    },
    {
        "type": "image",
        "img_path": "images/84b63bfc90f97376b190b98c08f0bbd4c4e03aacfcfd5250985897ba5c26f815.jpg",
        "image_caption": [
            "Figure 4-23: Choose the emulator you just created as your deployment target. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            606,
            718,
            773
        ],
        "page_idx": 120
    },
    {
        "type": "text",
        "text": "After a few moments, you’ll see the message “Starting AVD,” followed by an emulator window that looks like an Android startup screen, as shown in Figure 4-24. This could take several minutes the first time you run the emulator. When the emulator starts up, you might see a lock screen. ",
        "bbox": [
            236,
            836,
            906,
            909
        ],
        "page_idx": 120
    },
    {
        "type": "footer",
        "text": "Creating Your First Android App ",
        "bbox": [
            684,
            953,
            859,
            966
        ],
        "page_idx": 120
    },
    {
        "type": "page_number",
        "text": "97 ",
        "bbox": [
            884,
            948,
            906,
            963
        ],
        "page_idx": 120
    },
    {
        "type": "image",
        "img_path": "images/70c5d6b0a37e8d2aa91180107e81f2b1060edbce465ecd6986f040332d07fb2b.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            232,
            64,
            517,
            451
        ],
        "page_idx": 121
    },
    {
        "type": "image",
        "img_path": "images/f9e2b5ca6f8699438fc9042a0712eb1214dc541375991e0b6f5437e6f81c6a46.jpg",
        "image_caption": [
            "Figure 4-24: The Android emulator booting up (left); the Android virtual device’s home screen (right) "
        ],
        "image_footnote": [],
        "bbox": [
            533,
            63,
            821,
            451
        ],
        "page_idx": 121
    },
    {
        "type": "text",
        "text": "If your emulator shows a lock screen, click the lock at the bottom of the screen and drag it up to unlock the virtual device, similar to swiping the lock upward on an actual Android phone. You might see a welcome screen or two, but feel free to click out of those until you reach the home screen, which is shown in Figure 4-24. ",
        "bbox": [
            230,
            513,
            894,
            603
        ],
        "page_idx": 121
    },
    {
        "type": "text",
        "text": "Now, go back to Android Studio and press the run button again. This time, you’ll see your AVD in the Select Deployment Target dialog (see Figure 4-25). Choose your device and click OK. ",
        "bbox": [
            232,
            603,
            880,
            657
        ],
        "page_idx": 121
    },
    {
        "type": "image",
        "img_path": "images/8fddc0c672d57021cb580cb6576d4221b8587b66ec6a1e7dbdac78f9307f656f.jpg",
        "image_caption": [
            "Figure 4-25: The emulator appears in the list of connected devices when running. "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            669,
            686,
            828
        ],
        "page_idx": 121
    },
    {
        "type": "page_number",
        "text": "98 ",
        "bbox": [
            91,
            950,
            113,
            963
        ],
        "page_idx": 121
    },
    {
        "type": "footer",
        "text": "Chapter 4 ",
        "bbox": [
            134,
            953,
            194,
            965
        ],
        "page_idx": 121
    },
    {
        "type": "text",
        "text": "The project will build one more time, and then it will transfer the executable version of the app to the emulator. (You may be asked to update your Android SDK Tools the first time you run the emulator.) After a few minutes, you’ll see your guessing game app running on the emulator! ",
        "bbox": [
            236,
            63,
            898,
            133
        ],
        "page_idx": 122
    },
    {
        "type": "text",
        "text": "We’ve coded the full app, so you should be able to play the game right away on your emulator. Take a look at Figure 4-26 to see what a round of the game might look like on the app. ",
        "bbox": [
            236,
            136,
            888,
            189
        ],
        "page_idx": 122
    },
    {
        "type": "image",
        "img_path": "images/f5abd985d0aa0cef3bde729ebd29d72c6e6bf967a2f88f8498e2ba33afa5262d.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            97,
            202,
            363,
            561
        ],
        "page_idx": 122
    },
    {
        "type": "image",
        "img_path": "images/3512adcfbfacaf1aa4912f248dda2a3339179fe719be76683451e612f3bd598a.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            367,
            201,
            634,
            560
        ],
        "page_idx": 122
    },
    {
        "type": "image",
        "img_path": "images/f914f98535c67794406c042fdd7ac0ada729151421825249367122f1f2efe21f.jpg",
        "image_caption": [
            "Figure 4-26: The guessing game app running on the emulator screen (left), after one guess (center), and after a winning guess (right). "
        ],
        "image_footnote": [],
        "bbox": [
            638,
            201,
            904,
            560
        ],
        "page_idx": 122
    },
    {
        "type": "text",
        "text": "It works just like the desktop app, but on an Android emulator. Use your keyboard to type a guess and your mouse to click the Guess! button. There are a couple more things we’ll do to improve the user experience, just like we did with the GUI desktop app, but our Android mobile app is fully functional! ",
        "bbox": [
            234,
            623,
            880,
            711
        ],
        "page_idx": 122
    },
    {
        "type": "text",
        "text": "Before we improve the UX, we’ll cover how to run the app on a real Android device. For now, leave your Android emulator open. You can minimize it when you’re not using it, but leave it running in the background while programming to avoid the long startup time. ",
        "bbox": [
            234,
            713,
            896,
            786
        ],
        "page_idx": 122
    },
    {
        "type": "text",
        "text": "No t e ",
        "text_level": 1,
        "bbox": [
            152,
            803,
            218,
            822
        ],
        "page_idx": 122
    },
    {
        "type": "text",
        "text": "If you don’t have an Android device, you can skip to “Improving the UX” on page 102. ",
        "bbox": [
            236,
            803,
            835,
            840
        ],
        "page_idx": 122
    },
    {
        "type": "footer",
        "text": "Creating Your First Android App ",
        "bbox": [
            684,
            953,
            857,
            966
        ],
        "page_idx": 122
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            884,
            950,
            904,
            963
        ],
        "page_idx": 122
    },
    {
        "type": "text",
        "text": "Running the App on a Real Android Device ",
        "text_level": 1,
        "bbox": [
            126,
            63,
            660,
            87
        ],
        "page_idx": 123
    },
    {
        "type": "text",
        "text": "Running the app on a real Android device can take some time and preparation, but if you have a USB cable to connect your device to your computer, you’ll be up and running quickly. ",
        "bbox": [
            230,
            94,
            898,
            151
        ],
        "page_idx": 123
    },
    {
        "type": "text",
        "text": "Preparing Your Device ",
        "text_level": 1,
        "bbox": [
            232,
            168,
            428,
            189
        ],
        "page_idx": 123
    },
    {
        "type": "text",
        "text": "Before you can deploy your own apps to your Android device, you have to enable Developer mode on the device. You’ll also need to change a couple of settings to allow you to develop and debug apps. ",
        "bbox": [
            230,
            195,
            880,
            250
        ],
        "page_idx": 123
    },
    {
        "type": "text",
        "text": "On your Android device, tap Settings and then scroll to the bottom of the Settings menu to find the About tablet, About phone, or About device section. At the bottom of the About screen, you’ll find the Build number entry. Tap the build number at least seven times to enable the secret Developer mode. Developer mode allows you to test the apps you develop on your own device. Figure 4-27 shows the Settings menu (left) and the About menu (center) with Developer mode unlocked. ",
        "bbox": [
            230,
            250,
            884,
            375
        ],
        "page_idx": 123
    },
    {
        "type": "text",
        "text": "After you’ve unlocked Developer mode, tap the back arrow in the upper-left corner of the About screen and open Settings4Developer options. Make sure the Developer options are turned On, as shown in Figure 4-27 (right). You should also turn on USB debugging. ",
        "bbox": [
            230,
            376,
            849,
            448
        ],
        "page_idx": 123
    },
    {
        "type": "image",
        "img_path": "images/346b701cda739443bb81049e1a8e6bc30994631109c99fef8e30f74b7a83b7ea.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            91,
            457,
            357,
            779
        ],
        "page_idx": 123
    },
    {
        "type": "image",
        "img_path": "images/aefc0671a1a9652b9e7309616f3060734c81ae17bce386602a57c50b6b2106fd.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            363,
            457,
            630,
            779
        ],
        "page_idx": 123
    },
    {
        "type": "image",
        "img_path": "images/37750c49b9b85e1f4a1a52ba5354a5026d9603843d71610c35560c594f59e38f.jpg",
        "image_caption": [
            "Figure 4-27: The Settings menu on an Android Nexus 7 tablet (left), the About menu (center), and the Developer options (right). "
        ],
        "image_footnote": [],
        "bbox": [
            634,
            457,
            900,
            779
        ],
        "page_idx": 123
    },
    {
        "type": "text",
        "text": "Now you’re ready to connect an Android phone, tablet, or other device to your computer and run your app. ",
        "bbox": [
            230,
            839,
            888,
            878
        ],
        "page_idx": 123
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 123
    },
    {
        "type": "footer",
        "text": "Chapter 4 ",
        "bbox": [
            144,
            953,
            202,
            965
        ],
        "page_idx": 123
    },
    {
        "type": "text",
        "text": "Connecting Your Device ",
        "text_level": 1,
        "bbox": [
            240,
            64,
            444,
            85
        ],
        "page_idx": 124
    },
    {
        "type": "text",
        "text": "To connect an Android device to your computer, you’ll need a USB cable, preferably the one that came with your phone or tablet. It should be a micro-USB cable, and it is often supplied as part of the charger for your device. Note that not all charger cables are fully functional USB cables— if your cable doesn’t work after you complete the following steps, try a different one. ",
        "bbox": [
            236,
            91,
            898,
            198
        ],
        "page_idx": 124
    },
    {
        "type": "text",
        "text": "Connect your device to your computer using the USB cable. After you plug in, the screen on your phone or tablet will show a window like the one in Figure 4-28 asking whether you want to allow USB debugging from the computer you just attached to. Tap OK. You can select the checkbox beside Always allow from this computer to prevent the pop-up next time you connect by USB to the same computer. ",
        "bbox": [
            236,
            199,
            898,
            307
        ],
        "page_idx": 124
    },
    {
        "type": "text",
        "text": "Allow USB debugging? ",
        "text_level": 1,
        "bbox": [
            257,
            331,
            406,
            346
        ],
        "page_idx": 124
    },
    {
        "type": "text",
        "text": "The computer's RSA key fingerprint is: 09: Always allow from this computer ",
        "bbox": [
            257,
            355,
            519,
            391
        ],
        "page_idx": 124
    },
    {
        "type": "text",
        "text": "CANCEL OK ",
        "bbox": [
            460,
            415,
            539,
            424
        ],
        "page_idx": 124
    },
    {
        "type": "text",
        "text": "Figure 4-28: When you connect your Android device to your computer for the first time, it will ask whether you want to allow USB debugging. ",
        "bbox": [
            238,
            448,
            595,
            498
        ],
        "page_idx": 124
    },
    {
        "type": "text",
        "text": "Allowing USB debugging enables a couple of things. First, we’ll be able to transfer the apps we program right to the Android device by transferring an Android package file (APK). This is usually much faster than running apps on an emulator, and it’s a better way to test how the apps will behave on a real device. Also, we’ll be able to debug apps using the USB connection, meaning we’ll get information back from the Android device to help us debug. This information will include errors and other log entries that we’ll be able to read in a console-like application (called logcat in Android Studio). This is similar to the console output we used to find bugs in our command line and desktop GUI Java apps. ",
        "bbox": [
            236,
            515,
            896,
            696
        ],
        "page_idx": 124
    },
    {
        "type": "text",
        "text": "Now that you’ve connected a real Android device to your computer, let’s see how to run the guessing game app on it! ",
        "bbox": [
            236,
            696,
            904,
            732
        ],
        "page_idx": 124
    },
    {
        "type": "text",
        "text": "Running the App on Your Device ",
        "text_level": 1,
        "bbox": [
            238,
            750,
            521,
            774
        ],
        "page_idx": 124
    },
    {
        "type": "text",
        "text": "Now we’re ready to try the app on the Android device. In Android Studio, press the run button or go to Run4Run ‘app’. This time, the Select Deployment Target window will show two connected devices to choose from, as shown in Figure 4-29: your emulator (My Nexus 6P) and your real Android device. ",
        "bbox": [
            236,
            777,
            869,
            867
        ],
        "page_idx": 124
    },
    {
        "type": "footer",
        "text": "Creating Your First Android App ",
        "bbox": [
            676,
            953,
            849,
            966
        ],
        "page_idx": 124
    },
    {
        "type": "page_number",
        "text": "101 ",
        "bbox": [
            876,
            948,
            904,
            963
        ],
        "page_idx": 124
    },
    {
        "type": "image",
        "img_path": "images/0ca09e15d4f75d63841b1e0c062b984c678456ce89f63f6a0b52fc8cae0787fc.jpg",
        "image_caption": [
            "Figure 4-29: If you’ve unlocked Developer mode, enabled USB debugging, and connected your device successfully, you should be able to select your Android device to run your app. "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            64,
            638,
            205
        ],
        "page_idx": 125
    },
    {
        "type": "text",
        "text": "Choose your real Android device this time and click OK. Android Studio may take a moment to build the application, but once it transfers the APK ",
        "bbox": [
            230,
            298,
            896,
            334
        ],
        "page_idx": 125
    },
    {
        "type": "text",
        "text": "file to your device, you’ll see the guessing game app open right up on your tablet or phone. Play a round or two to verify that it works just as it did on the emulator (maybe even better, or at least faster). Very cool! ",
        "bbox": [
            230,
            334,
            575,
            442
        ],
        "page_idx": 125
    },
    {
        "type": "text",
        "text": "You may notice one important difference right away: the bottom part of the screen is covered by the numeric keypad, as shown in Figure 4-30. ",
        "bbox": [
            232,
            442,
            571,
            515
        ],
        "page_idx": 125
    },
    {
        "type": "text",
        "text": "When we placed the text field (EditText) for the user’s guess, we chose a Number text field for our input so the numeric keypad would show up. But since the emulator runs on a computer, which has its own keyboard, you probably didn’t see this when you ran your app earlier. ",
        "bbox": [
            232,
            515,
            565,
            659
        ],
        "page_idx": 125
    },
    {
        "type": "text",
        "text": "Now that we’re able to run Android apps on an Android phone, tablet, or other device, let’s make a few final improvements to the user experience for the guessing game app. ",
        "bbox": [
            232,
            660,
            573,
            750
        ],
        "page_idx": 125
    },
    {
        "type": "image",
        "img_path": "images/304864e4c633dc50eb1ad6d0a50978a4204b37c985af5fb13f00446ed77b6ab4.jpg",
        "image_caption": [
            "Figure 4-30: The app runs on your own Android device and shows the numeric keypad by default. "
        ],
        "image_footnote": [],
        "bbox": [
            609,
            346,
            900,
            696
        ],
        "page_idx": 125
    },
    {
        "type": "text",
        "text": "Improving the UX ",
        "text_level": 1,
        "bbox": [
            125,
            780,
            351,
            804
        ],
        "page_idx": 125
    },
    {
        "type": "text",
        "text": "The guessing game app works beautifully on both the Android emulator and on real Android devices, but there are a few UX items we can improve upon. First, we’ll center the user’s guess in the Number text field. Second, ",
        "bbox": [
            230,
            812,
            884,
            867
        ],
        "page_idx": 125
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 125
    },
    {
        "type": "footer",
        "text": "Chapter 4 ",
        "bbox": [
            144,
            951,
            202,
            966
        ],
        "page_idx": 125
    },
    {
        "type": "text",
        "text": "we’ll learn how to treat the enter key just like the Guess! button to make the app more intuitive to the user. ",
        "bbox": [
            236,
            63,
            876,
            99
        ],
        "page_idx": 126
    },
    {
        "type": "text",
        "text": "Centering the User’s Guess in the Text Field ",
        "text_level": 1,
        "bbox": [
            238,
            118,
            621,
            139
        ],
        "page_idx": 126
    },
    {
        "type": "text",
        "text": "In Android Studio, open the content_main.xml layout file again. Select the text field, called txtGuess, by clicking it in the design preview. Under the Properties pane, find textAlignment. The textAlignment property in Android is similar to the horizontalAlignment property in the desktop GUI—it allows us to change the alignment of the text the user enters. ",
        "bbox": [
            236,
            145,
            906,
            234
        ],
        "page_idx": 126
    },
    {
        "type": "text",
        "text": "Click the center text alignment option, the icon that looks like centered text. If you want to test it in the design preview without running the app, scroll to find the text property and enter a value of 50. The number should appear centered in the text field in the design preview pane. Be sure to delete the test value if you don’t want it to show up in the actual app. ",
        "bbox": [
            236,
            235,
            902,
            325
        ],
        "page_idx": 126
    },
    {
        "type": "text",
        "text": "Adding a Listener for the Enter Key ",
        "text_level": 1,
        "bbox": [
            238,
            345,
            547,
            367
        ],
        "page_idx": 126
    },
    {
        "type": "text",
        "text": "Let’s set up an event listener to handle the enter key the same way we handled a click on the Guess! button, with a call to checkGuess(). ",
        "bbox": [
            236,
            373,
            849,
            406
        ],
        "page_idx": 126
    },
    {
        "type": "text",
        "text": "Go back to the MainActivity.java source code file, scroll down to the onCreate() method, and find where we added an onClickListener to the button btnGuess. (You may need to expand the event listener code by clicking the $^ +$ in the left margin beside btnGuess.setOnClickListener() to make it look like the code shown here.) Right below that, we can add an event listener to the text field txtGuess to handle action events such as pressing the enter key. The following code adds a listener to txtGuess: ",
        "bbox": [
            236,
            409,
            902,
            534
        ],
        "page_idx": 126
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "btnGuess.setOnClickListener(new View.OnClickListener() { public void onClick(View v) { checkGuess(); } }); txtGuess.setOnEditorActionListener(new TextView.OnEditorActionListener() { @Override public boolean onEditorAction(TextView v, int actionId, KeyEvent event) { checkGuess(); 1 return true; } }; ",
        "guess_lang": "java",
        "bbox": [
            236,
            549,
            894,
            741
        ],
        "page_idx": 126
    },
    {
        "type": "text",
        "text": "The editor action we’re listening for is when the user presses the enter key while typing in the text field. When that event happens, we want to check the guess the user entered. ",
        "bbox": [
            236,
            759,
            880,
            813
        ],
        "page_idx": 126
    },
    {
        "type": "text",
        "text": "We changed the return statement to return a value of true $\\bullet$ because we want to keep the keyboard on the screen so the user can enter their next guess. The return statement tells the text field whether the event handler code ",
        "bbox": [
            236,
            813,
            906,
            869
        ],
        "page_idx": 126
    },
    {
        "type": "footer",
        "text": "Creating Your First Android App ",
        "bbox": [
            676,
            953,
            849,
            966
        ],
        "page_idx": 126
    },
    {
        "type": "page_number",
        "text": "103 ",
        "bbox": [
            876,
            948,
            904,
            963
        ],
        "page_idx": 126
    },
    {
        "type": "text",
        "text": "we’ve provided completed the event. By returning the value true, we’ve told Android that we’ve done everything that needs to be done to check the user’s guess. If we returned false here instead, Android would finish processing the enter key by removing the number keypad from the screen—as it does by default when you finish typing in a form on a web page. We don’t want the keypad to disappear after every guess, so we return true. ",
        "bbox": [
            230,
            64,
            894,
            172
        ],
        "page_idx": 127
    },
    {
        "type": "text",
        "text": "Adding One More Finishing Touch ",
        "text_level": 1,
        "bbox": [
            232,
            190,
            523,
            213
        ],
        "page_idx": 127
    },
    {
        "type": "text",
        "text": "Run the app a few times to test it, and you’ll see the enter key allows you to enter and check guesses quickly and efficiently. You’ll also see your guesses centered nicely in the text field. However, when you win, depending on the API version, screen size, or density of your device, you may see an alignment problem like the one shown in Figure 4-31. ",
        "bbox": [
            230,
            219,
            896,
            309
        ],
        "page_idx": 127
    },
    {
        "type": "text",
        "text": "The problem is that the TextView named lblOutput resizes to show the longer “You win! Let’s play again!” text, and some older APIs may not center this correctly. You can prevent this by expanding lblOutput to the full width of the screen in the design preview and by changing the textAlignment property to center. Now you have a complete guessing game app to play on your device and to share with friends! The final version 1.0 of the app is shown running on a Nexus 7, with Font settings at Large, in Figure 4-32. ",
        "bbox": [
            230,
            309,
            894,
            435
        ],
        "page_idx": 127
    },
    {
        "type": "image",
        "img_path": "images/566116de1bcffd00bbdee10412af96645eaea7ae72ad8b7a40e6e498d833ae58.jpg",
        "image_caption": [
            "Figure 4-31: If you notice misaligned text, you may need to expand and center the TextView lblOutput. "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            447,
            525,
            797
        ],
        "page_idx": 127
    },
    {
        "type": "image",
        "img_path": "images/01510dc1b987a26006982295edf0a0dd03895fcb448ee1dbd553351b80b8d578.jpg",
        "image_caption": [
            "Figure 4-32: Your finished version 1.0 of the mobile app, with all the user experience improvements in place "
        ],
        "image_footnote": [],
        "bbox": [
            555,
            447,
            847,
            797
        ],
        "page_idx": 127
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 127
    },
    {
        "type": "footer",
        "text": "Chapter 4 ",
        "bbox": [
            144,
            953,
            202,
            965
        ],
        "page_idx": 127
    },
    {
        "type": "text",
        "text": "Wow! You’ve gone from a simple, text-based, command line numberguessing program, to a sophisticated GUI desktop game, to a fully featured mobile app that runs on real Android devices. Are you starting to see the power and flexibility of Java? And in Chapter 5, we’ll make the app even more professional with a settings menu and the ability to store user preferences! ",
        "bbox": [
            236,
            63,
            898,
            174
        ],
        "page_idx": 128
    },
    {
        "type": "text",
        "text": "What You Learned ",
        "text_level": 1,
        "bbox": [
            130,
            202,
            369,
            225
        ],
        "page_idx": 128
    },
    {
        "type": "text",
        "text": "You’ve seen that much of the Java code used in a text-based and GUI desktop program can build the foundation of a modern mobile app, thanks to Java’s reusability across multiple platforms. We have also picked up several new mobile-specific skills in this chapter: ",
        "bbox": [
            234,
            234,
            890,
            307
        ],
        "page_idx": 128
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Starting a new Android Studio app project ",
            "Building the GUI layout in design view in Android Studio, including changing the properties of various elements in the Properties pane ",
            "Naming GUI components in a layout for easy use in Java code ",
            "Connecting the Android GUI layout elements to your Java code ",
            "Adding your own methods, such as checkGuess() and newGame(), to an Android app ",
            "Reusing Java code in an Android app ",
            "Handling events in Android, including button clicks and keyboard/ editor actions such as pressing the enter key ",
            "Testing apps by running them on an Android virtual device using the Android emulator ",
            "Running an app on an Android phone, tablet, or other device by enabling Developer mode and USB debugging ",
            "Improving the user experience by changing widget properties and adding user-friendly finishing touches "
        ],
        "bbox": [
            238,
            319,
            884,
            648
        ],
        "page_idx": 128
    },
    {
        "type": "text",
        "text": "Programming Challenges ",
        "text_level": 1,
        "bbox": [
            130,
            680,
            452,
            705
        ],
        "page_idx": 128
    },
    {
        "type": "text",
        "text": "Try these programming challenge exercises to review and practice what you’ve learned and to expand your programming skills by trying something new. If you get stuck, visit https://www.nostarch.com/learnjava/ to download sample solutions. ",
        "bbox": [
            234,
            711,
            904,
            785
        ],
        "page_idx": 128
    },
    {
        "type": "footer",
        "text": "Creating Your First Android App ",
        "bbox": [
            676,
            951,
            849,
            966
        ],
        "page_idx": 128
    },
    {
        "type": "page_number",
        "text": "105 ",
        "bbox": [
            876,
            948,
            906,
            965
        ],
        "page_idx": 128
    },
    {
        "type": "aside_text",
        "text": "PROGRAMMING CHALLENGES ",
        "bbox": [
            938,
            63,
            960,
            259
        ],
        "page_idx": 128
    },
    {
        "type": "text",
        "text": "#1: “Toast”-ing to the Number of Tries ",
        "text_level": 1,
        "bbox": [
            234,
            64,
            573,
            87
        ],
        "page_idx": 129
    },
    {
        "type": "text",
        "text": "In the programming challenges for Chapter 3, you changed the winning message to tell the user how many tries they took to win: ",
        "bbox": [
            232,
            91,
            587,
            163
        ],
        "page_idx": 129
    },
    {
        "type": "text",
        "text": "62 is correct! You win after 7 tries! ",
        "bbox": [
            232,
            180,
            549,
            196
        ],
        "page_idx": 129
    },
    {
        "type": "text",
        "text": "Let’s do something similar for the Android version, with a twist—or, should I say, a Toast? A Toast is an Android widget for creating pop-up message windows. Toast pop-ups are a convenient way to show a quick notice, such as an error or a note telling the user they’ve won the game. See the Toast message near the bottom of the screen in Figure 4-33. ",
        "bbox": [
            230,
            214,
            595,
            394
        ],
        "page_idx": 129
    },
    {
        "type": "text",
        "text": "You can create a Toast message popup with the Toast.makeText() method. Here’s a sample to help you add a Toast pop-up to the else statement for winning the game: ",
        "bbox": [
            232,
            396,
            595,
            486
        ],
        "page_idx": 129
    },
    {
        "type": "image",
        "img_path": "images/3a8cd51c778ce00c434ecf0e77dcc47d285b92eb05b5fec5f367dfee1ebc6c4c.jpg",
        "image_caption": [
            "Figure 4-33: A Toast message pops up on the screen to alert the user to important information. "
        ],
        "image_footnote": [],
        "bbox": [
            640,
            64,
            900,
            415
        ],
        "page_idx": 129
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "else{ message $=$ guess $^+$ \"is correct.You win after $\" +$ numberOfTries $^+$ \"tries!\"; Toast.makeText(MainActivity.this, message, Toast.LENGTH LONG).show(); newGame();   \n} ",
        "bbox": [
            232,
            501,
            829,
            614
        ],
        "page_idx": 129
    },
    {
        "type": "text",
        "text": "The Toast message in this code will pop up over the MainActivity (our guessing game), displaying the String message for a few seconds thanks to Toast.LENGTH_LONG. There’s also a Toast.LENGTH_SHORT, but it pops up and disappears so quickly that it can be hard to read. The .show() method at the end does the important part, showing the Toast on the screen. ",
        "bbox": [
            230,
            632,
            876,
            722
        ],
        "page_idx": 129
    },
    {
        "type": "text",
        "text": "As with the GUI desktop version, to accomplish this task, you’ll need to create a new variable at the top of your class (like int numberOfTries $\\mathbf { \\mu } = \\mathbf { \\sigma } _ { 0 } ;$ ), add to the number of tries every time the checkGuess() method runs successfully, and change the output message to display the number of tries to the user when they win, both in a Toast pop-up and in the lblOutput field. After counting the number of tries, add the features you learned in Chapter 3 for running out of tries or losing. Give the user seven tries and tell them how many tries are left after each guess. ",
        "bbox": [
            230,
            723,
            900,
            867
        ],
        "page_idx": 129
    },
    {
        "type": "aside_text",
        "text": "SENEETNHNWNNW ",
        "bbox": [
            37,
            64,
            57,
            259
        ],
        "page_idx": 129
    },
    {
        "type": "page_number",
        "text": "106 ",
        "bbox": [
            93,
            950,
            123,
            965
        ],
        "page_idx": 129
    },
    {
        "type": "footer",
        "text": "Chapter 4 ",
        "bbox": [
            144,
            953,
            202,
            965
        ],
        "page_idx": 129
    },
    {
        "type": "text",
        "text": "#2: Adding Visual Appeal ",
        "text_level": 1,
        "bbox": [
            240,
            63,
            464,
            85
        ],
        "page_idx": 130
    },
    {
        "type": "text",
        "text": "Explore some of the more aesthetic properties of the GUI components in Android Studio, including background colors, foreground colors, fonts, textSize, and more. Move components in your guessing game app around to make the interface more visually appealing. For an example of one way you could customize your game, see Figure 4-34. ",
        "bbox": [
            236,
            91,
            615,
            252
        ],
        "page_idx": 130
    },
    {
        "type": "text",
        "text": "You can even add a custom background image (add an image file to the app4res4drawable folder and then select it as the background property for your layout or for a button or other component). Play with various settings—you can always undo by pressing ctrl-Z! ",
        "bbox": [
            236,
            253,
            619,
            381
        ],
        "page_idx": 130
    },
    {
        "type": "image",
        "img_path": "images/8a9961f70b2f24871e26654d2a2c487a9f460dcba68fccf3cc4fd498c3ec9973.jpg",
        "image_caption": [
            "Figure 4-34: Changing the colors, fonts, text size, and arrangement of the components in your app can make it stand out! "
        ],
        "image_footnote": [],
        "bbox": [
            652,
            64,
            906,
            381
        ],
        "page_idx": 130
    },
    {
        "type": "text",
        "text": "#3: Creating a MadLibs Mobile App ",
        "text_level": 1,
        "bbox": [
            240,
            397,
            549,
            421
        ],
        "page_idx": 130
    },
    {
        "type": "text",
        "text": "Look back at the MadLibGUI.java program you built in Chapter 3 (Programming Challenge #3 on page 74). Now create a mobile version of your MadLibs app that prompts the user for several words ",
        "bbox": [
            236,
            424,
            615,
            515
        ],
        "page_idx": 130
    },
    {
        "type": "text",
        "text": "in a GUI with labels and text fields, such as txtBigAnimal, txtPastTenseVerb, txtSmallContainer, and txtFood. Add a button that the user can press to generate their own MadLibs-style story. It may be a nice touch to include some default or initial text in each text field, just to give the user an idea of how the program works. ",
        "bbox": [
            236,
            516,
            902,
            605
        ],
        "page_idx": 130
    },
    {
        "type": "text",
        "text": "When the user clicks the button, the program should display the completed MadLibs story in a TextView or in an EditText widget—the EditText makes it possible to copy and paste the user’s funny story if they wish to share it. Play with the colors, fonts, and layout until you’re happy with the result and then share your creation with a friend! ",
        "bbox": [
            236,
            606,
            890,
            696
        ],
        "page_idx": 130
    },
    {
        "type": "text",
        "text": "Hi n t ",
        "text_level": 1,
        "bbox": [
            154,
            714,
            208,
            729
        ],
        "page_idx": 130
    },
    {
        "type": "text",
        "text": "To make a TextView or EditText show multiple lines, use the escape character sequence \\n to insert a new line in the String message you display using the setText() method, like so: \"Once upon a time... \\n There was a buffalo princess \\n who lived in a soup can.\" This quote will span three lines, separated by new lines wherever the \\n escape sequence appears. ",
        "bbox": [
            236,
            714,
            908,
            806
        ],
        "page_idx": 130
    },
    {
        "type": "footer",
        "text": "Creating Your First Android App ",
        "bbox": [
            676,
            953,
            849,
            966
        ],
        "page_idx": 130
    },
    {
        "type": "page_number",
        "text": "107 ",
        "bbox": [
            876,
            948,
            904,
            963
        ],
        "page_idx": 130
    },
    {
        "type": "aside_text",
        "text": "PROGRAMMING CHALLENGES ",
        "bbox": [
            938,
            64,
            960,
            258
        ],
        "page_idx": 130
    },
    {
        "type": "text",
        "text": "5 ",
        "text_level": 1,
        "bbox": [
            523,
            187,
            623,
            331
        ],
        "page_idx": 132
    },
    {
        "type": "text",
        "text": "P oli s h i ng Yo u r App b y Addi n g Me nus a nd Pr e f e r e nc e s ",
        "text_level": 1,
        "bbox": [
            246,
            379,
            898,
            432
        ],
        "page_idx": 132
    },
    {
        "type": "image",
        "img_path": "images/52954f141ed70184970f47beef2a5ba3f85f1ac007cb1c5a02db0ce39d135c41.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            162,
            475,
            359,
            626
        ],
        "page_idx": 132
    },
    {
        "type": "text",
        "text": "You’ve written a fun Android app, but it’s still missing a few things. You haven’t learned how to build a settings or options ",
        "bbox": [
            355,
            554,
            873,
            632
        ],
        "page_idx": 132
    },
    {
        "type": "text",
        "text": "menu in Android or how to save high scores, game stats, and other information. In this chapter, we’ll add an options menu to our Hi-Lo guessing game app and the capability to store information. ",
        "bbox": [
            238,
            636,
            873,
            741
        ],
        "page_idx": 132
    },
    {
        "type": "text",
        "text": "Adding an Options Menu in Android ",
        "text_level": 1,
        "bbox": [
            130,
            774,
            587,
            798
        ],
        "page_idx": 132
    },
    {
        "type": "text",
        "text": "Most apps and games have options or settings that the user can access through a menu. For the Hi-Lo guessing game, we might want to allow the user to change the game’s difficulty level, start over, see their game stats, or view an About screen, so we’ll create a menu that can perform all of these actions. ",
        "bbox": [
            236,
            806,
            898,
            894
        ],
        "page_idx": 132
    },
    {
        "type": "text",
        "text": "There are four general steps to adding an options menu in Android: ",
        "bbox": [
            269,
            64,
            869,
            82
        ],
        "page_idx": 133
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "1. Edit the app’s default XML menu file to create items that will serve as the options the user can select. ",
            "2. Modify the app’s activity file to display the menu and options that we created in the previous step. ",
            "3. Create an event handler to determine when the user selects an option. ",
            "4. Write the code to execute for each option when the user selects it. "
        ],
        "bbox": [
            232,
            94,
            882,
            216
        ],
        "page_idx": 133
    },
    {
        "type": "text",
        "text": "Adding the options menu not only will make our app look and feel more professional but will also give the user greater control over their gaming experience. My sons loved being able to change the range of the guessing game from 1 to 10, then 1 to 100, then 1 to 1,000, but when we added the Game Stats option that displays the number of games won, I almost couldn’t get my device back from them—they wanted to keep running the number higher and higher! I hope you’ll find these extra features as fun (and maybe as addictive) as they did. ",
        "bbox": [
            230,
            231,
            888,
            375
        ],
        "page_idx": 133
    },
    {
        "type": "text",
        "text": "Adding Items to the Menu’s XML File ",
        "text_level": 1,
        "bbox": [
            232,
            394,
            555,
            415
        ],
        "page_idx": 133
    },
    {
        "type": "text",
        "text": "Open your Hi-Lo guessing game project in Android Studio and, in the Project Explorer pane, change the view at the top left to Android. Then, open the default menu file by expanding app4res4menu and doubleclicking menu_main.xml. ",
        "bbox": [
            230,
            421,
            865,
            492
        ],
        "page_idx": 133
    },
    {
        "type": "text",
        "text": "Change the XML code in your menu_main.xml file to match the following listing: ",
        "bbox": [
            230,
            493,
            896,
            530
        ],
        "page_idx": 133
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "<menu xmlns:android=\"http://schemas.android.com/apk/res/android\">\n    <item\n        android:id=\"@+id/action_settings\"\n        android:title=\"Settings\" />\n    <item\n        android:id=\"@+id/action_newgame\"\n        android:title=\"New Game\" />\n    <item\n        android:id \"@+id/action_gamestats\"\n        android:title=\"Game Stats\" />\n    <item\n        android:id \"@+id/action_about\"\n        android:title=\"About\" />\n</menu> ",
        "guess_lang": "xml",
        "bbox": [
            232,
            543,
            785,
            767
        ],
        "page_idx": 133
    },
    {
        "type": "text",
        "text": "The <menu> tag creates a menu resource using the XML namespace for Android XML documents, identified by the uniform resource identifier (URI) http://schemas.android.com/apk/res/android. We can use XML to store or display everything from web pages to databases by connecting XML ",
        "bbox": [
            230,
            786,
            884,
            858
        ],
        "page_idx": 133
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            119,
            963
        ],
        "page_idx": 133
    },
    {
        "type": "footer",
        "text": "Chapter 5 ",
        "bbox": [
            142,
            953,
            198,
            965
        ],
        "page_idx": 133
    },
    {
        "type": "text",
        "text": "tags to those elements. The xmlns (XML namespace) attribute in this code selects the main Android namespace so that the tags in this XML file will refer to common elements in an Android application. So, the <menu> tag refers to an Android menu, and each <item> tag describes an item or entry in that menu with attributes. This menu will have the four options Settings, New Game, Game Stats, and About, so we add four <item> tags. We assign those names to each item’s title attribute, which determines the text displayed for each option when the user opens the menu. We’ll use the id attribute later in our code to determine which option the user has selected. ",
        "bbox": [
            236,
            63,
            898,
            225
        ],
        "page_idx": 134
    },
    {
        "type": "text",
        "text": "Save the menu_main.xml file. Now it’s time to display our options menu in the Hi-Lo guessing game app. ",
        "bbox": [
            236,
            226,
            890,
            262
        ],
        "page_idx": 134
    },
    {
        "type": "text",
        "text": "Displaying the Options Menu ",
        "text_level": 1,
        "bbox": [
            238,
            280,
            494,
            303
        ],
        "page_idx": 134
    },
    {
        "type": "text",
        "text": "We’ve set up the menu, but in order to display it, we need to add some Java code to our app’s MainActivity.java file. Open MainActivity.java in the Project Explorer pane under app4java4com.yourdomain.GuessingGame. ",
        "bbox": [
            236,
            307,
            906,
            361
        ],
        "page_idx": 134
    },
    {
        "type": "text",
        "text": "Near the middle or bottom of the MainActivity class, you should find a method called onCreateOptionsMenu(). Modify it to match the code snippet below. (If your code doesn’t have the onCreateOptionsMenu() method, add the following code after the closing brace of onCreate() but before the final closing brace for MainActivity.) ",
        "bbox": [
            236,
            363,
            902,
            451
        ],
        "page_idx": 134
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public boolean onCreateOptionsMenu (Menu menu) { MenuInflater inflater = getMenuInflater(); inflater.inflate(Rmenumenu_main, menu); return true; } // Final closing brace of theMainActivity.java file ",
        "guess_lang": "java",
        "bbox": [
            240,
            468,
            700,
            563
        ],
        "page_idx": 134
    },
    {
        "type": "text",
        "text": "The onCreateOptionsMenu() method does exactly what its name implies—it tells Android what to do when creating the options menu for our app. In this case, we tell Android we want to expand the menu_main.xml file to serve as our options menu. The menu_main.xml file isn’t a menu yet, so we need to convert it into a menu using a class called a MenuInflator. We’ll create a MenuInflator instance, which we call inflater, by using the getMenuInflator() method. Once we have inflater, we call the inflate() method and pass it the XML file (R.menu.menu_main) and the menu we want the XML file’s items to inflate into (menu). You may need to press alt-enter (on macOS, option-enter) to correct any missing import statements as you add the code to your file. ",
        "bbox": [
            236,
            582,
            890,
            780
        ],
        "page_idx": 134
    },
    {
        "type": "text",
        "text": "After making this change, save and run the app. Android lets you know there’s an options menu available by displaying the three dots in the action bar of your app (see Figure 5-1, top). Clicking the dots will display the options menu (see Figure 5-1, bottom). ",
        "bbox": [
            236,
            780,
            886,
            852
        ],
        "page_idx": 134
    },
    {
        "type": "footer",
        "text": "Polishing Your App by Adding Menus and Preferences ",
        "bbox": [
            565,
            951,
            855,
            965
        ],
        "page_idx": 134
    },
    {
        "type": "page_number",
        "text": "111 ",
        "bbox": [
            878,
            948,
            904,
            963
        ],
        "page_idx": 134
    },
    {
        "type": "image",
        "img_path": "images/ec18df19d20ee6af64db40ebfe62fbd421083b1405b8cde6e46198b49d4fa767.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            232,
            63,
            720,
            165
        ],
        "page_idx": 135
    },
    {
        "type": "image",
        "img_path": "images/f41d8f5855f798e340d11b4c4786c1cde8040b4a192ea24c7b68bd33e37ea099.jpg",
        "image_caption": [
            "Figure 5-1: The options menu shows up as three dots in the app’s action bar (top). Clicking the three dots will expand the options menu (bottom). "
        ],
        "image_footnote": [],
        "bbox": [
            232,
            177,
            718,
            327
        ],
        "page_idx": 135
    },
    {
        "type": "text",
        "text": "You’ll notice that clicking the options doesn’t do anything yet because we haven’t added the code to respond to user selections. We’ll do that next. ",
        "bbox": [
            230,
            403,
            890,
            442
        ],
        "page_idx": 135
    },
    {
        "type": "text",
        "text": "Responding to User Selections ",
        "text_level": 1,
        "bbox": [
            232,
            459,
            500,
            481
        ],
        "page_idx": 135
    },
    {
        "type": "text",
        "text": "When the user chooses an option from the menu, we want our app to perform the requested action. In order for our app to do that, we need to add an event handler that keeps track of which option was selected. We’ll use the id attribute associated with each item to tell selections apart. ",
        "bbox": [
            230,
            487,
            884,
            558
        ],
        "page_idx": 135
    },
    {
        "type": "text",
        "text": "In the MainActivity.java file, find and modify the onOptionsItemSelected() event handler method. Alternatively, you can add it right below the method onCreateOptionsMenu() that we modified in the previous section, but before the closing brace on the final line of the file. ",
        "bbox": [
            230,
            558,
            890,
            633
        ],
        "page_idx": 135
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "public boolean onCreateOptionsMenu(Menu menu) { MenuInflater,inflater $\\equiv$ getMenuInflater(); inflater.inflate(Rmenu menu_main,menu); return true;   \npublicboolean onOptionsItemSelected(Menuitem item){ switch(item.getIID(){ caseR.id.action_settings: return true; case R.id.action_newgame: newGame(); return true; case R.id.action在游戏中: return true; case R.id.action_about: return true; ",
        "bbox": [
            265,
            647,
            720,
            902
        ],
        "page_idx": 135
    },
    {
        "type": "page_number",
        "text": "112 ",
        "bbox": [
            93,
            948,
            119,
            963
        ],
        "page_idx": 135
    },
    {
        "type": "footer",
        "text": "Chapter 5 ",
        "bbox": [
            142,
            951,
            198,
            965
        ],
        "page_idx": 135
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "default:\n    return super.onOptionsItemSelectedItem(item);\n} ",
        "guess_lang": "txt",
        "bbox": [
            238,
            61,
            724,
            142
        ],
        "page_idx": 136
    },
    {
        "type": "text",
        "text": "In this code, we use a switch statement to determine which of the options the user selected on the menu. A switch statement is another way of testing multiple conditions, similar to a long chain of if-else statements. Rather than chaining four if-else statements to test for each possible menu item selection, though, we can use a single switch statement, with the variable we’re testing inside parentheses after the switch keyword. In this example, we’re checking the id of the menu item the user selected, so we use switch (item.getItemId()). Then, inside the braces for the switch statement, we list the values we want to test as case statements (e.g., case R.id.action_settings), each of which is followed by a colon (:), the code to run for that selection, and either a break or return statement. This event handler returns a Boolean value, so we’ve used return statements instead of break statements in each case block. If we didn’t have return statements here, we would need to use a break command as the final statement of each case. ",
        "bbox": [
            236,
            160,
            906,
            412
        ],
        "page_idx": 136
    },
    {
        "type": "text",
        "text": "Each case statement in this code tests for one of the id values of the items we entered in the menu_main.xml file, and the code for each value will execute in response to the user’s selection. Right now, we have code only for the action_newgame case, which starts a new game using the newGame() method. The other cases require writing a bit more code, so we’ll define those one at a time. ",
        "bbox": [
            236,
            412,
            906,
            521
        ],
        "page_idx": 136
    },
    {
        "type": "text",
        "text": "Creating an Alert Dialog Pop-up for the About Screen ",
        "text_level": 1,
        "bbox": [
            238,
            540,
            698,
            561
        ],
        "page_idx": 136
    },
    {
        "type": "text",
        "text": "For the About menu option, we’ll pop up a dialog window similar to other applications you’ve likely seen. To do this, we’ll use an alert dialog, a flexible pop-up used to inform the user about something or to prompt them for a response. This kind of pop-up is more adaptable than the Toast pop-up we used in Chapter 4 (Programming Challenge #1 on page 106), because the AlertDialog class allows us to customize the properties of our dialog through the Builder subclass. In this case, we’ll use an alert dialog to respond to the user selecting the About option with a message telling them who created the awesome Hi-Lo guessing game they’ve been playing. ",
        "bbox": [
            236,
            567,
            904,
            729
        ],
        "page_idx": 136
    },
    {
        "type": "text",
        "text": "Add the following code to the case statement for the action_about item selection: ",
        "bbox": [
            236,
            729,
            884,
            764
        ],
        "page_idx": 136
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [
            "case R.id.action_about: "
        ],
        "code_body": "AlertDialog aboutDialog = new AlertDialog.Builder(MainActivity.this).create();  \nAlertDialog.setTitle(\"About Guessing Game\");  \nAlertDialog.setMessage(\"c2018 Your Name \");  \nAlertDialog.setButton(A AlertDialog.B BUTTON_NEUTRAL, \"OK\", new OnClickListener.OnClickListener() { public void onClick(DialogInterface dialog, int which) { ⑤ dialogdismiss(); } ",
        "guess_lang": "java",
        "bbox": [
            246,
            798,
            890,
            924
        ],
        "page_idx": 136
    },
    {
        "type": "footer",
        "text": "Polishing Your App by Adding Menus and Preferences ",
        "bbox": [
            565,
            951,
            855,
            966
        ],
        "page_idx": 136
    },
    {
        "type": "page_number",
        "text": "113 ",
        "bbox": [
            876,
            948,
            904,
            963
        ],
        "page_idx": 136
    },
    {
        "type": "text",
        "text": "We use the AlertDialog.Builder class $\\bullet$ to create a customized popup window. The code at $\\bullet$ sets the title of the pop-up window to \"About Guessing Game\", and the line at $\\otimes$ displays a simple message with copyright information and your name (though you can write any text you’d like here). The setButton() method $\\bullet$ adds a button to the pop-up with the text \"OK\", and the subsequent onClick() event listener closes the pop-up whenever the user clicks the OK button by calling the dismiss() method . Finally, the customized pop-up is shown with the show() command . ",
        "bbox": [
            230,
            130,
            898,
            273
        ],
        "page_idx": 137
    },
    {
        "type": "text",
        "text": "Use alt-enter (or option-enter) to import the AlertDialog class. Then save your updated code and run the new version of the app. When you click the options menu and select the About option, you should see a pop-up window like the one in Figure 5-2. ",
        "bbox": [
            230,
            274,
            896,
            346
        ],
        "page_idx": 137
    },
    {
        "type": "text",
        "text": "About Guessing Game ",
        "text_level": 1,
        "bbox": [
            263,
            382,
            501,
            403
        ],
        "page_idx": 137
    },
    {
        "type": "text",
        "text": "(c)2018 Bryson Payne. ",
        "bbox": [
            265,
            411,
            454,
            429
        ],
        "page_idx": 137
    },
    {
        "type": "text",
        "text": "",
        "bbox": [
            277,
            469,
            305,
            483
        ],
        "page_idx": 137
    },
    {
        "type": "text",
        "text": "Figure 5-2: A custom alert dialog pop-up ",
        "bbox": [
            232,
            516,
            539,
            534
        ],
        "page_idx": 137
    },
    {
        "type": "text",
        "text": "The Hi-Lo guessing game app is beginning to feel even more like a professional Android app! Now let’s knock it out of the park by allowing the user to choose the difficulty level of the game and to keep track of how many games they’ve won. ",
        "bbox": [
            230,
            552,
            863,
            624
        ],
        "page_idx": 137
    },
    {
        "type": "text",
        "text": "Changing the Guessing Range ",
        "text_level": 1,
        "bbox": [
            125,
            656,
            503,
            680
        ],
        "page_idx": 137
    },
    {
        "type": "text",
        "text": "Letting the user choose the guessing range—say, from 1 to 10, 1 to 100, or 1 to 1,000—would be a huge enhancement. Now that you understand option menus and alert dialogs, let’s map out how we might upgrade the game to allow the user to change the range setting. ",
        "bbox": [
            230,
            687,
            867,
            759
        ],
        "page_idx": 137
    },
    {
        "type": "text",
        "text": "First, we’ll need to add a variable for the range so that instead of using a hardcoded value of 100, we’ll use the user’s chosen range. Second, we’ll need to modify the app’s behavior in a couple of ways. We’ll change the newGame() method to use the new range variable. We’ll also make the TextView that currently reads, \"Enter a number between 1 and 100:\" display a different prompt depending on the range selected. Finally, we’ll need to give the user a method of choosing the range. We’ll do this by building another custom alert dialog with the three range selections: 1 to 10, 1 to 100, and 1 to 1,000. ",
        "bbox": [
            230,
            759,
            880,
            921
        ],
        "page_idx": 137
    },
    {
        "type": "header",
        "text": "});  aboutDialog.show(); return true; ",
        "bbox": [
            244,
            64,
            430,
            111
        ],
        "page_idx": 137
    },
    {
        "type": "page_number",
        "text": "114 ",
        "bbox": [
            93,
            948,
            119,
            963
        ],
        "page_idx": 137
    },
    {
        "type": "footer",
        "text": "Chapter 5 ",
        "bbox": [
            142,
            951,
            198,
            965
        ],
        "page_idx": 137
    },
    {
        "type": "text",
        "text": "Adding a Variable for the Range ",
        "text_level": 1,
        "bbox": [
            238,
            63,
            521,
            85
        ],
        "page_idx": 138
    },
    {
        "type": "text",
        "text": "First, we’ll replace the hardcoded value of 100 we use in the random number calculation with a variable. At the top of the MainActivity class, add a variable for the range and set it to a default value of 100: ",
        "bbox": [
            236,
            91,
            884,
            145
        ],
        "page_idx": 138
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "public classMainActivity extends AppCompatActivity { private EditText txtGuess; private Button btnGuess; private TextView lblOutput; private int theNumber; private int range $= 100$ ",
        "bbox": [
            238,
            160,
            690,
            262
        ],
        "page_idx": 138
    },
    {
        "type": "text",
        "text": "While we’re adding variables, let’s also add a second TextView for the label that reads, \"Enter a number between 1 and 100:\". When the user selects a range other than 1 to 100, this label will no longer be correct, so we need a variable to store the appropriate text to display. We’ll create the variable called lblRange to do this: ",
        "bbox": [
            236,
            274,
            896,
            367
        ],
        "page_idx": 138
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "private int range = 100;  \nprivate TextView lblRange; ",
        "guess_lang": "txt",
        "bbox": [
            271,
            382,
            496,
            415
        ],
        "page_idx": 138
    },
    {
        "type": "text",
        "text": "To wire up the GUI to the lblRange variable, add the following line of code to the onCreate() method: ",
        "bbox": [
            238,
            433,
            880,
            469
        ],
        "page_idx": 138
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); txtGuess = (EditText) findViewById(R.id.txtGuess); btnGuess = (Button) findViewById(R.id.btnGuess); lb1Output = (TextView) findViewById(R.id.lb1Output); lb1Range = (TextView) findViewById(R.id.textView2); ",
        "guess_lang": "javascript",
        "bbox": [
            238,
            484,
            716,
            599
        ],
        "page_idx": 138
    },
    {
        "type": "text",
        "text": "If you get an error, check the name of your prompt’s TextView in the design view: open app4res4layout4content_main.xml and click the label reading \"Enter a number between 1 and 100:\". Change the label’s id property to textView2. ",
        "bbox": [
            236,
            615,
            890,
            684
        ],
        "page_idx": 138
    },
    {
        "type": "text",
        "text": "With the range and lblRange variables set up, it’s time to modify the behavior of the app to use these variables instead of hardcoded values. ",
        "bbox": [
            236,
            687,
            857,
            723
        ],
        "page_idx": 138
    },
    {
        "type": "text",
        "text": "Using the range Variable ",
        "text_level": 1,
        "bbox": [
            238,
            741,
            458,
            765
        ],
        "page_idx": 138
    },
    {
        "type": "text",
        "text": "First, let’s modify the newGame() method to use the range variable. Let’s also add the code needed to change the prompt to let the user know the correct range to guess from: ",
        "bbox": [
            236,
            770,
            898,
            825
        ],
        "page_idx": 138
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public void newGame() { theNumber = (int)(Math.random() * range + 1); lblRange.setText(\"Enter a number between 1 and \" + range + \".\"); txtGuess.setText(\"\"); ",
        "guess_lang": "txt",
        "bbox": [
            238,
            840,
            815,
            906
        ],
        "page_idx": 138
    },
    {
        "type": "footer",
        "text": "Polishing Your App by Adding Menus and Preferences ",
        "bbox": [
            565,
            951,
            855,
            966
        ],
        "page_idx": 138
    },
    {
        "type": "page_number",
        "text": "115 ",
        "bbox": [
            876,
            948,
            904,
            963
        ],
        "page_idx": 138
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "txtGuess.requestFocus();\ntxtGuess.selectAll(); ",
        "guess_lang": "javascript",
        "bbox": [
            234,
            64,
            472,
            114
        ],
        "page_idx": 139
    },
    {
        "type": "text",
        "text": "In addition to using range to set the random number correctly, we’ve changed the lblRange prompt to use the range variable as well. The last three lines are a finishing touch—I’ve taken the liberty of entering a default starting value in the txtGuess text box, one half of the range. So, if the user is guessing between 1 and 10, the guessing text field will show 5 as a default first guess; if the range is 1,000, the text field will recommend 500 for the first guess. ",
        "bbox": [
            230,
            130,
            894,
            256
        ],
        "page_idx": 139
    },
    {
        "type": "text",
        "text": "One last range-related change is found in the checkGuess() method. We added a try-catch statement to handle bad user input, and in the catch statement, we tell the user to enter a valid whole number in the range from 1 to 100. Let’s change just the catch statement to reflect the user’s selected range: ",
        "bbox": [
            230,
            256,
            890,
            348
        ],
        "page_idx": 139
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "public void checkGuess() { --snip-- } catch (Exception e) { message $=$ \"Enter a whole number between 1 and $\" +$ range $^+$ \".\"; }finally{ --snip-- } } ",
        "bbox": [
            234,
            361,
            829,
            507
        ],
        "page_idx": 139
    },
    {
        "type": "text",
        "text": "Now both TextView labels will display the user’s selected range correctly. It’s time to build the alert dialog to allow the user to select the difficulty level of their game. ",
        "bbox": [
            230,
            524,
            890,
            579
        ],
        "page_idx": 139
    },
    {
        "type": "text",
        "text": "Building the Dialog to Allow the User to Select the Range ",
        "text_level": 1,
        "bbox": [
            232,
            597,
            732,
            621
        ],
        "page_idx": 139
    },
    {
        "type": "text",
        "text": "The range settings dialog should display all the range options (1 to 10, 1 to 100, and 1 to 1,000) to the user whenever they select the Settings option in the menu. To display the list of options, we’ll build another customized alert dialog, but this one will display a list view of the three range options. ",
        "bbox": [
            230,
            624,
            880,
            714
        ],
        "page_idx": 139
    },
    {
        "type": "text",
        "text": "First, scroll back down to your onOptionsItemSelected() method and add the following code inside the case statement for action_settings: ",
        "bbox": [
            232,
            714,
            884,
            753
        ],
        "page_idx": 139
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public boolean onOptionsSelectedItem(Item item) {\nswitch (item.getSelectedId())\n{\ncase R.id.action_settings:\n    final CharSequence[] items = {\"1 to 10\", \"1 to 100\", \"1 to 1000};\n    AlertDialog.Builder builder = new AlertDialog.Builder(this);\n    builder.setTitle(\"Select the Range: \");\n    builder.setItems(items, null);\n    AlertDialog alert = builder.create();\n    alert.show();\n    return true;\n} ",
        "guess_lang": "txt",
        "bbox": [
            234,
            765,
            896,
            927
        ],
        "page_idx": 139
    },
    {
        "type": "page_number",
        "text": "116 ",
        "bbox": [
            93,
            948,
            119,
            963
        ],
        "page_idx": 139
    },
    {
        "type": "footer",
        "text": "Chapter 5 ",
        "bbox": [
            142,
            951,
            200,
            966
        ],
        "page_idx": 139
    },
    {
        "type": "text",
        "text": "These six lines of code will display an alert dialog with a list view of the three options for the guessing range, but we need to add just a bit more code to handle the user’s selection. The builder.setItems() method will accept both a list of items and an event listener to handle the user’s choice from the list. ",
        "bbox": [
            236,
            63,
            884,
            151
        ],
        "page_idx": 140
    },
    {
        "type": "text",
        "text": "If the user selects the first option, we need to change the value of the range variable to 10, and likewise for the second and third options to 100 and 1000, respectively. The code for the event listener goes inside the builder.setItems() statement: ",
        "bbox": [
            236,
            151,
            884,
            226
        ],
        "page_idx": 140
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "case R.id.action_settings: final CharSequence[] items = {\"1 to 10\", \"1 to 100\", \"1 to 1000\"}; AlertDialog.Builder builder = new IntentDialog.Builder(this); builder.setTitle(\"Select the Range:\"); builder.setItems(items, new_DIALOG.OnClickListener() { public void onClick(DialogInterface dialog, int item) { switch(item) { case 0: range = 10; newlyGame(); break; case 1: range = 100; newlyGame(); break; case 2: range = 1000; newlyGame(); break; } dialogdismiss(); } }); AlertDialog alert = builder.create(); alert.show(); return true; ",
        "guess_lang": "java",
        "bbox": [
            307,
            241,
            902,
            654
        ],
        "page_idx": 140
    },
    {
        "type": "text",
        "text": "Notice that after we set the new range for each item selection, we call newGame() to create a new random number in that range and to change the prompt on the user’s screen to reflect the new range. ",
        "bbox": [
            236,
            671,
            886,
            723
        ],
        "page_idx": 140
    },
    {
        "type": "text",
        "text": "Save the file after making these changes and run the game to test the new options. Change the range from 1 to 10 and guess a few rounds, then go back to 1 to 100, and if you’re brave, go for 1 to 1,000. ",
        "bbox": [
            236,
            726,
            884,
            779
        ],
        "page_idx": 140
    },
    {
        "type": "text",
        "text": "Close the app and open it again, however, and you’ll notice that the game doesn’t remember your preferred range when it’s run a second time. The app also doesn’t remember how awesome you are at guessing the correct number. If only there were a way to have the app remember your preferred range and the number of games you’ve won. . . . ",
        "bbox": [
            236,
            779,
            888,
            870
        ],
        "page_idx": 140
    },
    {
        "type": "footer",
        "text": "Polishing Your App by Adding Menus and Preferences ",
        "bbox": [
            565,
            951,
            855,
            966
        ],
        "page_idx": 140
    },
    {
        "type": "page_number",
        "text": "117 ",
        "bbox": [
            876,
            948,
            904,
            963
        ],
        "page_idx": 140
    },
    {
        "type": "text",
        "text": "Storing User Preferences and Game Stats ",
        "text_level": 1,
        "bbox": [
            126,
            64,
            642,
            85
        ],
        "page_idx": 141
    },
    {
        "type": "text",
        "text": "The key to remembering user preferences and game statistics from one session to another is the ability to save persistent information to your Android device. Persistent information is any data that remains on the device after the app is closed. In the Hi-Lo guessing game, we want to store the user’s preferred difficulty level and the number of games they’ve won as persistent information. ",
        "bbox": [
            230,
            94,
            898,
            202
        ],
        "page_idx": 141
    },
    {
        "type": "text",
        "text": "There are three ways to save persistent data to your Android device: storing shared preferences, saving files, and saving data in a database. Shared preferences are a type of object that stores a relatively short list of settings that your app needs to save for the next time you use the app. They’re called shared preferences because you can share the settings across several activities or screens in your app, such as an options menu and the main game screen in the guessing game. Saving a file to the device is useful when you need to store a large amount of data, such as a text document, and databases are necessary for apps such as an address book or contacts list. But for the guessing game, we just need to store a few numbers, so we’ll use shared preferences. ",
        "bbox": [
            230,
            202,
            900,
            384
        ],
        "page_idx": 141
    },
    {
        "type": "text",
        "text": "Storing and Retrieving the User’s Preferred Range ",
        "text_level": 1,
        "bbox": [
            232,
            402,
            668,
            424
        ],
        "page_idx": 141
    },
    {
        "type": "text",
        "text": "Shared preferences are stored as sets of key/value pairs where each value has an associated key that is used to retrieve it. For example, you could have a pair like \"range\" and \"100\", where \"range\" is the key and \"100\" is the value we’re storing under that key. Let’s write a method to store the user’s preferred range to shared preferences. ",
        "bbox": [
            230,
            429,
            894,
            519
        ],
        "page_idx": 141
    },
    {
        "type": "text",
        "text": "Near the bottom of your MainActivity.java file, add the following method after the onOptionsItemSelected() method and just before the closing brace: ",
        "bbox": [
            232,
            519,
            890,
            555
        ],
        "page_idx": 141
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "default:\n    return super.onOptionsItemSelectedItem(item);\n}\npublic void storeRange(int newRange) {\n   SharedPreferences preferences = PreferenceManager.getPrefoldSharedPreferences(this);\n   SharedPreferences.Editor editor = preferences.editor();\n    editor.putInt(\"range\", newRange);\n    editor.apply();\n} ",
        "guess_lang": "java",
        "bbox": [
            232,
            570,
            779,
            765
        ],
        "page_idx": 141
    },
    {
        "type": "text",
        "text": "There is already a default shared preferences object for every app you make, which you can access by creating a SharedPreferences object to connect to it. To do this, access the default object by calling getDefaultSharedPreferences() on the PreferenceManager object that creates and maintains lists of shared preferences. Remember to import as you go, or press alt-enter (or option-enter). ",
        "bbox": [
            230,
            780,
            880,
            891
        ],
        "page_idx": 141
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            119,
            963
        ],
        "page_idx": 141
    },
    {
        "type": "footer",
        "text": "Chapter 5 ",
        "bbox": [
            142,
            951,
            200,
            966
        ],
        "page_idx": 141
    },
    {
        "type": "text",
        "text": "To write to shared preferences, we must use an Editor object, which allows us to edit individual shared preference values. To store a specific key/value pair, we use a put method, such as putString to store a string value, putInt to store an integer, putFloat to store a floating-point decimal value, putBoolean to store a true/false value, and so on. Every time the user selects a new range, we’ll pass the range variable to the storeRange() method as newRange. In order to store newRange under the \"range\" key, we use editor .putInt(\"range\", newRange); to store the user’s new range value (10, 100, or 1,000) under the shared preferences key name \"range\". The apply() method tells Android you’re finished modifying the shared preferences values, and it can apply the changes. ",
        "bbox": [
            236,
            63,
            902,
            261
        ],
        "page_idx": 142
    },
    {
        "type": "text",
        "text": "Now that we can store the range to shared preferences, we need to add the storeRange() function to each case the user can select in the event listener in the onOptionsItemSelected() method: ",
        "bbox": [
            236,
            262,
            894,
            316
        ],
        "page_idx": 142
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public boolean onOptionsItemSelectedItem(Item item) { switch (item.getId()) { case R.id.action_settings: final CharSequence[] items = {\"1 to 10\", \"1 to 100\", \"1 to 1000\"}; AlertDialog.Builder builder = new AlertDialog.Builder(this); builder.setTitle(\"Select the Range:\"); builder.setItems(items, new_DIALOG.OnClickListener() { public void onClick(DialogInterface dialog, int item) { switch(item) { case 0: range = 10; storeRange(10); newlyGame(); break; case 1: range = 100; storeRange(100); newlyGame(); break; case 2: range = 1000; storeRange(1000); newlyGame(); break; } dialogdismiss(); } }); AlertDialog alert = builder.create(); alert.show(); return true; ",
        "guess_lang": "java",
        "bbox": [
            240,
            328,
            902,
            824
        ],
        "page_idx": 142
    },
    {
        "type": "text",
        "text": "Finally, we need to retrieve the range when the game loads so that the user’s last selected range will be the range the game uses the next time it ",
        "bbox": [
            236,
            840,
            888,
            878
        ],
        "page_idx": 142
    },
    {
        "type": "footer",
        "text": "Polishing Your App by Adding Menus and Preferences ",
        "bbox": [
            565,
            951,
            855,
            966
        ],
        "page_idx": 142
    },
    {
        "type": "page_number",
        "text": "119 ",
        "bbox": [
            876,
            948,
            904,
            963
        ],
        "page_idx": 142
    },
    {
        "type": "text",
        "text": "runs. Scroll up to the onCreate() method and add the following two lines to retrieve the range from shared preferences: ",
        "bbox": [
            232,
            64,
            890,
            102
        ],
        "page_idx": 143
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); txtGuess = (EditText) findViewById(R.id.txtGuess); btnGuess = (Button) findViewById(R.id.btnGuess); lb1Output = (TextView) findViewById(R.id.lb1Output); lb1Range = (TextView) findViewById(R.id.textView2);SharedPreferences preferences = PreferenceManager.getDefaultsSharedPreferences(this); range = preferences.getInt(\"range\", 100); newGame(); ",
        "guess_lang": "javascript",
        "bbox": [
            234,
            115,
            742,
            292
        ],
        "page_idx": 143
    },
    {
        "type": "text",
        "text": "Notice that we’ve retrieved the shared preferences before we call the newGame() method to ensure that the user gets the range they last used whenever the app starts over. The getInt() method looks for the value stored in the key \"range\", but if it doesn’t find a value, the second parameter tells it to default to 100. We do this so that range has a value the first time the user runs the app. ",
        "bbox": [
            230,
            309,
            880,
            417
        ],
        "page_idx": 143
    },
    {
        "type": "text",
        "text": "Save the file, build, and run it. This time, choose a different range and then close the app entirely. The same range will be waiting for you the next time you start the app! ",
        "bbox": [
            230,
            418,
            896,
            472
        ],
        "page_idx": 143
    },
    {
        "type": "text",
        "text": "Storing the Number of Games Won ",
        "text_level": 1,
        "bbox": [
            232,
            490,
            539,
            513
        ],
        "page_idx": 143
    },
    {
        "type": "text",
        "text": "High scores, leaderboards, winning streaks—anything that records our accomplishments tends to make us want to try harder, play longer, and beat the record. One finishing touch we’ll add to the game is the ability to track the number of games won. Once again, we can easily store these stats as shared preferences. ",
        "bbox": [
            230,
            518,
            888,
            606
        ],
        "page_idx": 143
    },
    {
        "type": "text",
        "text": "When the user wins a round of the game by guessing the correct number, we can use a shared preference to retrieve the number of games they’ve won, add 1 to it, and store the new value. Add this code to your checkGuess() method, putting it inside the else statement for a winning guess: ",
        "bbox": [
            230,
            608,
            898,
            681
        ],
        "page_idx": 143
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "public void checkGuess() { String guessText $=$ txtGuess.getText().toString(); String message $=$ \"\"; try { int guess $=$ Integer.parseInt(guessText); if (guess < theNumber) message $=$ guess + \" is too low. Try again.\"; else if (guess > theNumber) message $=$ guess + \" is too high. Try again.\"; else { message $=$ guess + \" is correct. You win! Let's play again\"; ①SharedPreferences preferences $=$ PreferenceManager.getDefaultSharedPreferences(this); ② int gamesWon $=$ preferences.getInt(\"gamesWon\", 0) + 1; ",
        "bbox": [
            234,
            696,
            811,
            935
        ],
        "page_idx": 143
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 143
    },
    {
        "type": "footer",
        "text": "Chapter 5 ",
        "bbox": [
            142,
            951,
            202,
            966
        ],
        "page_idx": 143
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "$\\bullet$ SharedPreferences.Editor editor $=$ preferences_edit(); $\\bullet$ editor.putInt(\"gamesWon\",gamesWon); $\\bullet$ editor.apply(); $\\mathrm{newGame()}$ ",
        "bbox": [
            305,
            61,
            791,
            142
        ],
        "page_idx": 144
    },
    {
        "type": "text",
        "text": "Here, we’ve accessed the default SharedPreferences at $\\bullet$ , and at $\\bullet$ , we’ve retrieved the value stored under the key name \"gamesWon\" (with a default of 0 if this is the first time the user has won) and added 1 to account for this win. At $\\pmb { \\Theta }$ , we create an editor to write a new value to shared preferences. At $\\bullet$ , we put the integer value gamesWon into shared preferences under the corresponding key name for later use, and at $\\pmb { \\Theta }$ , we tell Android to write the changes to the device. ",
        "bbox": [
            236,
            160,
            904,
            286
        ],
        "page_idx": 144
    },
    {
        "type": "text",
        "text": "That takes care of storing the number of games won, but how about displaying those stats to the user? To do that, we’ll need to add code for the action_gamestats case in the onOptionsItemSelected() method, as follows: ",
        "bbox": [
            236,
            288,
            902,
            342
        ],
        "page_idx": 144
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [
            "case R.id.action_gamestats: "
        ],
        "code_body": "$\\bullet$ SharedPreferences preferences $=$ PreferenceManager.getDefaultSharedPreferences(this); $\\bullet$ int gamesWon $\\equiv$ preferences.getInt(\"gamesWon\",0); $\\bullet$ AlertDialog statDialog $\\equiv$ new Intent(\"gamesDialog.Builder(MainActivity.this).create(); statDialog.setTitle(\"Guessing Game Stats\"); $\\bullet$ statDialog.setMessage(\"You have won \"+\"gamesWon+\" games. Way to go!\"); statDialog.setButton(AclterDialog.BUttON_NEUTRAL, \"OK\", newDialogInterface.OnClickListener() { public void onClick(DialogInterface dialog, int which) { dialogdismiss(); } };   \nstatDialog.show(); return true; ",
        "bbox": [
            248,
            375,
            898,
            597
        ],
        "page_idx": 144
    },
    {
        "type": "text",
        "text": "At $\\bullet$ , we connect to the app’s default shared preferences, and at $\\bullet$ , we retrieve the number of games won (which we give a default value of 0 in case this is the first run of the program). At $\\pmb { \\Theta }$ , we build an alert dialog to show the user the number of games they’ve won, and at $\\bullet$ , we display the number along with an encouraging message. ",
        "bbox": [
            236,
            614,
            888,
            704
        ],
        "page_idx": 144
    },
    {
        "type": "text",
        "text": "Save that final change and then build and run your app. Your last challenge may be trying to stop playing! Figure 5-3 shows how the Game Stats screen may look if you have a couple of math whizzes playing your game. ",
        "bbox": [
            236,
            705,
            896,
            759
        ],
        "page_idx": 144
    },
    {
        "type": "text",
        "text": "Guessing Game Stats ",
        "text_level": 1,
        "bbox": [
            319,
            792,
            523,
            810
        ],
        "page_idx": 144
    },
    {
        "type": "text",
        "text": "You have won 323 games.Way to go! ",
        "bbox": [
            319,
            822,
            599,
            839
        ],
        "page_idx": 144
    },
    {
        "type": "text",
        "text": "OK ",
        "bbox": [
            327,
            852,
            349,
            864
        ],
        "page_idx": 144
    },
    {
        "type": "text",
        "text": "Figure 5-3: The Game Stats screen keeps track of the number of times you (or your friends) have guessed the correct number. ",
        "bbox": [
            238,
            894,
            716,
            927
        ],
        "page_idx": 144
    },
    {
        "type": "footer",
        "text": "Polishing Your App by Adding Menus and Preferences ",
        "bbox": [
            563,
            951,
            853,
            966
        ],
        "page_idx": 144
    },
    {
        "type": "page_number",
        "text": "121 ",
        "bbox": [
            876,
            948,
            904,
            963
        ],
        "page_idx": 144
    },
    {
        "type": "text",
        "text": "Adding options menus, saving game stats and user preferences, displaying alert dialogs—these are the kinds of finishing touches that can make your game or any other app really stand on its own as a professionallooking, fully functional mobile application. Keep making improvements to your app as you think of new features, and you’ll have an app worth sharing with friends—or with the world. Happy coding! ",
        "bbox": [
            230,
            64,
            898,
            174
        ],
        "page_idx": 145
    },
    {
        "type": "text",
        "text": "What You Learned ",
        "text_level": 1,
        "bbox": [
            125,
            204,
            361,
            225
        ],
        "page_idx": 145
    },
    {
        "type": "text",
        "text": "You’ve built a professional-quality Android mobile game by adding several finishing touches to the Hi-Lo guessing game app, including: ",
        "bbox": [
            230,
            235,
            884,
            273
        ],
        "page_idx": 145
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Adding an options menu to an Android app ",
            "Designing the options menu by editing the menu’s XML file ",
            "Displaying the options menu using a MenuInflater ",
            "Responding to user selections in a menu ",
            "Using a switch statement with multiple case statements to replace long if-else chains ",
            "Creating customized pop-ups in Android with the AlertDialog class ",
            "Storing shared preferences and app statistics using the SharedPreferences class ",
            "Retrieving the user’s shared preferences when an app starts "
        ],
        "bbox": [
            232,
            285,
            894,
            496
        ],
        "page_idx": 145
    },
    {
        "type": "text",
        "text": "Programming Challenges ",
        "text_level": 1,
        "bbox": [
            125,
            528,
            444,
            552
        ],
        "page_idx": 145
    },
    {
        "type": "text",
        "text": "Try these programming challenge exercises to review and practice what you’ve learned and to expand your programming skills. Visit the book’s website at https://www.nostarch.com/learnjava/ to download sample solutions. ",
        "bbox": [
            230,
            560,
            890,
            615
        ],
        "page_idx": 145
    },
    {
        "type": "text",
        "text": "#1: You Win Some, You Lose Some ",
        "text_level": 1,
        "bbox": [
            232,
            633,
            533,
            653
        ],
        "page_idx": 145
    },
    {
        "type": "text",
        "text": "Programming Challenge #1 in Chapter 4 (page 106) asked you to give the user seven tries to guess a number between 1 and 100. Now that you’ve added the ability to change the range, you need to change the number of tries to match. ",
        "bbox": [
            230,
            660,
            894,
            729
        ],
        "page_idx": 145
    },
    {
        "type": "text",
        "text": "You learned in Chapter 4 that we could guess a number between 1 and 100 using a binary search strategy (guessing in the middle of the remaining possible values each time) because $\\bar { 2 } ^ { 7 }$ , or two to the seventh power, is equal to 128. This means that we should be able to guess a number between 1 and 128 in seven guesses every time using the binary search method. But how many guesses do we need to get a number between 1 and 10, or 1 and 1,000? ",
        "bbox": [
            232,
            732,
            886,
            840
        ],
        "page_idx": 145
    },
    {
        "type": "text",
        "text": "To figure out the number of tries needed, we need to know the lowest exponent we can raise 2 to that will give us a number greater than the range. For example, for a number between 1 and 10, $2 ^ { 4 } = 1 6$ , and $1 6 > 1 0$ , so we need up to four guesses for that range; for a range from 1 to 1,000, $\\textstyle 2 ^ { 1 0 } = 1 , 0 2 4$ , so we need 10 guesses. ",
        "bbox": [
            230,
            840,
            892,
            930
        ],
        "page_idx": 145
    },
    {
        "type": "aside_text",
        "text": "PROGRAMMING CHALLENGES ",
        "bbox": [
            35,
            64,
            57,
            259
        ],
        "page_idx": 145
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 145
    },
    {
        "type": "footer",
        "text": "Chapter 5 ",
        "bbox": [
            142,
            951,
            202,
            966
        ],
        "page_idx": 145
    },
    {
        "type": "text",
        "text": "To find the exponent to which you need to raise a number to be equal to another number, you can use logarithms. A logarithm takes a number and a base to find the exponent the base should be raised to in order to result in the given number. Java has a Math.log() method that will take a number and find the exponent for base 10. When you divide the logarithm of one number by the logarithm of another number in base 10, the result is the same as taking the logarithm of the first number with the second number as a base. This means that dividing Math.log(range) by Math.log(2) will tell you what power of 2 will give you range. Because exponents can be decimals and you don’t want the user to have a noninteger number of guesses, like 7.25, you’ll need to also round up and cast the result into an int. To find the exponent for the number of guesses needed for each range, you can use the expression (int)(Math.log(range)/Math.log(2)+1). ",
        "bbox": [
            236,
            63,
            902,
            297
        ],
        "page_idx": 146
    },
    {
        "type": "text",
        "text": "Modify the Hi-Lo guessing game to adapt the maximum number of guesses to suit the range the user selects, both when the game starts and whenever the user selects a new range in the options menu. For example, you could create a variable called maxTries to use in place of the hardcoded number 7 when testing whether your user has run out of tries. ",
        "bbox": [
            236,
            298,
            892,
            387
        ],
        "page_idx": 146
    },
    {
        "type": "text",
        "text": "#2: Ratio of Wins to Losses ",
        "text_level": 1,
        "bbox": [
            238,
            406,
            480,
            424
        ],
        "page_idx": 146
    },
    {
        "type": "text",
        "text": "After completing Programming Challenge #1, modify the Hi-Lo guessing game app to store both the number of games won and lost. Modify the game stats menu code to retrieve both numbers and show the number of games won, the total number of games played, and the winning percentage (games won divided by total games played, multiplied by 100). Figure 5-4 shows an example. ",
        "bbox": [
            236,
            433,
            896,
            542
        ],
        "page_idx": 146
    },
    {
        "type": "text",
        "text": "Guessing Game Stats ",
        "text_level": 1,
        "bbox": [
            271,
            576,
            478,
            594
        ],
        "page_idx": 146
    },
    {
        "type": "text",
        "text": "You have won 368 out of 381 games, 97%! Way to go! ",
        "bbox": [
            269,
            603,
            589,
            635
        ],
        "page_idx": 146
    },
    {
        "type": "text",
        "text": "OK ",
        "bbox": [
            283,
            657,
            307,
            668
        ],
        "page_idx": 146
    },
    {
        "type": "text",
        "text": "Figure 5-4: The Game Stats screen showing the percentage of games won ",
        "bbox": [
            238,
            702,
            593,
            735
        ],
        "page_idx": 146
    },
    {
        "type": "footer",
        "text": "Polishing Your App by Adding Menus and Preferences ",
        "bbox": [
            563,
            951,
            853,
            966
        ],
        "page_idx": 146
    },
    {
        "type": "page_number",
        "text": "123 ",
        "bbox": [
            876,
            948,
            906,
            963
        ],
        "page_idx": 146
    },
    {
        "type": "aside_text",
        "text": "PROGRAMMING CHALLENGES ",
        "bbox": [
            938,
            64,
            960,
            258
        ],
        "page_idx": 146
    },
    {
        "type": "text",
        "text": "6 ",
        "text_level": 1,
        "bbox": [
            519,
            187,
            626,
            331
        ],
        "page_idx": 148
    },
    {
        "type": "text",
        "text": "D e cip h e r i n g S e c r e t M e s s a g e s ",
        "text_level": 1,
        "bbox": [
            246,
            379,
            898,
            405
        ],
        "page_idx": 148
    },
    {
        "type": "image",
        "img_path": "images/234b90f92f55ca5665187c05af21afe470a5276349a0346a29ec5b69ad6fdf14.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            162,
            475,
            359,
            624
        ],
        "page_idx": 148
    },
    {
        "type": "text",
        "text": "You’ve probably sent secret, encoded notes to your friends to try to hide the messages from your parents or teachers. In this chapter, we’ll be doing something similar as we ",
        "bbox": [
            327,
            554,
            900,
            659
        ],
        "page_idx": 148
    },
    {
        "type": "text",
        "text": "create a Secret Messages app. ",
        "bbox": [
            238,
            663,
            601,
            687
        ],
        "page_idx": 148
    },
    {
        "type": "text",
        "text": "Our previous app, the Hi-Lo guessing game, was all about numbers— too high, too low, or just right. By contrast, our Secret Messages app will focus on text. You’ll learn to work with text strings and manipulate character values in Java to produce the encoded messages. ",
        "bbox": [
            238,
            689,
            890,
            759
        ],
        "page_idx": 148
    },
    {
        "type": "text",
        "text": "The Caesar Cipher ",
        "text_level": 1,
        "bbox": [
            130,
            792,
            361,
            816
        ],
        "page_idx": 148
    },
    {
        "type": "text",
        "text": "Our app will encode and decode secret messages using the Caesar cipher, an algorithm developed more than 2,000 years ago that uses letter substitutions to encode messages. ",
        "bbox": [
            236,
            824,
            896,
            879
        ],
        "page_idx": 148
    },
    {
        "type": "text",
        "text": "The Caesar cipher is named for the Roman emperor Julius Caesar (100–44 BCE). Historians say Caesar liked to encode his private messages, such as notes to his military generals, by “shifting” the letters of the alphabet. For example, the cipher disk shown in Figure 6-1 shifts the alphabet by 13 letters. ",
        "bbox": [
            232,
            64,
            630,
            205
        ],
        "page_idx": 149
    },
    {
        "type": "text",
        "text": "In the disk, the outer letters align with the inner letters they should be substituted with, so an $A$ becomes an $N ,$ a $B$ becomes an $o$ , and so on. This is the cipher that created the following example: ",
        "bbox": [
            232,
            208,
            630,
            298
        ],
        "page_idx": 149
    },
    {
        "type": "image",
        "img_path": "images/b30e8577231c24df32fd08b237f400bf5185cfee94694a5dfb905308fc298a7b.jpg",
        "image_caption": [
            "Figure 6-1: A Caesar cipher disk, showing a key value of 13 "
        ],
        "image_footnote": [],
        "bbox": [
            664,
            66,
            896,
            241
        ],
        "page_idx": 149
    },
    {
        "type": "text",
        "text": "Secret messages are so cool! ",
        "bbox": [
            232,
            315,
            472,
            331
        ],
        "page_idx": 149
    },
    {
        "type": "text",
        "text": "Frperg zrffntrf ner fb pbby! ",
        "bbox": [
            232,
            331,
            472,
            346
        ],
        "page_idx": 149
    },
    {
        "type": "text",
        "text": "The first line is the plaintext: the original, readable version of the message. The second line is the ciphertext, the encoded version of the same message. ",
        "bbox": [
            230,
            366,
            882,
            418
        ],
        "page_idx": 149
    },
    {
        "type": "text",
        "text": "Try decoding this message back to its original plaintext by reversing the substitution: find each inner letter and substitute it with the corresponding outer letter. ",
        "bbox": [
            230,
            420,
            898,
            472
        ],
        "page_idx": 149
    },
    {
        "type": "text",
        "text": "Not all Caesar ciphers are symmetric like this one. Symmetric means that the same process can be used for both encoding and decoding a message. For example, $F$ becomes S when encoding by adding 13, and S becomes F when decoding by subtracting 13, and you can use the same disk and key—the number used to shift the letters—for both processes. The number to shift the letters by (in this case 13) is called a key because knowing it “unlocks” the cipher. The Secret Messages app we’ll build will allow us to use any key value. ",
        "bbox": [
            232,
            474,
            898,
            618
        ],
        "page_idx": 149
    },
    {
        "type": "text",
        "text": "Setting Up the Secret Messages App ",
        "text_level": 1,
        "bbox": [
            125,
            650,
            577,
            675
        ],
        "page_idx": 149
    },
    {
        "type": "text",
        "text": "We’ll build the Secret Messages app just like we did the Hi-Lo guessing game: first, we’ll create a command line version, then a GUI for the desktop, and, finally, an Android mobile app. The command line version will look fairly simple, as shown in Figure 6-2, but it will allow us to test the secret message algorithm quickly and easily. ",
        "bbox": [
            230,
            681,
            876,
            771
        ],
        "page_idx": 149
    },
    {
        "type": "image",
        "img_path": "images/547afe128ba0709cee2777c1966650f45a129e4acaafeb0bd99bae9b7df6ca1b.jpg",
        "image_caption": [
            "Figure 6-2: The command line version of the Secret Messages app "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            783,
            886,
            903
        ],
        "page_idx": 149
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 149
    },
    {
        "type": "footer",
        "text": "Chapter 6 ",
        "bbox": [
            142,
            951,
            202,
            966
        ],
        "page_idx": 149
    },
    {
        "type": "text",
        "text": "As you can see in Figure 6-2, the program asks the user to enter a message to encode or decode, followed by a secret key value. The program then responds with the encoded message. Note that when we start coding the app, the entire message will be encoded, including spaces and punctuation. In the final version, we’ll add some logic to encode only letters, as shown in Figure 6-2. ",
        "bbox": [
            236,
            64,
            900,
            172
        ],
        "page_idx": 150
    },
    {
        "type": "text",
        "text": "Creating the Secret Messages Project in Eclipse ",
        "text_level": 1,
        "bbox": [
            238,
            190,
            644,
            213
        ],
        "page_idx": 150
    },
    {
        "type": "text",
        "text": "Let’s begin by opening Eclipse. If you still have files open from previous projects, close those files now. To create a new Java Project, go to File4New4Java Project and name the project SecretMessages. Click Finish. ",
        "bbox": [
            236,
            217,
            857,
            286
        ],
        "page_idx": 150
    },
    {
        "type": "text",
        "text": "In the Package Explorer pane, expand the SecretMessages project folder to see the src folder. Right-click the src folder and go to New4 Class to create a new Java source code file, which you’ll also name SecretMessages. Select the checkbox to create a main() method, as shown in Figure 6-3. ",
        "bbox": [
            236,
            289,
            890,
            363
        ],
        "page_idx": 150
    },
    {
        "type": "image",
        "img_path": "images/ff48e7bae50714c566ac1b1dd1a4342fb7f6884b3594f349689f5dce497c2234.jpg",
        "image_caption": [
            "Figure 6-3: Create a new Java project, with a new class file called SecretMessages, and select the checkbox to create a main() method stub. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            373,
            617,
            711
        ],
        "page_idx": 150
    },
    {
        "type": "text",
        "text": "Click Finish, and you’ll see the SecretMessages.java file in the main window in Eclipse. Let’s get started coding the Secret Messages app! ",
        "bbox": [
            236,
            791,
            904,
            828
        ],
        "page_idx": 150
    },
    {
        "type": "footer",
        "text": "Deciphering Secret Messages ",
        "bbox": [
            686,
            953,
            849,
            966
        ],
        "page_idx": 150
    },
    {
        "type": "page_number",
        "text": "127 ",
        "bbox": [
            876,
            948,
            904,
            963
        ],
        "page_idx": 150
    },
    {
        "type": "text",
        "text": "Beginning to Code SecretMessages.java ",
        "text_level": 1,
        "bbox": [
            234,
            64,
            577,
            87
        ],
        "page_idx": 151
    },
    {
        "type": "text",
        "text": "At the top of the SecretMessages.java file, above the public class SecretMessages declaration, add the import statement for java.util.Scanner so we can ask the user for input: ",
        "bbox": [
            230,
            91,
            898,
            147
        ],
        "page_idx": 151
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "import java.util.Scanner;   \npublic class SecretMessages { public static void main(String[] args) { 1 Scanner scan $=$ new Scanner(System.in); 2 System.out.println(\"Enter a message to encode or decode:\"); }   \n} ",
        "bbox": [
            232,
            160,
            803,
            276
        ],
        "page_idx": 151
    },
    {
        "type": "text",
        "text": "Inside the main() method, at $\\bullet$ , we set up a Scanner object named scan. Then, at $\\bullet$ , we prompt the user to enter a message to encode or decode. ",
        "bbox": [
            232,
            292,
            873,
            327
        ],
        "page_idx": 151
    },
    {
        "type": "text",
        "text": "After the user prompt, we’ll create a String variable, called message, to accept the line of text the user enters: ",
        "bbox": [
            232,
            328,
            873,
            364
        ],
        "page_idx": 151
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "System.out.println(\"Enter a message to encode or decode:\");  \nString message = scan.nextLine(); ",
        "guess_lang": "groovy",
        "bbox": [
            299,
            379,
            801,
            412
        ],
        "page_idx": 151
    },
    {
        "type": "text",
        "text": "Then, we get the user’s next full line of input, up to an enter or return character, using the nextLine() method of the scan object, and we store it in the string message. ",
        "bbox": [
            230,
            430,
            898,
            484
        ],
        "page_idx": 151
    },
    {
        "type": "text",
        "text": "So far, the app can ask the user for a message and scan that message into a variable. Now we need to learn how to manipulate the characters inside a string to create an encoded version of the message. Save your file before continuing to the next section. ",
        "bbox": [
            230,
            486,
            875,
            558
        ],
        "page_idx": 151
    },
    {
        "type": "text",
        "text": "Messing with Strings ",
        "text_level": 1,
        "bbox": [
            232,
            576,
            420,
            600
        ],
        "page_idx": 151
    },
    {
        "type": "text",
        "text": "Up to this point, the Secret Messages app looks pretty similar to the Hi-Lo guessing game app. We set up an input scanner, prompt the user for some input, scan the console for the user’s response, and then capture the input in a variable. What’s going to make the Secret Messages app different is its ability to work with the characters inside the string. ",
        "bbox": [
            230,
            603,
            886,
            693
        ],
        "page_idx": 151
    },
    {
        "type": "text",
        "text": "The Caesar cipher command line app will take a lot of steps to complete, so we’ll build our app in iterations. That means that instead of writing out the whole app all at once and hoping the code works in the end, we’ll create our app bit by bit, or one iteration at a time, and test it as we go along so that we’ll have a functioning app at each point. Each iteration might not have all the features we need, but we’ll eventually get to the complete, fullfeatured app. ",
        "bbox": [
            230,
            695,
            900,
            819
        ],
        "page_idx": 151
    },
    {
        "type": "text",
        "text": "We’ll need to use text processing to manipulate the inputted string into an output string. To begin working with strings of text in Java, we’ll build a simple message reverser. In other words, we’ll take the message the user entered and then give it back to them with the letters in reverse order. So, for example, \"Meet me at the arcade at 5pm\" would become \"mp5 ta edacra eht ta em teeM\". ",
        "bbox": [
            230,
            821,
            898,
            927
        ],
        "page_idx": 151
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 151
    },
    {
        "type": "footer",
        "text": "Chapter 6 ",
        "bbox": [
            144,
            951,
            202,
            966
        ],
        "page_idx": 151
    },
    {
        "type": "text",
        "text": "First, we create a variable called output for the reversed string and set it equal to an empty string: ",
        "bbox": [
            236,
            63,
            894,
            100
        ],
        "page_idx": 152
    },
    {
        "type": "text",
        "text": "String message $=$ scan.nextLine(); ",
        "bbox": [
            305,
            115,
            589,
            132
        ],
        "page_idx": 152
    },
    {
        "type": "text",
        "text": "String output $=$ \"\"; ",
        "bbox": [
            307,
            133,
            470,
            148
        ],
        "page_idx": 152
    },
    {
        "type": "text",
        "text": "We’ll need a loop to run through the characters in the message. We can choose a for loop for convenience, because we know the number of characters in the message. (Later, we’ll use the message.length() method to tell us how many characters the message contains.) A for loop declaration in Java needs to do three things: initialize a loop variable, test a condition to keep going, and update the loop variable before the next iteration. We place semicolons between each of the three parts to separate them. The syntax looks like this: ",
        "bbox": [
            236,
            166,
            900,
            309
        ],
        "page_idx": 152
    },
    {
        "type": "text",
        "text": "for ( initialization; condition; update ) { body } ",
        "bbox": [
            238,
            327,
            666,
            345
        ],
        "page_idx": 152
    },
    {
        "type": "text",
        "text": "For example, open JShell and enter this code to create a for loop: ",
        "bbox": [
            273,
            363,
            847,
            382
        ],
        "page_idx": 152
    },
    {
        "type": "text",
        "text": "jshell> for ( int x = 0; x < 10; x++ ) { System.out.println(x); } ",
        "bbox": [
            238,
            396,
            793,
            415
        ],
        "page_idx": 152
    },
    {
        "type": "text",
        "text": "This loop will print the numbers 0 through 9. The initialization sets the first looping variable x to 0. The condition tests to make sure x is less than 10 before proceeding. Finally, the update adds 1 to x after each pass through the loop. $\\times { + + }$ uses a shortcut called the increment operator because it increments, or adds 1 to, x each time through the loop. $\\times { + + }$ is equivalent to the statement $\\textsf { x } = \\textsf { x } + 1$ . In this example, the for loop prints the value of x each time through the loop, repeating 10 times and stopping when x is no longer less than 10. ",
        "bbox": [
            236,
            432,
            904,
            573
        ],
        "page_idx": 152
    },
    {
        "type": "text",
        "text": "So, to reverse the characters in the message string, we might initialize a variable to the position number, or index, of the last character in the string and then loop through the characters from last to first (in reverse order), going backward through the string. In our example, this would look like: ",
        "bbox": [
            236,
            576,
            900,
            650
        ],
        "page_idx": 152
    },
    {
        "type": "text",
        "text": "for ( int x = message.length()-1; x >= 0; x-- ) { } ",
        "bbox": [
            305,
            663,
            742,
            683
        ],
        "page_idx": 152
    },
    {
        "type": "text",
        "text": "The character positions in a string in Java are numbered from 0 (the index of the first character) to the length minus 1. The first character is at index 0, and the nth character in a string is at index $( n - 1 )$ . ",
        "bbox": [
            236,
            701,
            888,
            753
        ],
        "page_idx": 152
    },
    {
        "type": "text",
        "text": "In Figure 6-4, the first 10 characters of our sample message are shown. The index of each character in the string is shown below the character. The first letter, M, is at index 0, the first e is at index 1, and so on. Notice that spaces count as characters—there are two spaces shown here, at indexes 4 and 7. The 10th character in the message is at index 9, the letter t. This continues all the way to the last character in the message, at index message.length()-1. ",
        "bbox": [
            236,
            755,
            704,
            917
        ],
        "page_idx": 152
    },
    {
        "type": "text",
        "text": "M e e t m e a t ",
        "bbox": [
            730,
            767,
            900,
            791
        ],
        "page_idx": 152
    },
    {
        "type": "text",
        "text": "0 1 2 3 4 5 6 7 8 9 ",
        "bbox": [
            732,
            792,
            900,
            810
        ],
        "page_idx": 152
    },
    {
        "type": "text",
        "text": "Figure 6-4: The characters in a message labeled with their indexes ",
        "bbox": [
            728,
            825,
            888,
            888
        ],
        "page_idx": 152
    },
    {
        "type": "footer",
        "text": "Deciphering Secret Messages ",
        "bbox": [
            686,
            953,
            849,
            966
        ],
        "page_idx": 152
    },
    {
        "type": "page_number",
        "text": "129 ",
        "bbox": [
            876,
            948,
            904,
            963
        ],
        "page_idx": 152
    },
    {
        "type": "text",
        "text": "We want to start our reversed message at the end of the string, so we initialize x to the message.length()-1, the index of the last character in the message. The condition is $\\mathrm { ~  ~ x ~ } > = 0$ because we want to keep going all the way down to the first character of the message, at index 0. Finally, the update is x-- because we’re stepping backward through the string. The opposite of $\\times { + + }$ , x-- uses the decrement operator, which decreases the value of x by 1 each time. Come back into Eclipse and begin writing the for loop just below the previous line of code: ",
        "bbox": [
            230,
            64,
            890,
            208
        ],
        "page_idx": 153
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "String output $=$ \"；   \nfor（int $\\mathbf{x} =$ message.length()-1; $\\texttt{x} > = 0$ ;x--）{",
        "bbox": [
            299,
            223,
            718,
            273
        ],
        "page_idx": 153
    },
    {
        "type": "text",
        "text": "To get the character at a specific position in a string, we use the charAt() (“character at”) method and give it the index location of the character we want. To append or add a character to a string, we use the $^ +$ operator. Putting those together, we can build the reverse version of the string message and store it in the string output: ",
        "bbox": [
            232,
            291,
            898,
            382
        ],
        "page_idx": 153
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "for (int x = message.length()-1; x >= 0; x--) { output += message.charAt(x); } ",
        "guess_lang": "javascript",
        "bbox": [
            299,
            397,
            718,
            447
        ],
        "page_idx": 153
    },
    {
        "type": "text",
        "text": "The body of the for loop is a single line. We’re getting the character at the xth index of message and adding it to output. Remember to use open and close braces around the body of the for loop, because we’ll want to add more lines inside the loop as the app grows. ",
        "bbox": [
            230,
            463,
            894,
            537
        ],
        "page_idx": 153
    },
    {
        "type": "text",
        "text": "Now we just need to show the output message to the screen, which we can do with System.out.println(output). The full message-reversing iteration of the app is shown in Listing 6-1. ",
        "bbox": [
            230,
            537,
            888,
            591
        ],
        "page_idx": 153
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "import java.util.Scanner;   \npublic class SecretMessages { public static void main(String[] args) { Scanner scan $=$ new Scanner(System.in); System.out.println(\"Enter a message to encode or decode:\"); String message $=$ scan.nextLine(); String output $=$ \"\" for ( int $\\mathbf{x} =$ message.length()-1; $\\times > = 0$ ;x--）{ output $+ =$ messagecharAt(x); } System.out.println(output); ",
        "bbox": [
            232,
            606,
            803,
            816
        ],
        "page_idx": 153
    },
    {
        "type": "text",
        "text": "Listing 6-1: The first iteration of the Secret Messages app reverses the characters in the user’s message. ",
        "bbox": [
            232,
            830,
            871,
            864
        ],
        "page_idx": 153
    },
    {
        "type": "text",
        "text": "You can run the program in Eclipse and test it with your own message, as shown in Figure 6-5. This isn’t our finished Secret Messages app, but it does make the message harder to read and easy to decode. ",
        "bbox": [
            230,
            872,
            886,
            927
        ],
        "page_idx": 153
    },
    {
        "type": "page_number",
        "text": "130 ",
        "bbox": [
            93,
            948,
            121,
            963
        ],
        "page_idx": 153
    },
    {
        "type": "footer",
        "text": "Chapter 6 ",
        "bbox": [
            142,
            951,
            202,
            966
        ],
        "page_idx": 153
    },
    {
        "type": "image",
        "img_path": "images/201f17d7d5df213bc42475cc4d985da6aa607a94b89c3df2ceb4538115f9af4d.jpg",
        "image_caption": [
            "Figure 6-5: Run the program and enter your own message to reverse in the console window at the bottom of the screen. "
        ],
        "image_footnote": [],
        "bbox": [
            99,
            64,
            894,
            364
        ],
        "page_idx": 154
    },
    {
        "type": "text",
        "text": "You can even decode a message by copying the encoded, reversed message and pasting it into the program, as shown in Figure 6-6. So you can type a message, encode it, and paste it into a message to a friend, and then they can decode it by pasting the encoded message into the same program. You’ve built your first secret message encoder! ",
        "bbox": [
            236,
            424,
            898,
            516
        ],
        "page_idx": 154
    },
    {
        "type": "image",
        "img_path": "images/1a0b2b9a766a9ba8d89af5b61f4b789305d430dafed7cffcb894b865e4ca01eb.jpg",
        "image_caption": [
            "Figure 6-6: Copy and paste an encoded message into the running program to decode it. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            527,
            680,
            711
        ],
        "page_idx": 154
    },
    {
        "type": "text",
        "text": "This version of the app is simple enough that you can read the messages without running them through the program, so it’s not a very secure way to send messages to your friends. But you did learn how to loop through a string of text using a for loop, how to get the string’s length(), how to access a specific character at a given index or position in the string using charAt(), and how to add characters to the end of a string using the $^ +$ operator. In the next section, you’ll learn how to change the values of the individual characters in the message to make it harder to read, but still easy for our program to decode. ",
        "bbox": [
            236,
            774,
            906,
            935
        ],
        "page_idx": 154
    },
    {
        "type": "footer",
        "text": "Deciphering Secret Messages ",
        "bbox": [
            686,
            953,
            849,
            966
        ],
        "page_idx": 154
    },
    {
        "type": "page_number",
        "text": "131 ",
        "bbox": [
            876,
            950,
            904,
            963
        ],
        "page_idx": 154
    },
    {
        "type": "text",
        "text": "Characters and Values in Java ",
        "text_level": 1,
        "bbox": [
            126,
            63,
            505,
            84
        ],
        "page_idx": 155
    },
    {
        "type": "text",
        "text": "Building a better secret message encoder requires the ability to work with character values in strings of text. For the Caesar cipher, we need to be able to shift those values—for example, changing an $A$ to an $N ,$ , and an $N$ to an $A$ . To do this, you need to understand how characters are stored in a computer. ",
        "bbox": [
            230,
            94,
            888,
            166
        ],
        "page_idx": 155
    },
    {
        "type": "text",
        "text": "In Java, individual characters, such as $\" \\mathsf { A } ^ { \\prime }$ , can be stored in their own data type: char. Notice that we use single quotation marks to contain character values. The charAt() method of a string returns a char value representing a single character. Java uses 16-bit Unicode characters. Unicode is an international character set containing thousands of characters and symbols from all over the world that are represented as numeric values. The char type is a way to store Unicode characters, such as 'A', 'ñ', and $\\because$ , by their numeric values. ",
        "bbox": [
            230,
            166,
            896,
            309
        ],
        "page_idx": 155
    },
    {
        "type": "text",
        "text": "We can add to a Unicode char value in the same way we can add to an int variable. With the Secret Messages app, we want to add the char value for 'A' (65) to the key (13) to get the new char value (78), which represents the encoded letter ('N'). ",
        "bbox": [
            232,
            310,
            898,
            382
        ],
        "page_idx": 155
    },
    {
        "type": "text",
        "text": "For our second iteration of the app, let’s begin coding the Caesar cipher by setting up a char variable called key and storing the value 13 in it. We’ll add this below the String output line: ",
        "bbox": [
            232,
            382,
            882,
            436
        ],
        "page_idx": 155
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "String output = \"\";  \nchar key = 13; ",
        "guess_lang": "txt",
        "bbox": [
            299,
            453,
            464,
            486
        ],
        "page_idx": 155
    },
    {
        "type": "text",
        "text": "We also need to modify the for loop to go from the beginning of the string to the end. We’re starting at index 0 this time and moving through the string while x is less than message.length(). Each time we repeat the loop, we’re adding 1 to x, the character position. Here is the new for loop: ",
        "bbox": [
            232,
            504,
            898,
            578
        ],
        "page_idx": 155
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "char key = 13;  \nfor (int x = 0; x < message.length(); x++) { ",
        "guess_lang": "txt",
        "bbox": [
            299,
            593,
            694,
            627
        ],
        "page_idx": 155
    },
    {
        "type": "text",
        "text": "Finally, instead of adding the original characters of the message string to the output string, we need to add the key value to each character, making sure we get a char value that we can add to the output string: ",
        "bbox": [
            232,
            644,
            894,
            699
        ],
        "page_idx": 155
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "output += (char)(message.charAt(x) + key); ",
        "guess_lang": "javascript",
        "bbox": [
            333,
            714,
            692,
            732
        ],
        "page_idx": 155
    },
    {
        "type": "text",
        "text": "We’ve added the key value to each character in the message string, and then we’ve taken that sum and cast it to a char. Putting char in parentheses before an expression forces the value to its right to fit into a char data type, or casts the value to that type. We have to cast the output value to (char) here because in Java, the right side of this equation may result in an int value by default. Listing 6-2 shows the program with these changes. ",
        "bbox": [
            230,
            750,
            886,
            858
        ],
        "page_idx": 155
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "import java.util.Scanner;   \npublic class SecretMessages { public static void main(String[] args) { ",
        "guess_lang": "java",
        "bbox": [
            232,
            875,
            609,
            924
        ],
        "page_idx": 155
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 155
    },
    {
        "type": "footer",
        "text": "Chapter 6 ",
        "bbox": [
            142,
            953,
            202,
            965
        ],
        "page_idx": 155
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "Scanner scan $=$ new Scanner(System.in); System.out.println(\"Enter a message to encode or decode:\"); String message $=$ scan.nextLine(); String output $=$ \"\"; char key $= 13$ for (int $\\mathbf{x} = 0$ .x $<  _{i}$ message.length(); $\\mathrm{x + + }$ { output $+ =$ (char)(message.charAt(x) $^+$ key); } System.out.println(output);   \n1 ",
        "bbox": [
            238,
            61,
            811,
            238
        ],
        "page_idx": 156
    },
    {
        "type": "text",
        "text": "Listing 6-2: The Secret Messages app is still short at just 14 lines, but it encodes strings of text now! ",
        "bbox": [
            236,
            253,
            898,
            285
        ],
        "page_idx": 156
    },
    {
        "type": "text",
        "text": "If you run the program at this point and enter a message, you should see output like the following: ",
        "bbox": [
            236,
            295,
            878,
            333
        ],
        "page_idx": 156
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "Enter a message to encode or decode: Secret messages are so cool! `rp□r?-zr??ntr?-n□r-?|-p||y. ",
        "guess_lang": "txt",
        "bbox": [
            238,
            349,
            545,
            397
        ],
        "page_idx": 156
    },
    {
        "type": "text",
        "text": "The message is encoded, but it’s not quite what we were expecting. First of all, we’re encoding all characters, including spaces and punctuation marks. Second, we’re not wrapping around to the front of the alphabet yet, because we’re always adding 13 to every character, not taking into account the fact that the letters at the end need to wrap back around to the beginning of the alphabet, resulting in odd symbols and unprintable characters in the output message. We’ll cover both of these issues in the next section. Before moving on, save your program. ",
        "bbox": [
            236,
            415,
            906,
            560
        ],
        "page_idx": 156
    },
    {
        "type": "text",
        "text": "Encoding Just the Letters ",
        "text_level": 1,
        "bbox": [
            130,
            591,
            440,
            615
        ],
        "page_idx": 156
    },
    {
        "type": "text",
        "text": "Our second iteration of the Secret Messages app gave us an encoded message, but it lacks some features that we want in the final app. The upgrades needed to create the final app will require some logic in the form of if statements and conditions to encode only letters (not spaces or punctuation) and to make the alphabet wrap around during encoding. We’ll tackle these improvements in our third iteration. ",
        "bbox": [
            236,
            621,
            882,
            729
        ],
        "page_idx": 156
    },
    {
        "type": "text",
        "text": "First, we want to perform some tests on each character in the input message instead of just adding the character directly to the output message. Let’s change the body of the for loop as follows: ",
        "bbox": [
            236,
            731,
            902,
            786
        ],
        "page_idx": 156
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "for (int $x = 0$ . $\\mathbf{x} <   \\mathbf{message.length()}$ . $\\mathbf{x + + }$ ）{ char input $=$ message.charAt(x);   \n1 ",
        "bbox": [
            305,
            800,
            700,
            849
        ],
        "page_idx": 156
    },
    {
        "type": "text",
        "text": "The character stored in input will be the first character in message, then the second, and so on. We need to test each character one by one to check whether it’s a character that we want to encode. We want to encode letters ",
        "bbox": [
            236,
            867,
            894,
            921
        ],
        "page_idx": 156
    },
    {
        "type": "footer",
        "text": "Deciphering Secret Messages ",
        "bbox": [
            686,
            951,
            849,
            966
        ],
        "page_idx": 156
    },
    {
        "type": "page_number",
        "text": "133 ",
        "bbox": [
            876,
            948,
            904,
            963
        ],
        "page_idx": 156
    },
    {
        "type": "text",
        "text": "by adding the key value to them and wrapping to the front of the alphabet if necessary. Otherwise, if the character is a space or punctuation, we’ll leave the character unchanged and add it to the output message. ",
        "bbox": [
            230,
            64,
            884,
            117
        ],
        "page_idx": 157
    },
    {
        "type": "text",
        "text": "Let’s add the following if statement in the body of our for loop: ",
        "bbox": [
            267,
            118,
            827,
            135
        ],
        "page_idx": 157
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "char input = message.charAt(x);  \nif (input >= 'A' && input <= 'Z') ",
        "guess_lang": "txt",
        "bbox": [
            333,
            151,
            617,
            186
        ],
        "page_idx": 157
    },
    {
        "type": "text",
        "text": "In the condition inside the if statement, we can use either 65 (the value of 'A') or the character literal 'A' itself. The condition tests whether the character stored in input is greater than or equal to 'A' and less than or equal to 'Z'—in other words, whether input contains an uppercase letter. If this condition is true, we want to add the key value to input to shift it, producing the Caesar cipher value to substitute for that letter. Notice that this is only for uppercase letters—lowercase letters will require a separate test. ",
        "bbox": [
            230,
            204,
            890,
            330
        ],
        "page_idx": 157
    },
    {
        "type": "text",
        "text": "Now, in the body of the if statement, we’ll add the key value to the input character to encode the letter. This is also where we’ll handle wrapping around to the front of the alphabet if the key value shifts a letter past $\" \\Sigma \"$ . So the code inside the for loop will become: ",
        "bbox": [
            230,
            330,
            884,
            403
        ],
        "page_idx": 157
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "for (int $x = 0$ . $\\times <$ message.length(); $x + +$ ）{ char input $=$ message.charAt(x); if(input $\\Rightarrow$ A' &&input $\\Leftarrow$ Z') { 1 input $+ =$ key; 2 if(input $\\rightharpoondown$ Z') 3 input $- = 26$ · } 4 output $+ =$ input; ",
        "bbox": [
            299,
            417,
            696,
            578
        ],
        "page_idx": 157
    },
    {
        "type": "text",
        "text": "After getting the next character from the message and checking to make sure it’s an uppercase letter, we encode the letter by adding the key to it $\\bullet$ . Then, we check whether adding the key value pushed the letter past $z \\_ { \\pmb { \\theta } }$ . If so, at $\\pmb { \\Theta }$ we subtract 26 (the number of letters in the English alphabet) from the encoded input value to wrap it back around to the front of the alphabet. Finally, we can add the resulting input character to the output string x. ",
        "bbox": [
            230,
            596,
            894,
            702
        ],
        "page_idx": 157
    },
    {
        "type": "text",
        "text": "If you run the program now, you can encode an all-uppercase message as follows: ",
        "bbox": [
            230,
            704,
            888,
            738
        ],
        "page_idx": 157
    },
    {
        "type": "text",
        "text": "Enter a message to encode or decode: ",
        "bbox": [
            232,
            756,
            539,
            771
        ],
        "page_idx": 157
    },
    {
        "type": "text",
        "text": "SECRET MESSAGES ARE SO COOL! ",
        "bbox": [
            232,
            771,
            472,
            786
        ],
        "page_idx": 157
    },
    {
        "type": "text",
        "text": "FRPERG ZRFFNTRF NER FB PBBY!",
        "bbox": [
            232,
            788,
            472,
            803
        ],
        "page_idx": 157
    },
    {
        "type": "text",
        "text": "Notice the punctuation and spaces stay the same, and all uppercase letters are shifted by 13 characters, wrapping around so that S becomes F, and so on. ",
        "bbox": [
            230,
            822,
            888,
            875
        ],
        "page_idx": 157
    },
    {
        "type": "text",
        "text": "Encoding the lowercase letters is logically identical to handling the uppercase letters. You can copy and paste the same if statement code, but ",
        "bbox": [
            230,
            876,
            878,
            914
        ],
        "page_idx": 157
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 157
    },
    {
        "type": "footer",
        "text": "Chapter 6 ",
        "bbox": [
            144,
            951,
            202,
            966
        ],
        "page_idx": 157
    },
    {
        "type": "text",
        "text": "change the A and Z to lowercase letters. Don’t forget to add an else before the second if statement. Try it yourself; but if you get stuck, the complete code is provided in Listing 6-3 in the next section. ",
        "bbox": [
            236,
            63,
            880,
            118
        ],
        "page_idx": 158
    },
    {
        "type": "text",
        "text": "Encodi ng Messages in Other L anguages ",
        "text_level": 1,
        "bbox": [
            349,
            168,
            795,
            184
        ],
        "page_idx": 158
    },
    {
        "type": "text",
        "text": "The version of the program we’re writing will only work consistently for basic Latin characters from A to Z and a to z. If your preferred language is not English, however, you can adjust the program as long as Unicode has the alphabet or symbols of your language grouped together in a contiguous set, one after the other. You can test for the first and last character of your preferred language just like the English encoder/decoder in this chapter. If your language either isn’t provided in a complete set or uses some of the basic Latin alphabet plus certain other characters (like how Spanish uses the ñ and French uses the $\\complement ,$ along with other accented characters), you could add the key to any character as we did in Listing 6-2. Optionally, you could leave spaces in the message by testing with the Character.isSpace() method and encode everything except spaces. Play with different methods for the alphabet or language of your choice to find the encoding scheme that works best for you. Change the program and make it do something new—that’s the best way to learn! ",
        "bbox": [
            275,
            193,
            869,
            448
        ],
        "page_idx": 158
    },
    {
        "type": "text",
        "text": "Closing the Scanner ",
        "text_level": 1,
        "bbox": [
            132,
            512,
            382,
            537
        ],
        "page_idx": 158
    },
    {
        "type": "text",
        "text": "There’s one touch we can add here that you may recall from Chapter 2. The Scanner variable scan should have a yellow underline, indicating a warning in Eclipse telling you there is a resource leak. When you hover your mouse over the warning, it pops up with the message 'scan' is never closed. Remember that we need to close all input/output resources, such as Scanner objects, when we’re finished using them. To do so, we’ll add the command scan.close() right after the final System.out.println in the main() method of the program: ",
        "bbox": [
            236,
            543,
            906,
            672
        ],
        "page_idx": 158
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "System.out.println(output);  \nscan.close(); ",
        "guess_lang": "javascript",
        "bbox": [
            281,
            686,
            513,
            720
        ],
        "page_idx": 158
    },
    {
        "type": "text",
        "text": "Adding this line removes the resource leak warning. See Listing 6-3 for a fully functional Caesar cipher encoder and decoder with a key value of 13. ",
        "bbox": [
            236,
            737,
            900,
            776
        ],
        "page_idx": 158
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "import java.util.Scanner;   \npublic class SecretMessages { public static void main(String[] args) { Scanner scan $=$ new Scanner(System.in); System.out.println(\"Enter a message to encode or decode:\"); String message $=$ scan.nextLine(); String output $= \\mathrm{\"}$ \"； char key $= 13$ ",
        "bbox": [
            236,
            789,
            807,
            918
        ],
        "page_idx": 158
    },
    {
        "type": "footer",
        "text": "Deciphering Secret Messages ",
        "bbox": [
            686,
            953,
            849,
            966
        ],
        "page_idx": 158
    },
    {
        "type": "page_number",
        "text": "135 ",
        "bbox": [
            876,
            948,
            904,
            963
        ],
        "page_idx": 158
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "for ( int x = 0; x < message.length(); x++) { char input = message.charAt(x); if (input >= 'A' && input <= 'Z') { input += key; if (input > 'Z') input -= 26; } else if (input >= 'a' && input <= 'z') { input += key; if (input > 'z') input -= 26; } output += input; } System.out.println(output); scan.close(); } ",
        "guess_lang": "javascript",
        "bbox": [
            232,
            61,
            698,
            384
        ],
        "page_idx": 159
    },
    {
        "type": "text",
        "text": "Listing 6-3: This version of the app is a fully functional Caesar cipher encoder and decoder with a key value of 13. ",
        "bbox": [
            232,
            394,
            843,
            429
        ],
        "page_idx": 159
    },
    {
        "type": "text",
        "text": "Try it out by first running the program and encoding a message. Then copy the encoded output and run the program again; when prompted, paste the encoded message and press enter. The program will respond with the original, decoded message. Here are two sample runs of the program in which I’ve copied the encoded output from the first message to use as the input for the second run: ",
        "bbox": [
            230,
            438,
            890,
            546
        ],
        "page_idx": 159
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "Enter a message to encode or decode:  \nSecret messages are so cool!  \nFrxerg zrffntrf ner fb pbby!  \nEnter a message to encode or decode:  \nFrxerg zrffntrf ner fb pbby!  \nSecret messages are so cool! ",
        "guess_lang": "txt",
        "bbox": [
            232,
            563,
            541,
            659
        ],
        "page_idx": 159
    },
    {
        "type": "text",
        "text": "Because the Caesar cipher is symmetric, running the program on an encoded message decodes the message back to its original plaintext. This means you can run this program as it’s written in Listing 6-3 to encode a message, send the encoded version to a friend who also has the encoder program, and have them decode your message instantly. ",
        "bbox": [
            230,
            677,
            876,
            767
        ],
        "page_idx": 159
    },
    {
        "type": "text",
        "text": "Unfortunately, this means anyone running the program (or anyone who figures out the cipher) can decode your messages just as quickly as you can. For our next iteration, let’s make the code a little more interesting by allowing the user to set their own key value. Then, you can pick a different key to send messages to different people, or you can use a new key every time. ",
        "bbox": [
            230,
            768,
            896,
            858
        ],
        "page_idx": 159
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 159
    },
    {
        "type": "footer",
        "text": "Chapter 6 ",
        "bbox": [
            144,
            951,
            202,
            966
        ],
        "page_idx": 159
    },
    {
        "type": "text",
        "text": "Adding a Custom Key Value ",
        "text_level": 1,
        "bbox": [
            130,
            61,
            484,
            85
        ],
        "page_idx": 160
    },
    {
        "type": "text",
        "text": "The secret message encoder works well with a key value of 13, but what if we want to encode and decode messages using a different key value, such as 3 (the classical Caesar cipher shift) or 5 or 25? ",
        "bbox": [
            236,
            93,
            898,
            148
        ],
        "page_idx": 160
    },
    {
        "type": "text",
        "text": "We’ll need to prompt the user for a key value in addition to the message. We can do that by adding a prompt before the line that creates the char key variable: ",
        "bbox": [
            236,
            148,
            876,
            202
        ],
        "page_idx": 160
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "String output = \"\";  \nSystem.out.println(\"Enter a secret key (-25 to 25):\");  \nchar key = 13; ",
        "guess_lang": "txt",
        "bbox": [
            305,
            217,
            767,
            267
        ],
        "page_idx": 160
    },
    {
        "type": "text",
        "text": "We’re allowing negative key values as a convenience for decoding messages. If you use a key value of 5 to encode your message and send it to a friend, your friend can use a key value of -5 to decode the message. ",
        "bbox": [
            236,
            285,
            890,
            339
        ],
        "page_idx": 160
    },
    {
        "type": "text",
        "text": "When the user responds with their desired secret key value, we can scan the line of input they provide, parse the integer value out of the line of input, and store the value in an int variable: ",
        "bbox": [
            236,
            339,
            880,
            393
        ],
        "page_idx": 160
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "String output = \"\";  \nSystem.out.println(\"Enter a secret key (-25 to 25):\");  \nint keyVal = Integer.parseInt.scan.nextLine(); ",
        "guess_lang": "txt",
        "bbox": [
            305,
            409,
            767,
            460
        ],
        "page_idx": 160
    },
    {
        "type": "text",
        "text": "Finally, instead of using 13 as the key variable, we’ll change the variable key to the following: ",
        "bbox": [
            236,
            475,
            896,
            513
        ],
        "page_idx": 160
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "int keyVal = Integer.parseInt.scan.nextLine());  \nchar key = (char) keyVal;  \nfor (int x = 0; x < message.length(); x++) { ",
        "guess_lang": "javascript",
        "bbox": [
            305,
            528,
            706,
            579
        ],
        "page_idx": 160
    },
    {
        "type": "text",
        "text": "Here, we’re casting the keyVal entered to a char and storing that value in the variable key, since we can’t store an integer directly into a char. ",
        "bbox": [
            236,
            596,
            902,
            632
        ],
        "page_idx": 160
    },
    {
        "type": "text",
        "text": "To handle negative key values for the decoding process, we’ll need to make a change to the logic inside the if statements. We have to check whether subtracting a value (or adding a negative key) would shift the letter past the beginning of the alphabet (or less than 'A'). If that happens, we can shift the letter back into the range from A to Z by adding 26. Add the following code to the if statement for uppercase letters: ",
        "bbox": [
            236,
            632,
            898,
            741
        ],
        "page_idx": 160
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "if(input $\\text{三} =$ 'A'&&input $<   =$ 'Z') { input $+ =$ key; if(input $\\gimel$ 'Z') input $\\text{一} = 26$ · if(input $<$ 'A') input $+ = 26$ · ",
        "bbox": [
            337,
            755,
            623,
            882
        ],
        "page_idx": 160
    },
    {
        "type": "footer",
        "text": "Deciphering Secret Messages ",
        "bbox": [
            686,
            951,
            849,
            966
        ],
        "page_idx": 160
    },
    {
        "type": "page_number",
        "text": "137 ",
        "bbox": [
            876,
            948,
            904,
            963
        ],
        "page_idx": 160
    },
    {
        "type": "text",
        "text": "If we input a negative key, we check whether we shifted before A and add 26 to wrap back around to the end of the alphabet. ",
        "bbox": [
            232,
            64,
            898,
            100
        ],
        "page_idx": 161
    },
    {
        "type": "text",
        "text": "Remember to do the same for the lowercase logic inside the else-if statement that follows: ",
        "bbox": [
            232,
            100,
            861,
            135
        ],
        "page_idx": 161
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "else if (input >= 'a' && input <= 'z')  \n{  \n    input += key;  \n    if (input > 'z')  \n        input -= 26;  \n    if (input < 'a')  \n        input += 26;  \n} ",
        "guess_lang": "lisp",
        "bbox": [
            333,
            150,
            660,
            280
        ],
        "page_idx": 161
    },
    {
        "type": "text",
        "text": "After these changes, you’ll be able to run the program to encode and decode messages with your own, custom key. Your program should work like the following example: ",
        "bbox": [
            230,
            298,
            878,
            354
        ],
        "page_idx": 161
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "Enter a message to encode or decode:  \nYou've written a really cool app in Java!  \nEnter a secret key (-25 to 25):  \n7  \nFvb'cl dypaalu h ylhssf jvvs hww pu Qch!  \nEnter a message to encode or decode:  \nFvb'cl dypaalu h ylhssf jvvs hww pu Qch!  \nEnter a secret key (-25 to 25):  \n-7  \nYou've written a really cool app in Java! ",
        "guess_lang": "txt",
        "bbox": [
            232,
            369,
            583,
            528
        ],
        "page_idx": 161
    },
    {
        "type": "text",
        "text": "The first time we ran the program, we used a key of 7. So, to decode the secret message, we ran the program again with the key value -7, revealing the original plaintext message. ",
        "bbox": [
            230,
            546,
            898,
            600
        ],
        "page_idx": 161
    },
    {
        "type": "text",
        "text": "Go ahead and try it out! ",
        "bbox": [
            267,
            600,
            482,
            618
        ],
        "page_idx": 161
    },
    {
        "type": "text",
        "text": "Encoding Digits ",
        "text_level": 1,
        "bbox": [
            126,
            650,
            319,
            672
        ],
        "page_idx": 161
    },
    {
        "type": "text",
        "text": "Now we have encoded letters, but if we encode a message like the following, any digits remain unencoded, in their original plaintext: ",
        "bbox": [
            230,
            681,
            894,
            717
        ],
        "page_idx": 161
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "Enter a message to encode or decode: Meet me at the arcade at 5pm. Enter a secret key (-25 to 25): 8 Ummm um ib bpm izkilm ib 5xu. ",
        "guess_lang": "txt",
        "bbox": [
            232,
            734,
            541,
            813
        ],
        "page_idx": 161
    },
    {
        "type": "text",
        "text": "Notice the 5 in 5pm remains a 5 in the output message. If we want to encode numbers as well as letters, we need to add one more section of logic to the for loop. We’ll need to check whether a character falls between 0 ",
        "bbox": [
            230,
            831,
            894,
            887
        ],
        "page_idx": 161
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 161
    },
    {
        "type": "footer",
        "text": "Chapter 6 ",
        "bbox": [
            144,
            951,
            202,
            966
        ],
        "page_idx": 161
    },
    {
        "type": "text",
        "text": "and 9 and then encode that character as a different digit. We’ll also have to remember to wrap back around to the front or back of the set of 10 digits. We’ll have to handle this differently from wrapping around in the set of 26 letters since we’re dealing with numbers now. ",
        "bbox": [
            236,
            63,
            894,
            133
        ],
        "page_idx": 162
    },
    {
        "type": "text",
        "text": "First, let’s add another else-if statement right after the else-if that handles lowercase letters: ",
        "bbox": [
            236,
            135,
            861,
            169
        ],
        "page_idx": 162
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "else if (input >= 'a' && input <= 'z') { input += key; if (input > 'z') input -= 26; if (input < 'a') input += 26; } else if (input >= '0' && input <= '9') output += input; ",
        "guess_lang": "txt",
        "bbox": [
            339,
            184,
            666,
            348
        ],
        "page_idx": 162
    },
    {
        "type": "text",
        "text": "This part looks similar to the previous two if conditions, except that we’re using the digits $\" 0 \"$ through $\" 9 \"$ , instead of the letters $\" \\mathsf { A } ^ { \\prime }$ to $\" _ { Z \" }$ , as the range. ",
        "bbox": [
            236,
            364,
            898,
            417
        ],
        "page_idx": 162
    },
    {
        "type": "text",
        "text": "The next line, inside the brace for the if statement, looks a bit different: ",
        "bbox": [
            273,
            418,
            892,
            435
        ],
        "page_idx": 162
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "else if (input >= '0' && input <= '9') { input += (keyVal % 10); ",
        "guess_lang": "javascript",
        "bbox": [
            339,
            451,
            666,
            503
        ],
        "page_idx": 162
    },
    {
        "type": "text",
        "text": "First, we’re using the integer version of the secret key, keyVal, which the user entered earlier in the program. Second, we’ve used the modulo operator (%) to keep the shift value for digits between -10 and $+ 1 0$ . ",
        "bbox": [
            236,
            519,
            884,
            573
        ],
        "page_idx": 162
    },
    {
        "type": "text",
        "text": "We also need to test whether adding the keyVal pushed a digit past 9 or before 0, just as we checked whether encoding a letter pushed it past Z or before A. But, instead of subtracting 26 to wrap back around to the beginning of the alphabet, we need to subtract 10 to keep a digit between 0 and 9: ",
        "bbox": [
            236,
            575,
            886,
            645
        ],
        "page_idx": 162
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "else if (input >= '0' && input <= '9') { input += (keyVal % 10); if (input > '9') input -= 10; if (input < '0') input += 10; } output += input; ",
        "guess_lang": "javascript",
        "bbox": [
            238,
            660,
            571,
            806
        ],
        "page_idx": 162
    },
    {
        "type": "text",
        "text": "If encoding a digit pushes it past 9, we subtract 10. And, if decoding moves a digit below 0, we add 10. ",
        "bbox": [
            236,
            824,
            863,
            860
        ],
        "page_idx": 162
    },
    {
        "type": "footer",
        "text": "Deciphering Secret Messages ",
        "bbox": [
            686,
            953,
            849,
            966
        ],
        "page_idx": 162
    },
    {
        "type": "page_number",
        "text": "139 ",
        "bbox": [
            876,
            948,
            904,
            963
        ],
        "page_idx": 162
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "Enter a message to encode or decode: Meet me at the arcade at 5pm and bring $2 to play Pac-Man :) Enter a secret key (-25 to 25): T1la tl ha aol hyjhkl ha 2wt huk iypun $9 av wshf Whj-Thu :) ",
        "guess_lang": "txt",
        "bbox": [
            232,
            99,
            744,
            178
        ],
        "page_idx": 163
    },
    {
        "type": "text",
        "text": "The 5 in 5pm is correctly shifted by seven and wraps back around to 2wt in the encoded message. The 2 in $\\$ 2$ is shifted by seven to $\\$ 9$ . You can test the preceding secret message by decoding it with a key of -7, and you should get the original plaintext message back, including the numbers. ",
        "bbox": [
            230,
            196,
            873,
            268
        ],
        "page_idx": 163
    },
    {
        "type": "text",
        "text": "The full, final text-based version of the Secret Messages app is given in Listing 6-4. ",
        "bbox": [
            230,
            268,
            886,
            306
        ],
        "page_idx": 163
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "import java.util.Scanner;   \npublic class SecretMessages { public static void main(String[] args) { Scanner scan $=$ new Scanner(System.in); System.out.println(\"Enter a message to encode or decode:\"); String message $=$ scan.nextLine(); String output $=$ \"\"; System.out.println(\"Enter a secret key (-25 to 25):\"); int keyVal $=$ Integer.parseInt scam.nextLine(); char key $=$ (char) keyVal; for (int $\\mathbf{x} = 0$ .x $<  _{i}$ message.length(）; $\\mathrm{x + + }$ ){ char input $=$ messagecharAt(x); if (input $\\vDash$ 'A' && input $\\Leftarrow$ 'Z') { input $+ =$ key; if (input $>$ 'Z') input $- = 26$ . if (input $<  _{\\cdot}$ A') input $+ = 26$ . } else if (input $> = ^{\\prime}a^{\\prime}$ && input $\\Leftarrow$ 'z') { input $+ =$ key; if (input $>$ 'z') input $- = 26$ . if (input $<  _{\\cdot}$ a') input $+ = 26$ . } else if (input $> = ^{\\prime}0^{\\prime}$ && input $\\Leftarrow$ '9') { input $+ =$ (keyVal % 10); if (input $>$ '9') input $- = 10$ . if (input $<  _{\\cdot}$ '0') input $+ = 10$ . } output $+ =$ input; ",
        "bbox": [
            230,
            321,
            803,
            923
        ],
        "page_idx": 163
    },
    {
        "type": "header",
        "text": "Now we can encode both numbers and letters in the messages we send: ",
        "bbox": [
            269,
            64,
            890,
            82
        ],
        "page_idx": 163
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 163
    },
    {
        "type": "footer",
        "text": "Chapter 6 ",
        "bbox": [
            144,
            951,
            202,
            965
        ],
        "page_idx": 163
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "System.out.println(output); scan.close(); } 1 ",
        "guess_lang": "javascript",
        "bbox": [
            238,
            61,
            543,
            127
        ],
        "page_idx": 164
    },
    {
        "type": "text",
        "text": "Listing 6-4: The finished command line version of the Secret Messages app ",
        "bbox": [
            238,
            142,
            793,
            162
        ],
        "page_idx": 164
    },
    {
        "type": "text",
        "text": "This Secret Messages app can be a fun way to share scrambled messages back and forth with friends. But some of your friends may not have Eclipse or the Java JDK installed on their computer. Wouldn’t it be nice to be able to share the Secret Messages app with them too? In the next section, we’ll see how to run a command line Java app without opening Eclipse. ",
        "bbox": [
            236,
            169,
            906,
            262
        ],
        "page_idx": 164
    },
    {
        "type": "text",
        "text": "Running Command Line Apps Without Eclipse ",
        "text_level": 1,
        "bbox": [
            132,
            291,
            696,
            316
        ],
        "page_idx": 164
    },
    {
        "type": "text",
        "text": "We’ve built two command line apps so far, but we’ve always run them from inside Eclipse. Eclipse provides a convenient console emulator to let us see how a command line app would look and feel, but what if we wanted to run the app from an actual command line, such as the Command Prompt in Windows or the Terminal on macOS? Or what if we wanted to send one of our command line apps to a friend who doesn’t have Eclipse installed on their computer? ",
        "bbox": [
            236,
            322,
            896,
            448
        ],
        "page_idx": 164
    },
    {
        "type": "text",
        "text": "Fortunately, most people have at least the JRE, or Java Runtime Environment, installed on their computers. ",
        "bbox": [
            236,
            448,
            831,
            486
        ],
        "page_idx": 164
    },
    {
        "type": "text",
        "text": "Finding Your Workspace Folders ",
        "text_level": 1,
        "bbox": [
            238,
            504,
            519,
            527
        ],
        "page_idx": 164
    },
    {
        "type": "text",
        "text": "To run the app you’ve written and compiled in Eclipse, first start by finding your Eclipse workspace folder. Open it in File Explorer (or Finder), as shown in Figure 6-7. ",
        "bbox": [
            236,
            531,
            898,
            585
        ],
        "page_idx": 164
    },
    {
        "type": "image",
        "img_path": "images/3b1cf63676f69e1babaca753d8c8fd8eea3b47d3d86d491b7a10755fa953ed50.jpg",
        "image_caption": [
            "Figure 6-7: My workspace folder has folders inside it for each of the projects we’ve built so far, plus some Eclipse default folders. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            597,
            831,
            768
        ],
        "page_idx": 164
    },
    {
        "type": "text",
        "text": "Open the SecretMessages project folder inside your workspace, and you’ll see a few files and folders inside it, as shown in Figure 6-8. The src folder has your source code files (ending in .java), and the bin folder has the compiled version of your app (ending in .class). ",
        "bbox": [
            236,
            828,
            898,
            905
        ],
        "page_idx": 164
    },
    {
        "type": "footer",
        "text": "Deciphering Secret Messages ",
        "bbox": [
            686,
            951,
            851,
            966
        ],
        "page_idx": 164
    },
    {
        "type": "page_number",
        "text": "141 ",
        "bbox": [
            876,
            948,
            904,
            963
        ],
        "page_idx": 164
    },
    {
        "type": "image",
        "img_path": "images/8bd90e187d9c01b6c228b4717361763d7ec980db27b0a273718d2a41d2a43cf6.jpg",
        "image_caption": [
            "Figure 6-8: Find the bin folder inside the SecretMessages project folder. "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            64,
            898,
            234
        ],
        "page_idx": 165
    },
    {
        "type": "text",
        "text": "Opening a Command Line Window ",
        "text_level": 1,
        "bbox": [
            232,
            300,
            531,
            322
        ],
        "page_idx": 165
    },
    {
        "type": "text",
        "text": "Next, open a command line window. On Windows, you can do this by pressing the Start button, going to the search bar, and typing cmd (short for command) and pressing enter. On macOS, use the Spotlight search bar to find Terminal, or from a new Finder window, go to Applications4Utilities4Terminal. On Linux, open the Terminal application or use Search to find Terminal. ",
        "bbox": [
            230,
            327,
            839,
            433
        ],
        "page_idx": 165
    },
    {
        "type": "text",
        "text": "We need to browse into the bin folder described earlier from the command line or Terminal prompt. Type cd (“change directory”) followed by a space in your terminal window. Then, to change directories into the bin folder for your app, drag the bin folder from your File Explorer or Finder window and drop it into the Command Prompt or Terminal window, as shown in Figure 6-9. ",
        "bbox": [
            230,
            435,
            880,
            542
        ],
        "page_idx": 165
    },
    {
        "type": "image",
        "img_path": "images/e728e05fed4b8129fe0707dc1262ccc38badb1773d575964744925119d31e2ad.jpg",
        "image_caption": [
            "Figure 6-9: You can drag and drop the bin folder from File Explorer or Finder into the command line window to easily copy the directory path. "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            555,
            890,
            741
        ],
        "page_idx": 165
    },
    {
        "type": "text",
        "text": "Notice that the full path appears after the cd command and looks something like the following (your workspace/SecretMessages/bin folder will be in a slightly different location from mine, of course): ",
        "bbox": [
            230,
            804,
            898,
            858
        ],
        "page_idx": 165
    },
    {
        "type": "text",
        "text": "cd \"C:\\Users\\Bryson Payne\\workspace_ch06\\SecretMessages\\bin\" ",
        "bbox": [
            232,
            875,
            742,
            893
        ],
        "page_idx": 165
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 165
    },
    {
        "type": "footer",
        "text": "Chapter 6 ",
        "bbox": [
            142,
            953,
            202,
            965
        ],
        "page_idx": 165
    },
    {
        "type": "text",
        "text": "cd /Users/BrysonPayne/Desktop/workspace_ch06/SecretMessages/bin ",
        "bbox": [
            238,
            97,
            777,
            115
        ],
        "page_idx": 166
    },
    {
        "type": "text",
        "text": "Press enter after this command, and the terminal will change the prompt to show you that you’re now inside the bin folder. On Windows, this looks like: ",
        "bbox": [
            238,
            133,
            906,
            169
        ],
        "page_idx": 166
    },
    {
        "type": "text",
        "text": "C:\\Users\\Bryson Payne\\workspace_ch06\\SecretMessages\\bin>_ ",
        "bbox": [
            238,
            184,
            726,
            204
        ],
        "page_idx": 166
    },
    {
        "type": "text",
        "text": "Now we’re inside the bin folder, where the file SecretMessages.class has been compiled. To run the program contained in the SecretMessages.class bytecode file, enter the following command: ",
        "bbox": [
            236,
            220,
            871,
            274
        ],
        "page_idx": 166
    },
    {
        "type": "text",
        "text": "C:\\Users\\Bryson Payne\\workspace_ch06\\SecretMessages\\bin>java SecretMessages ",
        "bbox": [
            238,
            291,
            878,
            309
        ],
        "page_idx": 166
    },
    {
        "type": "text",
        "text": "Spelling, capitalization, and spacing all matter in the command, so you’ll need to match the name you gave your Java class precisely. If you typed the command correctly, the app should run, and you can test it with a message and secret key like so: ",
        "bbox": [
            236,
            325,
            902,
            399
        ],
        "page_idx": 166
    },
    {
        "type": "text",
        "text": "C:\\Users\\Bryson Payne\\workspace_ch06\\SecretMessages\\bin>java SecretMessages Enter a message to encode or decode: ",
        "bbox": [
            238,
            415,
            878,
            445
        ],
        "page_idx": 166
    },
    {
        "type": "text",
        "text": "I'm running my app directly from the command line terminal! ",
        "bbox": [
            238,
            448,
            740,
            463
        ],
        "page_idx": 166
    },
    {
        "type": "text",
        "text": "Enter a secret key (-25 to 25): ",
        "bbox": [
            238,
            463,
            503,
            478
        ],
        "page_idx": 166
    },
    {
        "type": "text",
        "text": "12 ",
        "bbox": [
            240,
            481,
            261,
            492
        ],
        "page_idx": 166
    },
    {
        "type": "text",
        "text": "U'y dgzzuzs yk mbb pudqofxk rday ftq oayymzp xuzq fqdyuzmx! ",
        "bbox": [
            238,
            493,
            740,
            510
        ],
        "page_idx": 166
    },
    {
        "type": "text",
        "text": "You can run the app again by retyping the line java SecretMessages or by pressing the up arrow key on your keyboard and pressing enter. Figure 6-10 shows a couple of runs encoding and decoding a message from a Windows command prompt. ",
        "bbox": [
            236,
            530,
            894,
            602
        ],
        "page_idx": 166
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "Command Prompt  \nMicrosoft Windows [Version 10.0.15063]  \n(c) 2017 Microsoft Corporation. All rights reserved.  \nC:\\Users\\Bryson Payne>cd \"C:\\Users\\Bryson Payne\\workspace\\_ch06\\SecretMessages\\bin\"  \nC:\\Users\\Bryson Payne\\workspace\\_ch06\\SecretMessages\\bin>java SecretMessages  \nEnter a message to encode or decode:  \nI'm running my app directly from the command line terminal!  \nEnter a secret key (-25 to 25):  \n12  \nU'y dgzzuzs yk mbb pudqofxk rday ftq oayymzp xuzq fqdyuzmx!  \nC:\\Users\\Bryson Payne\\workspace\\_ch06\\SecretMessages\\bin>java SecretMessages  \nEnter a message to encode or decode:  \nU'y dgzzuzs yk mbb pudqofxk rday ftq oayymzp xuzq fqdyuzmx!  \nEnter a secret key (-25 to 25):  \n-12  \nI'm running my app directly from the command line terminal!  \nC:\\Users\\Bryson Payne\\workspace\\_ch06\\SecretMessages\\bin> ",
        "guess_lang": "txt",
        "bbox": [
            240,
            615,
            906,
            816
        ],
        "page_idx": 166
    },
    {
        "type": "text",
        "text": "Figure 6-10: Now that you can run your Java app from the command line, you can encode and decode messages on any computer with Java installed, with or without Eclipse. ",
        "bbox": [
            238,
            828,
            898,
            861
        ],
        "page_idx": 166
    },
    {
        "type": "text",
        "text": "Now that you know how to run the app on your computer, you can share the SecretMessages.class file with your friends to exchange encoded ",
        "bbox": [
            236,
            879,
            863,
            915
        ],
        "page_idx": 166
    },
    {
        "type": "header",
        "text": "On macOS, the command will be: ",
        "bbox": [
            273,
            64,
            577,
            79
        ],
        "page_idx": 166
    },
    {
        "type": "footer",
        "text": "Deciphering Secret Messages ",
        "bbox": [
            686,
            953,
            849,
            966
        ],
        "page_idx": 166
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            876,
            950,
            904,
            963
        ],
        "page_idx": 166
    },
    {
        "type": "text",
        "text": "messages. If their computer has Java ( JDK or JRE) installed, all they’ll have to do is open their command line program, change directories into the folder containing the SecretMessages.class file, and run the same java SecretMessages command. To exchange messages, just agree on a key value to use. You can choose to use the same key every time or use different key values with different friends! Remember, though, this message app is just for fun—anyone with this program, or with a little time on their hands, can break a simple Caesar cipher. We’ll see how to break Caesar ciphers easily in Chapter 7. ",
        "bbox": [
            230,
            64,
            894,
            226
        ],
        "page_idx": 167
    },
    {
        "type": "text",
        "text": "What You Learned ",
        "text_level": 1,
        "bbox": [
            125,
            258,
            361,
            279
        ],
        "page_idx": 167
    },
    {
        "type": "text",
        "text": "The Secret Messages app provided a fun way to delve into the world of manipulating characters and strings of text in Java. Among the new things you learned in this chapter were: ",
        "bbox": [
            230,
            289,
            884,
            345
        ],
        "page_idx": 167
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Using the Caesar cipher to encode and decode simple messages ",
            "•\t Understanding the char data type for storing single Unicode characters ",
            "Getting a specific character in a string with the charAt() method ",
            "Accessing a specific location in a string using the index, or position number, of a character in the string ",
            "•\t Adding strings and characters together using the $^ +$ operator ",
            "Looping through a string with a for loop, using its length() function to get the number of characters ",
            "Understanding how the computer stores characters and other data represented by number values ",
            "Running command line apps directly from the command line, without Eclipse "
        ],
        "bbox": [
            232,
            357,
            890,
            605
        ],
        "page_idx": 167
    },
    {
        "type": "text",
        "text": "Programming Challenges ",
        "text_level": 1,
        "bbox": [
            125,
            636,
            444,
            660
        ],
        "page_idx": 167
    },
    {
        "type": "text",
        "text": "Try these programming challenge exercises to review and practice what you’ve learned, as well as to expand your programming skills by trying something new. Visit the book’s website at https://www.nostarch.com/learnjava/ to download sample solutions. ",
        "bbox": [
            230,
            668,
            890,
            741
        ],
        "page_idx": 167
    },
    {
        "type": "text",
        "text": "#1: Looping the Loop ",
        "text_level": 1,
        "bbox": [
            232,
            759,
            416,
            780
        ],
        "page_idx": 167
    },
    {
        "type": "text",
        "text": "We’ve built a fun message encoder/decoder app that will let us send and receive secret texts, emails, tweets, and so on. For your first programming challenge, add a loop to the Secret Messages app that will allow you to keep encoding and decoding messages as many times as you like. ",
        "bbox": [
            230,
            786,
            894,
            858
        ],
        "page_idx": 167
    },
    {
        "type": "aside_text",
        "text": "PROGRAMMING CHALLENGES ",
        "bbox": [
            37,
            64,
            55,
            259
        ],
        "page_idx": 167
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 167
    },
    {
        "type": "footer",
        "text": "Chapter 6 ",
        "bbox": [
            144,
            953,
            202,
            965
        ],
        "page_idx": 167
    },
    {
        "type": "text",
        "text": "You can choose to use the same key every time, or you can ask the user for a new key each time. If you ask the user to enter a secret key each time through the loop, you can enable them to encode and decode messages, one after the other (entering 8, for example, to encode a message to a friend, and -8 to decode a message from that same friend). ",
        "bbox": [
            242,
            64,
            890,
            151
        ],
        "page_idx": 168
    },
    {
        "type": "text",
        "text": "One way to do this is to prompt the user to enter a new message to encode or decode or tell them to press enter to quit. Then, use an if statement to check whether the user entered a message or just pressed enter. Give it a shot! ",
        "bbox": [
            242,
            154,
            892,
            223
        ],
        "page_idx": 168
    },
    {
        "type": "text",
        "text": "Hi n t ",
        "text_level": 1,
        "bbox": [
            154,
            243,
            212,
            262
        ],
        "page_idx": 168
    },
    {
        "type": "text",
        "text": "message.length() will be greater than zero if the user typed something. ",
        "bbox": [
            242,
            243,
            779,
            262
        ],
        "page_idx": 168
    },
    {
        "type": "text",
        "text": "#2: Reversing and Encoding ",
        "text_level": 1,
        "bbox": [
            244,
            298,
            478,
            319
        ],
        "page_idx": 168
    },
    {
        "type": "text",
        "text": "Let’s make our messages even harder to decipher by reversing the message before we encode it with the Caesar cipher. This double-encoding version of the app will combine the message-reversing approach of the first version in Listing 6-1 on page 130 with the Caesar cipher features of the final version from Listing 6-4 on page 140. ",
        "bbox": [
            242,
            325,
            906,
            415
        ],
        "page_idx": 168
    },
    {
        "type": "text",
        "text": "Reversing the order of the message is another example of symmetric encryption—doing it once reverses the message, and doing it again restores the message. Combining the string reversal with the Caesar cipher shift doesn’t make the program much more difficult, but it can make your messages even more confusing to an eavesdropper. ",
        "bbox": [
            242,
            417,
            886,
            504
        ],
        "page_idx": 168
    },
    {
        "type": "text",
        "text": "Make sure your app correctly encodes and decodes messages, and remember that your friends will need the new version of the program to be able to decipher your new, doubly scrambled messages! Enjoy! ",
        "bbox": [
            242,
            507,
            882,
            560
        ],
        "page_idx": 168
    },
    {
        "type": "text",
        "text": "#3: Safely Handling Keys with try and catch ",
        "text_level": 1,
        "bbox": [
            244,
            579,
            619,
            600
        ],
        "page_idx": 168
    },
    {
        "type": "text",
        "text": "A final improvement you could make to the Secret Messages app would be to safely handle bad numeric input when the user enters a key value. Remember the try-catch statement? ",
        "bbox": [
            242,
            606,
            861,
            659
        ],
        "page_idx": 168
    },
    {
        "type": "text",
        "text": "Adding the try-catch blocks to this app can be a bit tricky. In addition to adding the exception-handling code to prevent the user from crashing the program by giving a bad number (for example, by entering text instead of a number when prompted for the key value), you’ll need to think about what the app should do when bad input is provided. Should it tell the user their key was invalid and use a predefined key instead (say, 13)? Or should it create a loop that will keep asking the user for a valid key? ",
        "bbox": [
            242,
            660,
            900,
            786
        ],
        "page_idx": 168
    },
    {
        "type": "text",
        "text": "Try coding it both ways and pick the one you like best! ",
        "bbox": [
            275,
            786,
            750,
            804
        ],
        "page_idx": 168
    },
    {
        "type": "footer",
        "text": "Deciphering Secret Messages ",
        "bbox": [
            688,
            954,
            847,
            965
        ],
        "page_idx": 168
    },
    {
        "type": "page_number",
        "text": "145 ",
        "bbox": [
            876,
            950,
            904,
            963
        ],
        "page_idx": 168
    },
    {
        "type": "aside_text",
        "text": "PROGRAMMING CHALLENGES ",
        "bbox": [
            940,
            64,
            958,
            256
        ],
        "page_idx": 168
    },
    {
        "type": "text",
        "text": "7 ",
        "text_level": 1,
        "bbox": [
            521,
            189,
            630,
            328
        ],
        "page_idx": 170
    },
    {
        "type": "text",
        "text": "C r e at i n g Ad va n c e d GU I s a n d Sh a r i ng Yo ur App ",
        "text_level": 1,
        "bbox": [
            269,
            379,
            875,
            430
        ],
        "page_idx": 170
    },
    {
        "type": "image",
        "img_path": "images/ba7ea5d53be5b4f284bf52cf8d4e97e44e932f10a72a7be50ed580a082750752.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            164,
            475,
            359,
            624
        ],
        "page_idx": 170
    },
    {
        "type": "text",
        "text": "For the GUI desktop version of the Secret Messages app, we’re going to provide two ",
        "bbox": [
            375,
            561,
            888,
            614
        ],
        "page_idx": 170
    },
    {
        "type": "text",
        "text": "large text areas that allow the user to copy d paste long messages in the GUI interface. ",
        "bbox": [
            351,
            618,
            869,
            666
        ],
        "page_idx": 170
    },
    {
        "type": "text",
        "text": "By the end of the chapter, we’ll add a slider for key selection like the one shown in Figure 7-1, which will make cracking Caesar ciphers very easy, even when the key is unknown! ",
        "bbox": [
            240,
            671,
            884,
            776
        ],
        "page_idx": 170
    },
    {
        "type": "image",
        "img_path": "images/508a48cf95d999727f29680d6236f2e638cef64cf65b5fffa39fe529b0d3425c.jpg",
        "image_caption": [
            "Figure 7-1: The Secret Messages encoder/decoder app we’ll build in this chapter "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            64,
            660,
            280
        ],
        "page_idx": 171
    },
    {
        "type": "text",
        "text": "This version of the app is more user-friendly than the console-based app, and we’ll be able to reuse some code from Chapter 6 because the algorithm for encoding and decoding messages is the same. ",
        "bbox": [
            230,
            342,
            878,
            397
        ],
        "page_idx": 171
    },
    {
        "type": "text",
        "text": "Setting Up the Secret Messages GU I App Project ",
        "text_level": 1,
        "bbox": [
            125,
            427,
            726,
            451
        ],
        "page_idx": 171
    },
    {
        "type": "text",
        "text": "Open Eclipse and create a new Java project by going to File4New4Java Project. Name the project SecretMessagesGUI and then click Finish. Close any open files and expand the SecretMessagesGUI project folder in the Package Explorer pane to find the src folder. Right-click the src folder and select New4 Class to create a new Java source code file. Name this SecretMessagesGUI as well. ",
        "bbox": [
            230,
            459,
            875,
            567
        ],
        "page_idx": 171
    },
    {
        "type": "text",
        "text": "We’re going to use the Swing toolkit again, so in the New Java Class dialog, change the superclass to javax.swing.JFrame and select the checkbox to create a main() method. ",
        "bbox": [
            230,
            567,
            886,
            620
        ],
        "page_idx": 171
    },
    {
        "type": "text",
        "text": "Click Finish, and you’ll see some familiar skeleton code for the SecretMessagesGUI.java file. Right-click the SecretMessagesGUI.java file in the Package Explorer and select Open With4WindowBuilder Editor to begin creating the GUI interface for the Secret Messages app. ",
        "bbox": [
            230,
            621,
            884,
            693
        ],
        "page_idx": 171
    },
    {
        "type": "text",
        "text": "Designing the GU I and Naming Components ",
        "text_level": 1,
        "bbox": [
            125,
            726,
            680,
            749
        ],
        "page_idx": 171
    },
    {
        "type": "text",
        "text": "Open the WindowBuilder Editor’s Design tab. Expand the javax.swing.JFrame component in the Components pane and select getContentPane(). Now go to the Properties pane and change the Layout property to Absolute layout, as shown in Figure 7-2. This will allow us to position components with pixelperfect accuracy. ",
        "bbox": [
            230,
            756,
            898,
            846
        ],
        "page_idx": 171
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 171
    },
    {
        "type": "footer",
        "text": "Chapter 7 ",
        "bbox": [
            144,
            951,
            202,
            965
        ],
        "page_idx": 171
    },
    {
        "type": "image",
        "img_path": "images/a90e2c005b2c3d23aa59163c1b9143e2e556e4cc4935fbbbb4e5269e67261db7.jpg",
        "image_caption": [
            "Figure 7-2: Change the Layout property to Absolute layout before placing any GUI components. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            64,
            759,
            321
        ],
        "page_idx": 172
    },
    {
        "type": "text",
        "text": "Next, in the Components pane, click javax.swing.JFrame. Then, in the Properties pane, set the defaultCloseOperation to EXIT_ON_CLOSE. Also, change the title property to Your Name's Secret Message App, as shown in Figure 7-3. ",
        "bbox": [
            236,
            382,
            896,
            454
        ],
        "page_idx": 172
    },
    {
        "type": "image",
        "img_path": "images/903400352c4365236b696426b26830d2b815c89fb177c741e01c213362e8d426.jpg",
        "image_caption": [
            "Figure 7-3: Change the defaultCloseOperation and title properties to customize the app. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            466,
            563,
            777
        ],
        "page_idx": 172
    },
    {
        "type": "footer",
        "text": "Creating Advanced GUIs and Sharing Your App ",
        "bbox": [
            593,
            951,
            853,
            966
        ],
        "page_idx": 172
    },
    {
        "type": "page_number",
        "text": "149 ",
        "bbox": [
            876,
            948,
            904,
            963
        ],
        "page_idx": 172
    },
    {
        "type": "text",
        "text": "Next, let’s give ourselves some room to build a slightly larger GUI interface so we can encode and decode longer messages. With javax.swing.JFrame still selected in the Components pane, click the outside border of the window in the design preview. Click the small black resize box at the lower-right corner of the window, and drag down and to the right to resize the frame to 600 by 400 pixels, as shown in Figure 7-4. ",
        "bbox": [
            236,
            61,
            898,
            169
        ],
        "page_idx": 173
    },
    {
        "type": "image",
        "img_path": "images/cdffc9c628cf9f1f01b72ceae8e7e12399dbcead708ec05f445f90742c2cb4be.jpg",
        "image_caption": [
            "Figure 7-4: Resize the JFrame to hold bigger messages. "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            183,
            841,
            500
        ],
        "page_idx": 173
    },
    {
        "type": "text",
        "text": "Now we’re ready to begin placing the GUI interface components. For the GUI version of the app, we want to be able to encode and decode long messages, so the first component we’ll place is a JTextArea. Like a JTextField, text areas allow you to enter text, but a JTextArea can hold, display, and even wrap several lines of text. ",
        "bbox": [
            236,
            545,
            894,
            633
        ],
        "page_idx": 173
    },
    {
        "type": "text",
        "text": "To insert the first JTextArea for the user to input a message, under Components in the Palette, click JTextArea. Then place it near the top of the JFrame in the design preview. Click and drag to draw a JTextArea approximately one-third of the height of the content pane, with a small margin between the JTextArea and the edge of the frame. The JTextArea should be approximately 564 pixels wide by 140 pixels tall. Then, in the Properties pane, change the Variable property to txtIn. ",
        "bbox": [
            236,
            635,
            875,
            759
        ],
        "page_idx": 173
    },
    {
        "type": "text",
        "text": "To create the second JTextArea for the outputted message, right-click txtIn in the Preview pane, select Copy, right-click the content pane, and select Paste. Place the new JTextArea near the bottom edge of the frame. To name the new JTextArea, change the Variable property to txtOut. You should end up with two JTextArea components, as shown in Figure 7-5. ",
        "bbox": [
            236,
            762,
            890,
            851
        ],
        "page_idx": 173
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            91,
            950,
            119,
            963
        ],
        "page_idx": 173
    },
    {
        "type": "footer",
        "text": "Chapter 7 ",
        "bbox": [
            142,
            951,
            200,
            963
        ],
        "page_idx": 173
    },
    {
        "type": "image",
        "img_path": "images/f2232e20f703ec1dd2069068307eb3aab309c2fea7bea998aec81023767b0c57.jpg",
        "image_caption": [
            "Figure 7-5: Copy and paste txtIn to create a second JTextArea and name it txtOut. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            64,
            674,
            286
        ],
        "page_idx": 174
    },
    {
        "type": "text",
        "text": "Next, let’s add a text field for the encryption key value. Click JTextField in the Palette pane under Components and then click near the center of the content pane to place the JTextField. Change the JTextField’s Variable property to txtKey and resize it to about half its original size. ",
        "bbox": [
            236,
            346,
            904,
            418
        ],
        "page_idx": 174
    },
    {
        "type": "text",
        "text": "Add a JLabel to the left of txtKey, entering Key: as the label’s text property. Set the horizontalAlignment to RIGHT. Finally, add a JButton to the right of txtKey, entering the words Encode/Decode as the button’s text property. Expand the width of the button until it shows all the text. The interface should look like Figure 7-6. To preview the interface without running the app, press the small Test GUI button above the Palette, circled in Figure 7-6. ",
        "bbox": [
            236,
            418,
            902,
            525
        ],
        "page_idx": 174
    },
    {
        "type": "image",
        "img_path": "images/567e578cc2a94ed3a99db5dd1db1defb3bb243162bd70ad1f41516d714f7e43d.jpg",
        "image_caption": [
            "Figure 7-6: Test the GUI interface by pressing the Test GUI button above the Palette. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            539,
            771,
            795
        ],
        "page_idx": 174
    },
    {
        "type": "text",
        "text": "Now that you have the user interface set up, it’s time to code the program. ",
        "bbox": [
            273,
            858,
            906,
            876
        ],
        "page_idx": 174
    },
    {
        "type": "footer",
        "text": "Creating Advanced GUIs and Sharing Your App ",
        "bbox": [
            593,
            953,
            855,
            966
        ],
        "page_idx": 174
    },
    {
        "type": "page_number",
        "text": "151 ",
        "bbox": [
            876,
            948,
            904,
            965
        ],
        "page_idx": 174
    },
    {
        "type": "text",
        "text": "Coding the Secret Messages GU I App ",
        "text_level": 1,
        "bbox": [
            126,
            63,
            591,
            88
        ],
        "page_idx": 175
    },
    {
        "type": "text",
        "text": "Switch back to the source view by clicking the Source tab on the bottom left of the design view window. You’ll see that Eclipse has added all the GUI code in the SecretMessagesGUI.java file. To connect the GUI to our app, we first need to add the declarations for the two JTextArea variables at the top of the SecretMessagesGUI class. Eclipse knows that JTextField components usually need event handlers for user input, so it places txtKey at the top of the class, but we need to do the same with the two JTextArea components, txtIn and txtOut. Add the two bottom lines shown here: ",
        "bbox": [
            230,
            94,
            898,
            238
        ],
        "page_idx": 175
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public class SecretMessagesGUI extends JFrame { private JTextField txtKey; private JTextField txtIn; private JTextField txtOut; ",
        "guess_lang": "java",
        "bbox": [
            234,
            253,
            636,
            319
        ],
        "page_idx": 175
    },
    {
        "type": "text",
        "text": "After declaring the JTextArea variables at the top of the file, we need to modify the code inside the SecretMessagesGUI() constructor. Delete the variable type JTextArea at the beginning of each of these two lines: ",
        "bbox": [
            230,
            337,
            888,
            393
        ],
        "page_idx": 175
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "public SecretMessagesGUI(){ setTitle(\"Dr.Payne'sSecretMessageApp\"); setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); getContentPane().setLayout(null); txtIn $=$ newJTextArea(); //Delete\"JTextArea\"fromstartof line txtIn.setBounds(10，11，564，140); getContentPane().add(txtIn); txtOut $=$ newJTextArea(); //Delete\"JTextArea\"from start of line txtOut.setBounds(10，210，564，140); getContentPane().add(txtOut);",
        "bbox": [
            265,
            408,
            865,
            569
        ],
        "page_idx": 175
    },
    {
        "type": "text",
        "text": "With these changes, we’re ready to begin writing the method to encode messages whenever the user clicks the Encode/Decode button. ",
        "bbox": [
            232,
            585,
            896,
            621
        ],
        "page_idx": 175
    },
    {
        "type": "text",
        "text": "Creating the encode() Method ",
        "text_level": 1,
        "bbox": [
            232,
            639,
            494,
            662
        ],
        "page_idx": 175
    },
    {
        "type": "text",
        "text": "The encode() method we’ll write is similar to checkGuess() from the Hi-Lo guessing game app in Chapter 3. The checkGuess() method took a string that was the user’s guess, but the method didn’t need to return a value, so it returned void. Unlike checkGuess(), encode() will take a message and an encryption key as values, and instead of returning void, it will return an encoded message. ",
        "bbox": [
            230,
            668,
            878,
            776
        ],
        "page_idx": 175
    },
    {
        "type": "text",
        "text": "Methods return values so that the program can use them. We want encode() to take a message and key from the user and then run some code on those values to produce the encoded message, which our program will use as the output for the user. When declaring a method that returns information, we state the return value’s data type before the name of the method. The type of information we want returned from encode() is a String variable. So, encode() will be declared as public String encode(). ",
        "bbox": [
            230,
            777,
            890,
            903
        ],
        "page_idx": 175
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 175
    },
    {
        "type": "footer",
        "text": "Chapter 7 ",
        "bbox": [
            142,
            951,
            202,
            965
        ],
        "page_idx": 175
    },
    {
        "type": "text",
        "text": "We need to tell Java what kind of information we want to pass to encode(); this information is known as a method’s parameters. To declare parameters for a method, we place them inside the parentheses following the method name, with the data type first and the name of the parameter second. Multiple parameters are separated by commas. The declaration for the encode() method looks like this: ",
        "bbox": [
            236,
            63,
            898,
            169
        ],
        "page_idx": 176
    },
    {
        "type": "text",
        "text": "public String encode( String message, int keyVal ) ",
        "bbox": [
            271,
            187,
            698,
            205
        ],
        "page_idx": 176
    },
    {
        "type": "text",
        "text": "Let’s add braces for the body and place the encode() method right below the declarations for the two JTextArea variables, above the SecretMessagesGUI() constructor method: ",
        "bbox": [
            238,
            222,
            857,
            276
        ],
        "page_idx": 176
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public class SecretMessagesGUI extends JFrame { private JTextField txtKey; private JTextArea txtIn; private JTextArea txtOut; public String encode(String message, int keyVal) { } public SecretMessagesGUI() { ",
        "guess_lang": "java",
        "bbox": [
            240,
            292,
            716,
            406
        ],
        "page_idx": 176
    },
    {
        "type": "text",
        "text": "Eclipse will underline the encode() method in red to let you know you haven’t returned a value, but that’s because we haven’t written the code inside the method body yet. Here we’ll be reusing some of our code from Chapter 6. ",
        "bbox": [
            236,
            423,
            902,
            477
        ],
        "page_idx": 176
    },
    {
        "type": "text",
        "text": "Declare a String called output, set it equal to an empty string for now, and add a line to return output as the result of the encode() method using a return statement: ",
        "bbox": [
            236,
            478,
            888,
            530
        ],
        "page_idx": 176
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public String encode(String message, int keyVal) {  \n    String output = \"\";  \n    return output;  \n} ",
        "guess_lang": "groovy",
        "bbox": [
            271,
            546,
            716,
            612
        ],
        "page_idx": 176
    },
    {
        "type": "text",
        "text": "Since encode() was declared to return a String value and we’re returning output, which is a String, Eclipse will remove the red underline to let us know we’ve fixed the problem of the missing return value. ",
        "bbox": [
            236,
            630,
            890,
            683
        ],
        "page_idx": 176
    },
    {
        "type": "text",
        "text": "Next, we’ll reuse a selection of code from the text-based version of the app for encoding messages. Open the SecretMessages project from Chapter 6 in the Project Explorer pane. ",
        "bbox": [
            236,
            684,
            896,
            738
        ],
        "page_idx": 176
    },
    {
        "type": "text",
        "text": "We can copy the code starting at char key and ending at the closing brace of the for loop, right before System.out.println(output); near the end of the program. This is the part of the app that encodes a message using the Caesar cipher algorithm. ",
        "bbox": [
            236,
            738,
            886,
            810
        ],
        "page_idx": 176
    },
    {
        "type": "text",
        "text": "Paste the copied code from SecretMessages.java into SecretMessagesGUI.java, inside encode(), between the two lines we just added. The finished encode() method looks like this: ",
        "bbox": [
            236,
            810,
            896,
            863
        ],
        "page_idx": 176
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public String encode(String message, int keyVal) {  \nString output = \"\";  \nchar key = (char) keyVal; ",
        "guess_lang": "txt",
        "bbox": [
            271,
            881,
            716,
            929
        ],
        "page_idx": 176
    },
    {
        "type": "footer",
        "text": "Creating Advanced GUIs and Sharing Your App ",
        "bbox": [
            593,
            951,
            853,
            966
        ],
        "page_idx": 176
    },
    {
        "type": "page_number",
        "text": "153 ",
        "bbox": [
            876,
            948,
            904,
            963
        ],
        "page_idx": 176
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "for ( int x = 0; x < message.length(); x++) { char input = message.charAt(x); if (input >= 'A' && input <= 'Z') { input += key; if (input > 'Z') input -= 26; if (input < 'A') input += 26; } else if (input >= 'a' && input <= 'z') { input += key; if (input > 'z') input -= 26; if (input < 'a') input += 26; } else if (input >= '0' && input <= '9') { input += (keyVal % 10); if (input > '9') input -= 10; if (input < '0') input += 10; } output += input; } return output; ",
        "guess_lang": "javascript",
        "bbox": [
            263,
            61,
            698,
            539
        ],
        "page_idx": 177
    },
    {
        "type": "text",
        "text": "Because we named our variables consistently, we can reuse the Caesar cipher encryption code. Consistent naming is a good habit, and well-written code in Java can be reused across multiple platforms. ",
        "bbox": [
            230,
            555,
            898,
            612
        ],
        "page_idx": 177
    },
    {
        "type": "text",
        "text": "Writing the Event Handler for the Encode/Decode Button ",
        "text_level": 1,
        "bbox": [
            234,
            629,
            724,
            651
        ],
        "page_idx": 177
    },
    {
        "type": "text",
        "text": "We want the user to provide both the input message and the key value that we’ll pass along to encode() in the GUI interface, and we want the output message to be returned when the user presses the Encode/Decode button, so let’s write the code to handle the button click event. ",
        "bbox": [
            230,
            656,
            888,
            726
        ],
        "page_idx": 177
    },
    {
        "type": "text",
        "text": "Switch to the design view in SecretMessagesGUI.java and double-click the Encode/Decode button. Eclipse will switch back to the source view and insert the code for the actionPerformed() event handler for the Encode/ Decode button, like the code snippet shown here: ",
        "bbox": [
            230,
            728,
            878,
            801
        ],
        "page_idx": 177
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "JButton btnEncodeddecode = new JButton(\"Encode/Decode\");  \nbtnEncodeddecode.addActionListener(new ActionListener() { public void actionPerformed(ActionEvent arg0) { } }); ",
        "guess_lang": "txt",
        "bbox": [
            299,
            816,
            779,
            899
        ],
        "page_idx": 177
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 177
    },
    {
        "type": "footer",
        "text": "Chapter 7 ",
        "bbox": [
            144,
            951,
            202,
            966
        ],
        "page_idx": 177
    },
    {
        "type": "text",
        "text": "This is an anonymous inner class, like the one we first encountered in Chapter 3. All we have to add is the code inside actionPerformed() to tell Java how the button should behave when it’s clicked. ",
        "bbox": [
            236,
            63,
            898,
            115
        ],
        "page_idx": 178
    },
    {
        "type": "text",
        "text": "We want the Encode/Decode button to perform the following steps: ",
        "bbox": [
            273,
            117,
            871,
            135
        ],
        "page_idx": 178
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "1. Get the input message from txtIn. ",
            "2. Get the key from txtKey. ",
            "3. Encode the message using the key. ",
            "4. Show the output message in txtOut. "
        ],
        "bbox": [
            238,
            148,
            581,
            234
        ],
        "page_idx": 178
    },
    {
        "type": "text",
        "text": "Think about how we might accomplish each of those steps. Try it yourself before reading further and then read below to see how my solution compares. ",
        "bbox": [
            236,
            247,
            904,
            283
        ],
        "page_idx": 178
    },
    {
        "type": "text",
        "text": "For the first step, we can set up a String called message that gets the text from the txtIn field. Just like a JTextField, a JTextArea has a getText() method: ",
        "bbox": [
            236,
            283,
            904,
            319
        ],
        "page_idx": 178
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "public void actionPerformed(ActionEvent arg0) { String message $=$ txtIn.getText(); ",
        "bbox": [
            339,
            334,
            742,
            370
        ],
        "page_idx": 178
    },
    {
        "type": "text",
        "text": "For the second step, we can get the user’s key from txtKey using the Integer.parseInt() method, which pulls an integer value out of a text string. Then we’ll store the integer we get in a variable we’ll call key: ",
        "bbox": [
            236,
            387,
            890,
            442
        ],
        "page_idx": 178
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "String message $=$ txtIn.getText(); int key $=$ Integer.parseInt( txtKey.getText()); ",
        "bbox": [
            371,
            457,
            773,
            490
        ],
        "page_idx": 178
    },
    {
        "type": "text",
        "text": "To encode the message in the third step, we just need to call the encode() method and pass it two arguments. Arguments are the values we give a method to serve as its parameters. Remember we defined encode() to require two parameters, so we’ll need to pass encode() two arguments, which will be the variables message and key. ",
        "bbox": [
            236,
            509,
            904,
            597
        ],
        "page_idx": 178
    },
    {
        "type": "text",
        "text": "We can call encode() with the statement encode(message, key). When it has finished executing, it will return the encoded message, which is output. Note that a method returns the value itself, not the variable the value is stored in. That means that the encoded message is stored in output, but when encode() returns output, we’re actually getting only the encoded string. In addition to that, all the code and variables created inside encode() aren’t carried over to the rest of the program, so the output variable doesn’t exist anymore once encode() returns. We’ll need to store the value returned by the method in a new variable if we want to save it. In order to keep our naming consistent, let’s call the new variable output too: ",
        "bbox": [
            236,
            599,
            902,
            779
        ],
        "page_idx": 178
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "String message = txtIn.getText();  \nint key = Integer.parseInt(key.getText());  \nString output = encode(message, key); ",
        "guess_lang": "txt",
        "bbox": [
            371,
            795,
            773,
            843
        ],
        "page_idx": 178
    },
    {
        "type": "footer",
        "text": "Creating Advanced GUIs and Sharing Your App ",
        "bbox": [
            593,
            951,
            853,
            966
        ],
        "page_idx": 178
    },
    {
        "type": "page_number",
        "text": "155 ",
        "bbox": [
            876,
            948,
            904,
            963
        ],
        "page_idx": 178
    },
    {
        "type": "text",
        "text": "Finally, we’ll use the setText() method to show the output message in txtOut: ",
        "bbox": [
            232,
            64,
            865,
            99
        ],
        "page_idx": 179
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "String message = txtIn.getText();  \nint key = Integer.parseInt(key.getText());  \nString output = encode(message, key);  \ntxtOut.setText(output); ",
        "guess_lang": "txt",
        "bbox": [
            367,
            115,
            769,
            183
        ],
        "page_idx": 179
    },
    {
        "type": "text",
        "text": "The actionPerformed() method is almost complete, except for some error handling. We’ve used the Integer.parseInt() method, which can throw exceptions if the user enters bad input, so we’ll need to add try-catch statements. ",
        "bbox": [
            230,
            199,
            880,
            270
        ],
        "page_idx": 179
    },
    {
        "type": "text",
        "text": "Handling Bad Input and User Errors ",
        "text_level": 1,
        "bbox": [
            232,
            289,
            545,
            313
        ],
        "page_idx": 179
    },
    {
        "type": "text",
        "text": "The code to process button clicks includes a call to Integer.parseInt(), and we learned back in Chapter 3 that this method can throw exceptions when the user enters erroneous input. In particular, if the user were to leave the txtKey field blank or type anything other than an integer into that JTextField, the Integer.parseInt() method would fail. ",
        "bbox": [
            230,
            318,
            890,
            406
        ],
        "page_idx": 179
    },
    {
        "type": "text",
        "text": "We need to protect the program from bad input by using try-catch blocks to handle exceptions. Since we want to encode or decode a message only when the user has correctly entered an encryption key, we can wrap all four lines of actionPerformed() inside a try block by adding the keyword try and an opening brace before the first line, as well as a closing brace after the fourth line, as shown here: ",
        "bbox": [
            230,
            408,
            898,
            516
        ],
        "page_idx": 179
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public void actionPerformed(ActionEvent arg0) { try { String message = txtIn.getText(); int key = Integer.parseInt(txtKey.getText()); String output = encode(message, key); txtOut.setText(output); } catch (Exception ex) { } ",
        "guess_lang": "java",
        "bbox": [
            333,
            531,
            803,
            675
        ],
        "page_idx": 179
    },
    {
        "type": "text",
        "text": "Eclipse will highlight the closing brace in red, so let’s go ahead and add the catch block as shown. We’ll need to tell Java what to do when bad input is received, and we’ll add those steps inside the braces for the catch statement a little later. But first, let’s finish the main() method so that we can test the app. ",
        "bbox": [
            230,
            693,
            890,
            768
        ],
        "page_idx": 179
    },
    {
        "type": "text",
        "text": "Building the main() Method and Running the App ",
        "text_level": 1,
        "bbox": [
            232,
            785,
            660,
            807
        ],
        "page_idx": 179
    },
    {
        "type": "text",
        "text": "Just like when we created our game app in Chapter 3, we need to add some setup code to the main() method to create an instance of the Secret Messages app, correctly size the GUI window, and make the GUI visible to the user. Near the bottom of the SecretMessagesGUI.java file, find the main() method stub Eclipse provided and add the following three lines. ",
        "bbox": [
            230,
            813,
            880,
            903
        ],
        "page_idx": 179
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 179
    },
    {
        "type": "footer",
        "text": "Chapter 7 ",
        "bbox": [
            144,
            951,
            202,
            966
        ],
        "page_idx": 179
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "public static void main(String[] args){ ① SecretMessagesGUI theApp $=$ new SecretMessagesGUI(); ② theApp.setSize(new java.awt.Dimension(600,400)); ③ theApp.setVisible(true);   \n}",
        "bbox": [
            271,
            70,
            742,
            151
        ],
        "page_idx": 180
    },
    {
        "type": "text",
        "text": "The line at $\\bullet$ creates a SecretMessagesGUI object called theApp. The new keyword followed by the class name runs the constructor method SecretMessagesGUI(), which sets up all the components of the GUI interface. ",
        "bbox": [
            236,
            169,
            888,
            225
        ],
        "page_idx": 180
    },
    {
        "type": "text",
        "text": "Next, we set the size of the JFrame to match the width and height that we used in designing the layout, 600 by 400 pixels v. Finally, we set the JFrame’s visible property to true $\\otimes$ , allowing the user to see the GUI. Save these changes and then run the app to test it, as shown in Figure 7-7. ",
        "bbox": [
            236,
            226,
            898,
            297
        ],
        "page_idx": 180
    },
    {
        "type": "image",
        "img_path": "images/b7e7e7900fd08395af9fded0372473f3b47a5b2ba63b950dd6a38b49b8678c32.jpg",
        "image_caption": [
            "Figure 7-7: The Secret Messages app is still a bit plain, but it can encode and decode messages! "
        ],
        "image_footnote": [],
        "bbox": [
            242,
            309,
            652,
            518
        ],
        "page_idx": 180
    },
    {
        "type": "text",
        "text": "The following is the full source code for SecretMessagesGUI.java to this point: ",
        "bbox": [
            236,
            581,
            878,
            618
        ],
        "page_idx": 180
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "import javax.swing JFrame;   \nimport javax.swing.JTextArea;   \nimport javax.swing.JTextField;   \nimport javax.swing.JLabel;   \nimport javax.swing.JButton;   \nimport java.awt.event.ActionListener;   \nimport java.awt Dimension;   \nimport java.awt.event.ActionEvent;   \npublic class SecretMessagesGUI extends JFrame { private JTextField txtKey; private JTextArea txtIn; private JTextArea txtOut; public String encode(String message, int keyVal) { String output $=$ \"\" char key $=$ (char) keyVal; for (int $\\mathbf{x} = 0$ . $x <$ message.length(); $x + +$ ）{ char input $=$ message.charAt(x); ",
        "bbox": [
            240,
            633,
            714,
            902
        ],
        "page_idx": 180
    },
    {
        "type": "footer",
        "text": "Creating Advanced GUIs and Sharing Your App ",
        "bbox": [
            593,
            951,
            853,
            966
        ],
        "page_idx": 180
    },
    {
        "type": "page_number",
        "text": "157 ",
        "bbox": [
            876,
            948,
            904,
            963
        ],
        "page_idx": 180
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "if (input >= 'A' && input <= 'Z') { input += key; if (input > 'Z') input -= 26; if (input < 'A') input += 26; } else if (input >= 'a' && input <= 'z') { input += key; if (input > 'z') input -= 26; if (input < 'a') input += 26; } else if (input >= '0' && input <= '9') { input += (keyVal % 10); if (input > '9') input -= 10; if (input < '0') input += 10; } output += input; } return output; } public SecretMessagesGUI() { setTitle(\"Dr. Payne's Secret Message App\"); setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); getContentPane().setLayout(null); txtIn = new JTextArea(); txtIn.setBounds(10, 11, 564, 140); getContentPane().add(txtIn); txtOut = new JTextArea(); txtOut.setBounds(10, 210, 564, 140); getContentPane().add(txtOut); txtKey = new JTextField(); txtKey.setBounds(258, 173, 44, 20); getContentPane().add(txtKey); JLabel lblKey = new JLabel(\"Key:\"); lblKey.setBounds(202, 176, 46, 14); getContentPane().add(lblKey); JButton btnEncodeddecode = new JButton(\"Encode/Decode\"); bgnEncodeddecode.addActionListener(new ActionListener() { public void actionPerformed(ActionEvent arg0) { try { String message = txtIn.getText(); int key = Integer.parseInt(txtKey.getText()); String output = encode(message, key); txtOut.setText(output); } catch (Exception ex) { } } ",
        "guess_lang": "javascript",
        "bbox": [
            265,
            61,
            803,
            932
        ],
        "page_idx": 181
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 181
    },
    {
        "type": "footer",
        "text": "Chapter 7 ",
        "bbox": [
            144,
            951,
            202,
            965
        ],
        "page_idx": 181
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "});  \nbtnEncodedecode.setBounds(312, 172, 144, 23);  \ngetContentPane().add(btnEncodedecode);  \n}  \npublic static void main(String[] args) {  \n    SecretMessagesGUI theApp = new SecretMessagesGUI();  \n    theApp.setSize(new java.awt.Dimension(600, 400));  \n    theApp.setVisible(true);  \n} ",
        "guess_lang": "java",
        "bbox": [
            238,
            61,
            742,
            223
        ],
        "page_idx": 182
    },
    {
        "type": "text",
        "text": "This first version of the app is a success, but it leaves a bit to be desired visually. We can make the GUI interface look more professional with just a few tweaks. ",
        "bbox": [
            236,
            238,
            894,
            292
        ],
        "page_idx": 182
    },
    {
        "type": "text",
        "text": "Improving the GU I ",
        "text_level": 1,
        "bbox": [
            132,
            325,
            365,
            349
        ],
        "page_idx": 182
    },
    {
        "type": "text",
        "text": "Let’s switch back to the design view to correct the issues we noted in the last section. First, click the Encode/Decode button and make it a bit wider. Different computers can have other default fonts and sizes, so give the button a little extra room to be safe. ",
        "bbox": [
            236,
            357,
            902,
            427
        ],
        "page_idx": 182
    },
    {
        "type": "text",
        "text": "Now, let’s make the font sizes in the two JTextArea fields larger and easier to read. We want to change the font properties of both text areas, so we can select both txtIn and txtOut at the same time by clicking txtIn and then using ctrl-click (or $\\ncong$ -click) to also select txtOut. ",
        "bbox": [
            236,
            429,
            896,
            500
        ],
        "page_idx": 182
    },
    {
        "type": "text",
        "text": "With both text areas selected, go to the font property in the Properties pane and click the three dots next to the font size. The Font Chooser dialog will appear, as shown in Figure 7-8. ",
        "bbox": [
            236,
            501,
            902,
            555
        ],
        "page_idx": 182
    },
    {
        "type": "image",
        "img_path": "images/a5e6254e0d091c84cd8cf695e67519d3e48d049aa1a3fd113e58edef6e281472.jpg",
        "image_caption": [
            "Figure 7-8: We can change the font properties for both JTextArea fields at the same time. "
        ],
        "image_footnote": [],
        "bbox": [
            242,
            567,
            636,
            870
        ],
        "page_idx": 182
    },
    {
        "type": "footer",
        "text": "Creating Advanced GUIs and Sharing Your App ",
        "bbox": [
            593,
            951,
            855,
            966
        ],
        "page_idx": 182
    },
    {
        "type": "page_number",
        "text": "159 ",
        "bbox": [
            876,
            948,
            906,
            963
        ],
        "page_idx": 182
    },
    {
        "type": "text",
        "text": "Choose a font size of 18 or greater and select a font that you like. Stick with a familiar font so that when you share the app with friends on different computers, the look and feel won’t change too dramatically. I’ve selected Lucida Console, 18 point. Click OK to save the font selection. ",
        "bbox": [
            230,
            64,
            898,
            133
        ],
        "page_idx": 183
    },
    {
        "type": "text",
        "text": "Finally, let’s change the background color of the content pane to personalize it. Select the content pane by clicking getContentPane() in the Components pane in the upper left. Then, click the three dots beside the background property in the Properties pane. In the Color Chooser dialog that pops up, select the Named colors tab, as shown in Figure 7-9. You’ll see a broad selection of colors. Choose a color that you like and click OK. ",
        "bbox": [
            230,
            136,
            886,
            243
        ],
        "page_idx": 183
    },
    {
        "type": "image",
        "img_path": "images/4d93ea9342fc5ee5b612280e63207a1174283977cf608653d6ebb3d51bd1198a.jpg",
        "image_caption": [
            "Figure 7-9: Change the background color of the content pane and button to make the app more stylish. "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            256,
            599,
            701
        ],
        "page_idx": 183
    },
    {
        "type": "text",
        "text": "You can also change the background color of the Encode/Decode button. You may not see all your changes in the design preview, but if you run the app, you should see your new selections, as shown in Figure 7-10, along with any new background color you chose. ",
        "bbox": [
            230,
            779,
            875,
            852
        ],
        "page_idx": 183
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 183
    },
    {
        "type": "footer",
        "text": "Chapter 7 ",
        "bbox": [
            144,
            951,
            202,
            965
        ],
        "page_idx": 183
    },
    {
        "type": "image",
        "img_path": "images/dc8167ebad60f501e7a201fe0fd3879600fb0046c19e527f7a623dcfd8c53dde.jpg",
        "image_caption": [
            "Figure 7-10: The GUI after you change the button size and font size. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            64,
            664,
            259
        ],
        "page_idx": 184
    },
    {
        "type": "text",
        "text": "There are a lot of other properties you can customize based on your preference. Explore the Properties pane for each component and adjust things until the app looks how you want it. Remember to stop and save your app so your changes don’t get erased! ",
        "bbox": [
            236,
            321,
            884,
            394
        ],
        "page_idx": 184
    },
    {
        "type": "text",
        "text": "Setting Line Wrap and Word Wrap ",
        "text_level": 1,
        "bbox": [
            238,
            412,
            541,
            435
        ],
        "page_idx": 184
    },
    {
        "type": "text",
        "text": "So far, the messages I’ve used in my examples have been shorter than one line. But what happens if we type several lines of text? ",
        "bbox": [
            236,
            439,
            882,
            475
        ],
        "page_idx": 184
    },
    {
        "type": "text",
        "text": "Let’s try typing or pasting a long sentence into the input text area. I’ll use the first sentence of the Gettysburg Address, by US president Abraham Lincoln: ",
        "bbox": [
            236,
            475,
            867,
            528
        ],
        "page_idx": 184
    },
    {
        "type": "text",
        "text": "Four score and seven years ago our fathers brought forth on this continent, a new nation, conceived in Liberty, and dedicated to the proposition that all men are created equal. ",
        "bbox": [
            309,
            540,
            821,
            593
        ],
        "page_idx": 184
    },
    {
        "type": "text",
        "text": "You can use this sentence or make up your own long sentence. Either way, as soon as you type it in, you’ll notice a problem, as shown in Figure 7-11. ",
        "bbox": [
            238,
            602,
            898,
            639
        ],
        "page_idx": 184
    },
    {
        "type": "image",
        "img_path": "images/8d9f19edfac4dadb3c11f89582474f843de05b94bae9e33e73a96ad8c1c4f896.jpg",
        "image_caption": [
            "Figure 7-11: Longer messages in the app don’t yet automatically wrap at the end of a line. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            650,
            664,
            843
        ],
        "page_idx": 184
    },
    {
        "type": "footer",
        "text": "Creating Advanced GUIs and Sharing Your App ",
        "bbox": [
            593,
            953,
            855,
            966
        ],
        "page_idx": 184
    },
    {
        "type": "page_number",
        "text": "161 ",
        "bbox": [
            876,
            948,
            904,
            963
        ],
        "page_idx": 184
    },
    {
        "type": "text",
        "text": "To correctly wrap longer lines of text by full words, you’ll need to change two properties for each text area in the Properties pane. Select both JTextArea objects again in the design preview and then, under Properties, select the checkboxes next to lineWrap and wrapStyleWord. The first property, lineWrap, tells Java to wrap text longer than one line down to the next line. Setting the wrap style to wrapStyleWord tells Java to break the line at the end of a whole word, as we do in a word processor or as you see in this book. ",
        "bbox": [
            230,
            64,
            894,
            189
        ],
        "page_idx": 185
    },
    {
        "type": "text",
        "text": "Now save and run the app again. Paste your long sentence into the first text box, and you should notice an improvement. Now the text is correctly wrapped across multiple lines, with line breaks after the last full word that fits on each line. Enter a key and press the Encode/Decode button, and you’ll see the same text wrapping in the output text area, as shown in Figure 7-12. ",
        "bbox": [
            230,
            190,
            898,
            282
        ],
        "page_idx": 185
    },
    {
        "type": "image",
        "img_path": "images/53ca55d6ef69a9af17f015f9bc0ad4f66848968cb47ed689657f649cfbf750fd.jpg",
        "image_caption": [
            "Figure 7-12: Changing both the lineWrap and wrapStyleWord properties to true results in a nice multiline interface, complete with word wrapping. "
        ],
        "image_footnote": [],
        "bbox": [
            236,
            292,
            658,
            507
        ],
        "page_idx": 185
    },
    {
        "type": "text",
        "text": "This version of the program is becoming more professional looking, but what happens if we enter bad input in the text field for the encryption key? Well, nothing yet. We added a try statement earlier, but we didn’t complete the catch statement. Let’s do that now. We’ll also learn how to create pop-up message dialogs to alert the user to errors. ",
        "bbox": [
            230,
            585,
            878,
            678
        ],
        "page_idx": 185
    },
    {
        "type": "text",
        "text": "Handling Bad Input and User Errors: Part 2 ",
        "text_level": 1,
        "bbox": [
            232,
            695,
            609,
            717
        ],
        "page_idx": 185
    },
    {
        "type": "text",
        "text": "Earlier in the chapter, we added a try block around the button event handler, but we left the body of the catch statement empty. It’s time to fill that in with code. ",
        "bbox": [
            230,
            723,
            855,
            774
        ],
        "page_idx": 185
    },
    {
        "type": "text",
        "text": "Our catch statement will handle bad or missing user input in the txtKey text field. If the user forgets to enter a value for the encryption key or if the value they entered is not a number, one way of handling that is to pop up a message describing the problem, like the one shown in Figure 7-13. ",
        "bbox": [
            230,
            777,
            890,
            849
        ],
        "page_idx": 185
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 185
    },
    {
        "type": "footer",
        "text": "Chapter 7 ",
        "bbox": [
            142,
            951,
            202,
            966
        ],
        "page_idx": 185
    },
    {
        "type": "image",
        "img_path": "images/439139fed029ab31eeb848c3db6a69cffab18b836128a03acfef60c1732a1749.jpg",
        "image_caption": [
            "Figure 7-13: A dialog pops up to alert the user to an error. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            64,
            668,
            280
        ],
        "page_idx": 186
    },
    {
        "type": "text",
        "text": "After the user closes the pop-up window, another helpful touch is to move the cursor to the txtKey text field and highlight or select any text there so the user can type a new value easily, without needing to click and select the value manually. ",
        "bbox": [
            236,
            327,
            888,
            397
        ],
        "page_idx": 186
    },
    {
        "type": "text",
        "text": "The javax.swing toolkit that we’ve been using for GUI components such as JFrame and JTextField also has classes that handle various kinds of pop-up windows. Some examples are input dialogs, which allow the user to provide text input; confirm dialogs, which allow the user to select Yes/No/OK or Cancel; and message dialogs, which provide information to the user in a pop-up window. ",
        "bbox": [
            236,
            399,
            900,
            507
        ],
        "page_idx": 186
    },
    {
        "type": "text",
        "text": "The error message we’d like to provide to the user is best displayed in a message dialog. The javax.swing.JOptionPane class has a method called showMessageDialog() that takes two parameters, which are the parent window and the message to display. If we were writing a larger application, we would use the parent window parameter to center the dialog over the main word processing window, for example. But for this app, we can use the keyword null to center the dialog over the desktop instead, as shown here: ",
        "bbox": [
            236,
            507,
            906,
            633
        ],
        "page_idx": 186
    },
    {
        "type": "text",
        "text": "JOptionPane.showMessageDialog(null, \"Please enter a whole number value for the encryption key.\"); ",
        "bbox": [
            238,
            648,
            809,
            683
        ],
        "page_idx": 186
    },
    {
        "type": "text",
        "text": "When this line of code is called, it will pop up a message dialog reading “Please enter a whole number value for the encryption key.” ",
        "bbox": [
            238,
            699,
            902,
            737
        ],
        "page_idx": 186
    },
    {
        "type": "text",
        "text": "To add this pop-up error message to the catch statement we created earlier, go to the design view and double-click the Encode/Decode button. This is a quick way to have Eclipse take you directly to the source code for the button-click event handler that contains the catch statement. ",
        "bbox": [
            236,
            737,
            894,
            807
        ],
        "page_idx": 186
    },
    {
        "type": "footer",
        "text": "Creating Advanced GUIs and Sharing Your App ",
        "bbox": [
            593,
            953,
            853,
            966
        ],
        "page_idx": 186
    },
    {
        "type": "page_number",
        "text": "163 ",
        "bbox": [
            876,
            948,
            904,
            963
        ],
        "page_idx": 186
    },
    {
        "type": "text",
        "text": "After the error message is displayed, we’ll also want to place the cursor in the txtKey field and select any text currently in the txtKey field, as we did for the Hi-Lo guessing game GUI app. We’ll add the message dialog and the same requestFocus() and selectAll() statements we used in the Hi-Lo guessing game app inside the braces for the catch statement. The finished event handler code for the Encode/Decode button looks like the following: ",
        "bbox": [
            230,
            64,
            890,
            172
        ],
        "page_idx": 187
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "btnEncodedecode.addActionListener(new ActionListener() { public void actionPerformed(ActionEvent arg0) { try { String message = txtIn.getText(); int key = Integer.parseInt(txtKey.getText()); String output = encode(message, key); txtOut.setText(output); } catch (Exception ex) { JOptionPane.showMessageDialog(null, \"Please enter a whole number value for the encryption key.\", txtKey.requestFocus(); txtKey.selectAll(); } } }）; ",
        "guess_lang": "java",
        "bbox": [
            236,
            184,
            803,
            429
        ],
        "page_idx": 187
    },
    {
        "type": "text",
        "text": "No t e ",
        "text_level": 1,
        "bbox": [
            148,
            465,
            204,
            478
        ],
        "page_idx": 187
    },
    {
        "type": "text",
        "text": "When you add JOptionPane, if you don’t use the content assist or if you see an error at JOptionPane, you may need to press ctrl-shift-O to import the javax.swing .JOptionPane class correctly at the top of your code. ",
        "bbox": [
            234,
            463,
            878,
            516
        ],
        "page_idx": 187
    },
    {
        "type": "text",
        "text": "Run the app now, either leaving the key field blank or entering nonnumeric text as the key. The message dialog will pop up, asking you to enter a valid key. It will also highlight the text in the key field so that it’s easy to type a whole number when the dialog closes. ",
        "bbox": [
            230,
            534,
            878,
            606
        ],
        "page_idx": 187
    },
    {
        "type": "text",
        "text": "A first-time user might not know what to type into the key field, so adding a default value might also be a helpful UI tweak. Click the Design tab, select the txtKey text field, and enter a default key value into the text property in the Properties pane. I’ll choose 3 as my default encryption key, but you can choose any number. Let’s also change the horizontalAlignment property of the txtKey field to CENTER. Feel free to change other properties to make txtKey look exactly like you want, including the font color and style. ",
        "bbox": [
            230,
            606,
            896,
            732
        ],
        "page_idx": 187
    },
    {
        "type": "text",
        "text": "Adding a Slider to the Secret Messages GUI ",
        "text_level": 1,
        "bbox": [
            232,
            752,
            615,
            774
        ],
        "page_idx": 187
    },
    {
        "type": "text",
        "text": "We’ll add one more user interface improvement to the Secret Messages app—a numeric slider that will allow the user to quickly slide through key values and see how the message changes with each new key. ",
        "bbox": [
            230,
            780,
            880,
            833
        ],
        "page_idx": 187
    },
    {
        "type": "text",
        "text": "In design view, under Components in the Palette, select the JSlider component. Hover over the middle left of the design preview, beside the key prompt, and click to drop the JSlider into place as shown in Figure 7-14—you can adjust the position later if needed. ",
        "bbox": [
            230,
            834,
            871,
            906
        ],
        "page_idx": 187
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 187
    },
    {
        "type": "footer",
        "text": "Chapter 7 ",
        "bbox": [
            144,
            951,
            202,
            965
        ],
        "page_idx": 187
    },
    {
        "type": "image",
        "img_path": "images/1e615a7a1d25e6d67fe9262df6a811641230921624c5f09d8bd9b39f694e5d19.jpg",
        "image_caption": [
            "Figure 7-14: Add a JSlider to the graphical user interface for a quick, easy way to try different key values. "
        ],
        "image_footnote": [],
        "bbox": [
            97,
            64,
            853,
            448
        ],
        "page_idx": 188
    },
    {
        "type": "text",
        "text": "Now let’s customize some properties of the JSlider. First, let’s change its background color to match the rest of the app. With the new JSlider selected in the design preview, click the three dots next to the background property in the Properties pane, go to Named colors in the Color Chooser dialog, and pick the same color you used for the rest of the GUI. Click OK to save the ",
        "bbox": [
            236,
            492,
            896,
            582
        ],
        "page_idx": 188
    },
    {
        "type": "text",
        "text": "new background color for the slider. ",
        "bbox": [
            236,
            582,
            551,
            600
        ],
        "page_idx": 188
    },
    {
        "type": "text",
        "text": "Next, we’ll add custom labels, tick marks, and a default value for the slider. First, turn on the paintLabels property by selecting the true checkbox beside it. Second, enter a maximum value of 26 and a minimum value of –26 to make it easy to choose a key value in the correct range. ",
        "bbox": [
            236,
            600,
            628,
            726
        ],
        "page_idx": 188
    },
    {
        "type": "text",
        "text": "Next, for the minorTickSpacing property, enter a value of 1—this will add small tick marks on the slider track to help the user see the range of possible values. Then, for the majorTickSpacing property, enter 13—this will show a label every 13 values between -26 and 26 on the slider. Now, turn on the paintTicks property by selecting the true checkbox next to it. The complete Properties pane with all the changes we’ve made is shown in Figure 7-15. ",
        "bbox": [
            236,
            726,
            615,
            924
        ],
        "page_idx": 188
    },
    {
        "type": "image",
        "img_path": "images/735b17b663900b2108fa162e2209734e5a39e2a31a896facc22beeceb11929f0.jpg",
        "image_caption": [
            "Figure 7-15: Customizing the properties of the slider "
        ],
        "image_footnote": [],
        "bbox": [
            652,
            617,
            904,
            873
        ],
        "page_idx": 188
    },
    {
        "type": "footer",
        "text": "Creating Advanced GUIs and Sharing Your App ",
        "bbox": [
            593,
            951,
            855,
            966
        ],
        "page_idx": 188
    },
    {
        "type": "page_number",
        "text": "165 ",
        "bbox": [
            876,
            948,
            904,
            963
        ],
        "page_idx": 188
    },
    {
        "type": "text",
        "text": "We’re almost done! Change the default value of the slider to match your default key value in the key text field by modifying the value property. I selected 3 as my default key value, so I’ll enter 3 in the value property for the slider. Finally, you’ll need to make the slider a bit taller to show the labels, as shown in the finished slider in Figure 7-16. ",
        "bbox": [
            230,
            64,
            886,
            156
        ],
        "page_idx": 189
    },
    {
        "type": "image",
        "img_path": "images/93e9955e0d26d602062eec28278bcbaf2e9e3f71e5e32270bfde0d31e5bebddf.jpg",
        "image_caption": [
            "Figure 7-16: The Secret Messages app with the GUI slider in place "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            166,
            668,
            375
        ],
        "page_idx": 189
    },
    {
        "type": "text",
        "text": "Now, we need to add the code to make the slider work, allowing the user to slide easily among various key values to encode and decode messages quickly. ",
        "bbox": [
            230,
            436,
            888,
            492
        ],
        "page_idx": 189
    },
    {
        "type": "text",
        "text": "Code Cracking with the Slider ",
        "text_level": 1,
        "bbox": [
            125,
            522,
            501,
            546
        ],
        "page_idx": 189
    },
    {
        "type": "text",
        "text": "We want the user to be able to change the encryption key value by clicking and dragging the slider we added in the previous section, so next we’re going to add an event handler to listen for changes to the slider. ",
        "bbox": [
            230,
            554,
            894,
            606
        ],
        "page_idx": 189
    },
    {
        "type": "text",
        "text": "Right-click or control-click the slider in the design preview and go to Add event handler4change4stateChanged, as shown in Figure 7-17. The stateChanged event handler will work similarly to the actionPerformed event handler for the Encode/Decode button, but it will run anytime the user changes the slider’s position to update the encryption key value. ",
        "bbox": [
            230,
            608,
            886,
            699
        ],
        "page_idx": 189
    },
    {
        "type": "image",
        "img_path": "images/40c09409e54226d0332e181bc1ad08f7d987ac463d377bf972c1d61e8d900a5f.jpg",
        "image_caption": [
            "Figure 7-17: Adding an event handler to the slider that will detect when the user changes the slider’s value "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            710,
            668,
            849
        ],
        "page_idx": 189
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 189
    },
    {
        "type": "footer",
        "text": "Chapter 7 ",
        "bbox": [
            144,
            951,
            202,
            965
        ],
        "page_idx": 189
    },
    {
        "type": "text",
        "text": "When you click to add the stateChanged event handler to the slider, Eclipse will automatically generate another anonymous inner class, much like the one it created for the Encode/Decode button. But before we check out the anonymous inner class, we’ll need to add the JSlider to the top of the class with the JTextArea declarations. To do that, we have to declare the JSlider as an instance variable. Add the last line shown here to the declarations at the top of the SecretMessagesGUI class: ",
        "bbox": [
            236,
            63,
            898,
            189
        ],
        "page_idx": 190
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public class SecretMessagesGUI extends JFrame { private JTextField txtKey; private JTextArea txtIn; private JTextArea txtOut; private JSlider slider; ",
        "guess_lang": "java",
        "bbox": [
            238,
            205,
            640,
            288
        ],
        "page_idx": 190
    },
    {
        "type": "text",
        "text": "Then, scroll back down to the slider code. Remember, you can switch back to design view and right-click to add the event handler again to go directly to the code anytime you get lost. Now, change the first line, removing the JSlider type declaration, as shown here: ",
        "bbox": [
            236,
            304,
            898,
            376
        ],
        "page_idx": 190
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "slider = new JSlider(); slider.addChangeListener(newChangeListener() { public void stateChanged(ChangeEvent argO) { ",
        "guess_lang": "java",
        "bbox": [
            305,
            391,
            716,
            442
        ],
        "page_idx": 190
    },
    {
        "type": "text",
        "text": "The first action we’d like the slider to do is update the txtKey text field to show the slider’s current position. We can get the slider’s current position with the getValue() method, and we can set the text of the txtKey field with its setText() method. Adding those together, we can write the first line of the stateChanged() method: ",
        "bbox": [
            236,
            459,
            904,
            551
        ],
        "page_idx": 190
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public void stateChanged(ChangeEvent arg0) { txtKey.setText(\" \" + slider.getValue()); ",
        "guess_lang": "javascript",
        "bbox": [
            339,
            564,
            724,
            600
        ],
        "page_idx": 190
    },
    {
        "type": "text",
        "text": "The slider.getValue() method returns an integer—the current position value of the slider—so we added an empty string to the number to turn it into a string or text value. This will change the txtKey text field to show the slider’s value. But it doesn’t automatically re-encode the message using the new value yet. If you run the app now, you still need to click the Encode/ Decode button to change the message. ",
        "bbox": [
            236,
            617,
            896,
            725
        ],
        "page_idx": 190
    },
    {
        "type": "text",
        "text": "Let’s modify the code in the stateChanged() method so that the slider updates the message like the Encode/Decode button would. We can copy the code from inside the try statement for the Encode/Decode button and paste it after the first line of the stateChanged() method for the slider, making only one change: ",
        "bbox": [
            236,
            726,
            902,
            816
        ],
        "page_idx": 190
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "slider = new JSlider(); slider.addChangeListener(newChangeListener() { public void stateChanged(ChangeEvent arg0) { txtKey.setText(\" \" + slider.getValue()); ① String message = txtIn.getText(); ② int key = slider.getValue(); ",
        "guess_lang": "java",
        "bbox": [
            305,
            831,
            724,
            927
        ],
        "page_idx": 190
    },
    {
        "type": "footer",
        "text": "Creating Advanced GUIs and Sharing Your App ",
        "bbox": [
            593,
            951,
            853,
            966
        ],
        "page_idx": 190
    },
    {
        "type": "page_number",
        "text": "167 ",
        "bbox": [
            876,
            948,
            904,
            963
        ],
        "page_idx": 190
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "String output $\\equiv$ encode(message,key); 4 txtOut.setText(output); } ",
        "bbox": [
            301,
            63,
            724,
            127
        ],
        "page_idx": 191
    },
    {
        "type": "text",
        "text": "The lines at u, w, and $\\bullet$ are copied directly from the Encode/Decode button’s event handler, but we’ve made a small change at v. Instead of parsing the value out of the text field, we can access the slider’s value directly as an integer using the getValue() method. This means we don’t need a try-catch statement, because we’re no longer relying on the user to supply a hand-typed value. This is more convenient for the user and more secure for the programmer, as using the GUI slider removes one potential error while also making the interface easier to use. ",
        "bbox": [
            230,
            145,
            890,
            289
        ],
        "page_idx": 191
    },
    {
        "type": "text",
        "text": "Save the changes and run the application, and you’ll see that you can type in a message and then change the position of the slider to try different encryption key values. To test the ability to decode, copy an encoded message from the bottom text area using ctrl-C (or $\\mathcal { E } \\mathrm { - C }$ ) and paste it into the top text area using ctrl-V (or z-V). Then slide the slider to the left or right until you see the original message again. ",
        "bbox": [
            230,
            289,
            896,
            397
        ],
        "page_idx": 191
    },
    {
        "type": "text",
        "text": "You’ll even be able to “crack” the Caesar cipher encryption for messages that you don’t have the key to by sliding the slider slowly until you can read the decoded message in the bottom text area. Give it a try! Type the following message into the top text area of your app: ",
        "bbox": [
            230,
            399,
            898,
            471
        ],
        "page_idx": 191
    },
    {
        "type": "text",
        "text": "Epdetyr esp lmtwtej ez mcplv esp Nlpdlc ntaspc htes xj Dpncpe Xpddlrp laa... ",
        "bbox": [
            232,
            487,
            878,
            504
        ],
        "page_idx": 191
    },
    {
        "type": "text",
        "text": "Then, slide the slider to the far left and slowly slide it to the right until it reveals the secret message. Can you tell what secret key was used to encode the message? See Figure 7-18 for a hint. ",
        "bbox": [
            230,
            522,
            880,
            576
        ],
        "page_idx": 191
    },
    {
        "type": "image",
        "img_path": "images/8577b146c25e2651e802542f04eea028764375b68e65700976372ff9030752b2.jpg",
        "image_caption": [
            "Figure 7-18: You can use the Secret Messages app to break Caesar cipher messages by sliding the slider left and right until a plaintext message appears! "
        ],
        "image_footnote": [],
        "bbox": [
            236,
            588,
            636,
            792
        ],
        "page_idx": 191
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 191
    },
    {
        "type": "footer",
        "text": "Chapter 7 ",
        "bbox": [
            144,
            951,
            202,
            965
        ],
        "page_idx": 191
    },
    {
        "type": "text",
        "text": "Moving the slider to -11 results in a plaintext English message, so the secret key must have been 11. You may also notice that 15 will break the message (because $1 5 = 2 6 - 1 1$ ). You can always find a couple of values that work to break messages in the basic Latin alphabet. Of course, you can send messages in other languages as well, as shown in Figure 7-19. ",
        "bbox": [
            236,
            63,
            906,
            156
        ],
        "page_idx": 192
    },
    {
        "type": "image",
        "img_path": "images/268bb0b324c913d524199eb4e587c4e8ea745c4d80c6c18dadb609e8799160c9.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            97,
            163,
            498,
            370
        ],
        "page_idx": 192
    },
    {
        "type": "image",
        "img_path": "images/a7b5a0b808353331ddeafce277cbf0a0d14b482e2eea3acd7718ffa3081a9949.jpg",
        "image_caption": [
            "Figure 7-19: Any languages that use characters in the basic Latin alphabet can be used with this version of the Secret Messages app to send and receive encoded messages; Spanish (left) and French (right) are shown here. "
        ],
        "image_footnote": [],
        "bbox": [
            505,
            163,
            906,
            370
        ],
        "page_idx": 192
    },
    {
        "type": "text",
        "text": "You can copy and paste encoded messages back and forth with your friends using email, Twitter, and Facebook—you can even send encoded text messages, although that would be easier to do from your mobile device. We’ll see how to turn this Secret Messages desktop app into a mobile app in Chapter 8. ",
        "bbox": [
            236,
            447,
            902,
            537
        ],
        "page_idx": 192
    },
    {
        "type": "text",
        "text": "For now, in order to share secret messages back and forth, it would be nice to be able to share your Secret Messages app with your friends easily. We’ll learn to do that in the following section. ",
        "bbox": [
            236,
            537,
            884,
            591
        ],
        "page_idx": 192
    },
    {
        "type": "text",
        "text": "Bonus: Sharing Your App as a Runnable JAR File ",
        "text_level": 1,
        "bbox": [
            130,
            623,
            736,
            647
        ],
        "page_idx": 192
    },
    {
        "type": "text",
        "text": "For it to be really useful, you need to be able to share the Secret Messages app with your friends—possibly even with friends who don’t know how to code in Java and don’t have Eclipse installed on their computer. ",
        "bbox": [
            236,
            654,
            884,
            708
        ],
        "page_idx": 192
    },
    {
        "type": "text",
        "text": "The great news is that Eclipse and Java make it easy to export an application as a runnable file and share it with any of the millions of computers worldwide that run Java. Your friends don’t even have to download the Java JDK developer’s edition; all they need is the JRE, which comes installed on most computers. Eclipse can export an application in a runnable Java archive (JAR) file that you can share by email, USB flash drive, or some other means. All your friends have to do is double-click the JAR file, and they’ll be able to run your app! ",
        "bbox": [
            234,
            708,
            894,
            854
        ],
        "page_idx": 192
    },
    {
        "type": "footer",
        "text": "Creating Advanced GUIs and Sharing Your App ",
        "bbox": [
            593,
            951,
            853,
            966
        ],
        "page_idx": 192
    },
    {
        "type": "page_number",
        "text": "169 ",
        "bbox": [
            876,
            948,
            906,
            965
        ],
        "page_idx": 192
    },
    {
        "type": "text",
        "text": "To export a runnable JAR file from Eclipse, go to File4Export. Then expand the Java folder and click Runnable JAR file, as shown in Figure 7-20. ",
        "bbox": [
            232,
            64,
            859,
            120
        ],
        "page_idx": 193
    },
    {
        "type": "image",
        "img_path": "images/c3ae7e77e2b494a1a92c1ec1ae983cc02f2b3cf6d3d69170887b6700c531e078.jpg",
        "image_caption": [
            "Figure 7-20: Share your application with others by exporting a runnable JAR file. "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            130,
            726,
            493
        ],
        "page_idx": 193
    },
    {
        "type": "text",
        "text": "Click Next, and Eclipse will ask you for a launch configuration and an export destination. The launch configuration means which class or app you’d like to run and from which project. Under Launch configuration, click the drop-down list and choose SecretMessagesGUI – SecretMessagesGUI. This means you want to run the SecretMessagesGUI.class file in the SecretMessagesGUI project. ",
        "bbox": [
            230,
            555,
            898,
            665
        ],
        "page_idx": 193
    },
    {
        "type": "text",
        "text": "N O TE ",
        "text_level": 1,
        "bbox": [
            148,
            684,
            204,
            698
        ],
        "page_idx": 193
    },
    {
        "type": "text",
        "text": "You have to compile and run your application at least once to have a launch configuration for that app. ",
        "bbox": [
            232,
            681,
            888,
            720
        ],
        "page_idx": 193
    },
    {
        "type": "text",
        "text": "The export destination is just the location and filename you want to use for your executable app. Under Export destination, click Browse and then select the destination folder you’d like to save your finished app in, such as your Desktop folder, for example. Give your program file a name, like Secret Messages.jar. You can use spaces (or other special characters) to name your file exactly how you’d like people to see it when they open it. When you’ve made your selections, as shown in Figure 7-21, click Save and then Finish. ",
        "bbox": [
            230,
            735,
            898,
            879
        ],
        "page_idx": 193
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 193
    },
    {
        "type": "footer",
        "text": "Chapter 7 ",
        "bbox": [
            142,
            951,
            202,
            966
        ],
        "page_idx": 193
    },
    {
        "type": "image",
        "img_path": "images/51c043ff6b1d5d44d191738f48149f5f8af647e39a4c56e9f88213a69c0f0633.jpg",
        "image_caption": [
            "Figure 7-21: Choose a location and name for your runnable JAR file. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            64,
            726,
            409
        ],
        "page_idx": 194
    },
    {
        "type": "text",
        "text": "You may see a warning after clicking Finish, but you can ignore it and click OK. Go to wherever you saved your JAR file, and you should see a Java icon with your filename, as shown in Figure 7-22. Now you should be able to run the program and send and receive coded messages. ",
        "bbox": [
            236,
            454,
            904,
            525
        ],
        "page_idx": 194
    },
    {
        "type": "image",
        "img_path": "images/0fea5d1a86fb7b65ea8646655bf45ce00e683ef8397ebcaa06f646035dcade75.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            240,
            537,
            343,
            627
        ],
        "page_idx": 194
    },
    {
        "type": "image",
        "img_path": "images/5f6de9068847dee7231cb88fd273cea6981d941e5e6e474666f4a71f9b6fca87.jpg",
        "image_caption": [
            "Figure 7-22: The desktop icon for the executable JAR file, on Windows (left) and on macOS (right) "
        ],
        "image_footnote": [],
        "bbox": [
            452,
            537,
            547,
            627
        ],
        "page_idx": 194
    },
    {
        "type": "text",
        "text": "No t e ",
        "text_level": 1,
        "bbox": [
            152,
            690,
            214,
            707
        ],
        "page_idx": 194
    },
    {
        "type": "text",
        "text": "On newer versions of macOS, you’ll need to hold down control when you click the app the first time, then select Open, and finally click Open on the dialog that pops up to allow the app to run. ",
        "bbox": [
            238,
            690,
            906,
            744
        ],
        "page_idx": 194
    },
    {
        "type": "text",
        "text": "Some email programs may block files ending in .jar as a safety precaution, but you can upload the file to your favorite file-sharing program (Dropbox, Google Drive, or SkyDrive, for example) and share the file from there. Once your friend has the file, all they have to do is run it, and you can share scrambled messages with each other. ",
        "bbox": [
            236,
            759,
            896,
            849
        ],
        "page_idx": 194
    },
    {
        "type": "text",
        "text": "N O TE ",
        "text_level": 1,
        "bbox": [
            154,
            869,
            212,
            882
        ],
        "page_idx": 194
    },
    {
        "type": "text",
        "text": "You can also export a runnable JAR file for the GUI guessing game app from Chapter 3. Just follow these same steps for the GuessingGame.java file in the GuessingGame project. ",
        "bbox": [
            236,
            867,
            845,
            923
        ],
        "page_idx": 194
    },
    {
        "type": "footer",
        "text": "Creating Advanced GUIs and Sharing Your App ",
        "bbox": [
            593,
            951,
            853,
            966
        ],
        "page_idx": 194
    },
    {
        "type": "page_number",
        "text": "171 ",
        "bbox": [
            876,
            948,
            904,
            963
        ],
        "page_idx": 194
    },
    {
        "type": "text",
        "text": "What You Learned ",
        "text_level": 1,
        "bbox": [
            125,
            63,
            363,
            84
        ],
        "page_idx": 195
    },
    {
        "type": "text",
        "text": "You reused code from the text-based Secret Messages app in this app, and you substantially expanded your understanding of GUI interface design and programming. Here are some of the skills covered in this chapter: ",
        "bbox": [
            228,
            94,
            894,
            150
        ],
        "page_idx": 195
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Naming GUI components and variables consistently for code readability and reusability ",
            "Reusing algorithms, such as the encode() method that we copied from the text-based version of this app ",
            "•\t Declaring methods that accept parameters and return information ",
            "Writing more advanced event handlers for a wider variety of GUI components, including buttons, sliders, and text fields ",
            "Working with properties of GUI components in design view to customize the UI further ",
            "Setting line wrap and word wrap for JTextArea objects ",
            "•\t Popping up javax.swing.JOptionPane dialogs, including message dialogs ",
            "•\t Adding and working with a JSlider GUI slider ",
            "Changing a text field’s text using a stateChanged() event handler on a slider ",
            "Exporting a runnable JAR file to share your app with friends "
        ],
        "bbox": [
            232,
            162,
            892,
            472
        ],
        "page_idx": 195
    },
    {
        "type": "text",
        "text": "Programming Challenges ",
        "text_level": 1,
        "bbox": [
            125,
            518,
            444,
            542
        ],
        "page_idx": 195
    },
    {
        "type": "text",
        "text": "Try these programming challenges to review and practice what you’ve learned and to expand your programming skills by trying something new. Visit the book’s website at https://www.nostarch.com/learnjava/ to download sample solutions. ",
        "bbox": [
            230,
            549,
            867,
            621
        ],
        "page_idx": 195
    },
    {
        "type": "text",
        "text": "#1: Movin’ On Up! ",
        "text_level": 1,
        "bbox": [
            232,
            639,
            400,
            663
        ],
        "page_idx": 195
    },
    {
        "type": "text",
        "text": "The Secret Messages app is great for sending simple, encoded messages to your friends, but it’s also fun to use all by yourself. One task that gets repetitive from time to time is copying encoded messages from the output text area and pasting them into the input text area. Your first programming challenge is to create a Move Up ^ button, which moves the encoded message up and automatically decodes it! ",
        "bbox": [
            230,
            668,
            898,
            776
        ],
        "page_idx": 195
    },
    {
        "type": "text",
        "text": "Place the Move Up ^ button next to the Encode/Decode button. Then, add an event handler that will get the text from the txtOut text area and set it as the text of the txtIn text area. As a bonus, have the event handler for the Move Up ^ button change the slider to the opposite of its value. You can also change the background of the button to match the rest of your app. A sample solution to this challenge is shown in Figure 7-23. ",
        "bbox": [
            230,
            777,
            890,
            885
        ],
        "page_idx": 195
    },
    {
        "type": "aside_text",
        "text": "PROGRAMMING CHALLENGES ",
        "bbox": [
            35,
            64,
            57,
            259
        ],
        "page_idx": 195
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 195
    },
    {
        "type": "footer",
        "text": "Chapter 7 ",
        "bbox": [
            142,
            951,
            202,
            965
        ],
        "page_idx": 195
    },
    {
        "type": "image",
        "img_path": "images/3eefbdb40d87e4e512f5d2ac999b37a3c840206c58038a6515bbdb071cc9583f.jpg",
        "image_caption": [
            "Figure 7-23: Adding a Move Up ^ button to swap the message and slider value to automatically decode your message "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            64,
            664,
            280
        ],
        "page_idx": 196
    },
    {
        "type": "text",
        "text": "#2: Scrolling Away! ",
        "text_level": 1,
        "bbox": [
            240,
            376,
            412,
            400
        ],
        "page_idx": 196
    },
    {
        "type": "text",
        "text": "Another improvement we could make to the app would be to handle even longer messages. In this case, we should add a scroll bar along the side and scroll down automatically whenever the user enters a message too long for the input text area. The JTextArea won’t add a scroll bar by itself, but Eclipse makes adding a scroll bar to any text area quick and easy! ",
        "bbox": [
            240,
            405,
            900,
            495
        ],
        "page_idx": 196
    },
    {
        "type": "text",
        "text": "In the design view, right-click either of the JTextArea boxes and select Surround with4javax.swing.JScrollPane, as shown in Figure 7-24. ",
        "bbox": [
            240,
            496,
            876,
            533
        ],
        "page_idx": 196
    },
    {
        "type": "image",
        "img_path": "images/578330d5da652a0a0ed5f6666269148ac9e8a9e49a79e0cac008886ffb4eb548.jpg",
        "image_caption": [
            "Figure 7-24: Adding an automatic scroll bar to a JTextArea "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            543,
            674,
            771
        ],
        "page_idx": 196
    },
    {
        "type": "text",
        "text": "You’ll need to do this for the other JTextArea as well. Run the app when you’re finished, typing a long selection of text into the input text box to see the scroll bar appear automatically. In Figure 7-25, I’ve pasted the entire US Constitution into the input text area and encoded it. ",
        "bbox": [
            240,
            819,
            906,
            894
        ],
        "page_idx": 196
    },
    {
        "type": "aside_text",
        "text": "PROGRAMMING CHALLENGES ",
        "bbox": [
            940,
            64,
            958,
            256
        ],
        "page_idx": 196
    },
    {
        "type": "footer",
        "text": "Creating Advanced GUIs and Sharing Your App ",
        "bbox": [
            593,
            953,
            853,
            966
        ],
        "page_idx": 196
    },
    {
        "type": "page_number",
        "text": "173 ",
        "bbox": [
            876,
            950,
            904,
            963
        ],
        "page_idx": 196
    },
    {
        "type": "image",
        "img_path": "images/a90e04366414256f507da91681adafb1b4bcb3519ce246de33a6539ab5c3db15.jpg",
        "image_caption": [
            "Figure 7-25: By adding a JScrollPane around each JTextArea, you can encode text as long as the US Constitution or even longer! "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            64,
            660,
            280
        ],
        "page_idx": 197
    },
    {
        "type": "text",
        "text": "Only part of the text is visible in Figure 7-25, but now there is a scroll bar along the right side of both text areas. The scroll bar lets us know that there’s more text than will fit into the text area, and all we have to do is scroll down to see it. ",
        "bbox": [
            230,
            358,
            884,
            429
        ],
        "page_idx": 197
    },
    {
        "type": "text",
        "text": "To customize the app even more, explore the Properties pane for each of the GUI components we’ve added and change various property values such as background colors, fonts, and so on. Make the app your own and share it with friends to show off what you’ve created! ",
        "bbox": [
            230,
            430,
            886,
            503
        ],
        "page_idx": 197
    },
    {
        "type": "text",
        "text": "#3: Changing the Text to Change the Slider ",
        "text_level": 1,
        "bbox": [
            232,
            521,
            609,
            545
        ],
        "page_idx": 197
    },
    {
        "type": "text",
        "text": "For this challenge, let’s make one last tweak to the user interface. When the user slides the slider, the key value shown in the text field changes. But what if we want the slider to move whenever the value in the text field changes? ",
        "bbox": [
            230,
            549,
            898,
            603
        ],
        "page_idx": 197
    },
    {
        "type": "text",
        "text": "Hi n t ",
        "text_level": 1,
        "bbox": [
            146,
            621,
            206,
            639
        ],
        "page_idx": 197
    },
    {
        "type": "text",
        "text": "You’ll want to add an event handler to the txtKey text field. Right-click the txtKey JTextField and then go to Add event handler4key4keyReleased. This will create an event handler that listens for keystrokes in the txtKey text field. ",
        "bbox": [
            232,
            621,
            890,
            675
        ],
        "page_idx": 197
    },
    {
        "type": "text",
        "text": "To accomplish this, you’ll need to write code for the event handler that will get the integer value from the text field and set the slider to that value. Remember to use a try-catch block when dealing with user-supplied text. Good luck! ",
        "bbox": [
            230,
            693,
            890,
            764
        ],
        "page_idx": 197
    },
    {
        "type": "aside_text",
        "text": "PROGRAMMING CHALLENGES ",
        "bbox": [
            37,
            64,
            57,
            259
        ],
        "page_idx": 197
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            119,
            963
        ],
        "page_idx": 197
    },
    {
        "type": "footer",
        "text": "Chapter 7 ",
        "bbox": [
            142,
            953,
            200,
            965
        ],
        "page_idx": 197
    },
    {
        "type": "text",
        "text": "8 ",
        "text_level": 1,
        "bbox": [
            517,
            187,
            630,
            331
        ],
        "page_idx": 198
    },
    {
        "type": "text",
        "text": "M a k e Sec r e t Me s s ag e s a Ph o ne App t o Sh a r e wi t h F r i e n d s ! ",
        "text_level": 1,
        "bbox": [
            329,
            370,
            815,
            448
        ],
        "page_idx": 198
    },
    {
        "type": "image",
        "img_path": "images/9453ac3a98bd83861bd1b5c8d104d30b540edd0c021b7e5e4bb7125586bb7fce.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            164,
            475,
            359,
            626
        ],
        "page_idx": 198
    },
    {
        "type": "text",
        "text": "In this chapter, we’ll complete our Secret Messages app experience by building a mobile app version that can send secret ",
        "bbox": [
            351,
            563,
            888,
            641
        ],
        "page_idx": 198
    },
    {
        "type": "text",
        "text": "messages by text or email and can even post to social media. ",
        "bbox": [
            240,
            645,
            853,
            690
        ],
        "page_idx": 198
    },
    {
        "type": "text",
        "text": "The app will look similar to the GUI version in Chapter 7, with labels, text fields, and the ability to slide through different key values to quickly encode and decode messages. You’ll also be able to copy and paste messages from the app into emails and text messages, but by the end of the chapter, you’ll be able to send an email or text directly from the Secret Messages app itself! Figure 8-1 shows the app in action on a real Android device. ",
        "bbox": [
            240,
            698,
            896,
            822
        ],
        "page_idx": 198
    },
    {
        "type": "image",
        "img_path": "images/586c59746402f4f75093ed045960128d446b24cfdcae987bf2c231fa1c2254ea.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            232,
            64,
            559,
            457
        ],
        "page_idx": 199
    },
    {
        "type": "image",
        "img_path": "images/be78f1247a4e9c91364e9e73a9e12ce15637962fce7711073069cec3a0aa106f.jpg",
        "image_caption": [
            "Figure 8-1: The Secret Messages encoder/decoder app (left) can send secret text and email messages directly from inside the app, at just the touch of a button (right). "
        ],
        "image_footnote": [],
        "bbox": [
            573,
            63,
            900,
            459
        ],
        "page_idx": 199
    },
    {
        "type": "text",
        "text": "We’ll reuse the working code from the desktop app by keeping the names of the GUI components in the Android version and by taking advantage of Java’s consistent language and structure across multiple platforms. ",
        "bbox": [
            230,
            519,
            894,
            576
        ],
        "page_idx": 199
    },
    {
        "type": "text",
        "text": "Setting Up the Mobile GU I ",
        "text_level": 1,
        "bbox": [
            125,
            605,
            452,
            627
        ],
        "page_idx": 199
    },
    {
        "type": "text",
        "text": "Let’s begin building the Secret Messages app with Android Studio. Android Studio may ask you to perform updates as you open the program, which is usually a good idea. Updating carries a bit of risk, as it can change the look and feel of the program by moving icons or menu items, but the updates also include important new security fixes and the latest Android features. ",
        "bbox": [
            230,
            636,
            896,
            726
        ],
        "page_idx": 199
    },
    {
        "type": "text",
        "text": "When you first open Android Studio, you may see the most recent project you were working on—in our case, the Hi-Lo guessing game app. You can close it by selecting File4 Close Project. ",
        "bbox": [
            230,
            726,
            884,
            780
        ],
        "page_idx": 199
    },
    {
        "type": "text",
        "text": "To begin building the new Secret Messages app, either select File4New Project from inside Android Studio or choose Start a new Android Studio project from the Welcome screen. ",
        "bbox": [
            230,
            780,
            898,
            834
        ],
        "page_idx": 199
    },
    {
        "type": "text",
        "text": "Name the new project SecretMessages, save it in your preferred location, and click Next. ",
        "bbox": [
            230,
            834,
            886,
            869
        ],
        "page_idx": 199
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            119,
            963
        ],
        "page_idx": 199
    },
    {
        "type": "footer",
        "text": "Chapter 8 ",
        "bbox": [
            142,
            953,
            198,
            965
        ],
        "page_idx": 199
    },
    {
        "type": "text",
        "text": "On the Target Android Devices screen, choose API 16: Android 4.1 (Jelly Bean) for the Phone and Tablet Minimum SDK, as we did for the Hi-Lo guessing game app, and then click Next. Choose Basic Activity on the Add an Activity screen and click Next. On the Customize the Activity screen, keep all the default names and click Finish. ",
        "bbox": [
            236,
            63,
            890,
            151
        ],
        "page_idx": 200
    },
    {
        "type": "text",
        "text": "It may take a moment for the new project to configure and open. When the new project opens, double-click the content_main.xml file under app4res4layout in the Project Explorer on the left. You may need to close a pop-up message about the floating action button (we’ll use that later). ",
        "bbox": [
            236,
            154,
            900,
            225
        ],
        "page_idx": 200
    },
    {
        "type": "text",
        "text": "Your screen should look similar to Figure 8-2. (You may have to click the Design tab to see the GUI preview.) ",
        "bbox": [
            236,
            226,
            876,
            262
        ],
        "page_idx": 200
    },
    {
        "type": "image",
        "img_path": "images/02eb1c16cf7480cff31c212b7ad970b5d7a586cf55db4c7daaecee5c7e36df92.jpg",
        "image_caption": [
            "Figure 8-2: The starting view of the app in Android Studio "
        ],
        "image_footnote": [],
        "bbox": [
            97,
            273,
            906,
            606
        ],
        "page_idx": 200
    },
    {
        "type": "text",
        "text": "Designing the Mobile GU I ",
        "text_level": 1,
        "bbox": [
            130,
            666,
            454,
            690
        ],
        "page_idx": 200
    },
    {
        "type": "text",
        "text": "Now that we have a new project set up, let’s start designing the layout of our app. First, delete the “Hello World!” text shown in the design preview by clicking to select it and then pressing the delete key. Then, as we did in the previous app, let’s add a RelativeLayout to hold our GUI elements: in the Palette pane, under Layouts, select RelativeLayout and drag it onto the Preview pane or onto the ConstraintLayout under the Component Tree. ",
        "bbox": [
            236,
            698,
            884,
            804
        ],
        "page_idx": 200
    },
    {
        "type": "text",
        "text": "Next, let’s add a title to the top of the app by selecting the TextView widget under Widgets in the Palette. Place the TextView widget at the top center of the screen, change the text to Your Name's Secret Messages App, and then change the textAppearance property in the Properties pane to Material.Large, as I’ve done in Figure 8-3. ",
        "bbox": [
            236,
            806,
            871,
            896
        ],
        "page_idx": 200
    },
    {
        "type": "footer",
        "text": "Make Secret Messages a Phone App to Share with Friends! ",
        "bbox": [
            523,
            951,
            847,
            966
        ],
        "page_idx": 200
    },
    {
        "type": "page_number",
        "text": "177 ",
        "bbox": [
            876,
            948,
            906,
            963
        ],
        "page_idx": 200
    },
    {
        "type": "image",
        "img_path": "images/f43d8b03b3372e003632b18dd4ed3ec8ef9b03aaaff077b33a16d40374d239ff.jpg",
        "image_caption": [
            "Figure 8-3: Add a Large text title to the top center of your app, customizing it with your name. "
        ],
        "image_footnote": [],
        "bbox": [
            91,
            64,
            902,
            271
        ],
        "page_idx": 201
    },
    {
        "type": "text",
        "text": "In the Properties pane, expand textAppearance to find textStyle and click the bold checkbox to make the title text stand out more. ",
        "bbox": [
            230,
            318,
            878,
            352
        ],
        "page_idx": 201
    },
    {
        "type": "text",
        "text": "Now, let’s place the EditText text fields for the user’s input message. In the Palette, under Text, select Multiline Text. Zoom in on the design preview and place the text field about 30 dp below the title. Change the text to Secret messages \\n are so cool, \\n aren't they? as shown in Figure 8-4. The \\n escape sequence will add newline characters; these characters don’t show up onscreen, but they represent the new line you get by pressing enter on the keyboard. Putting the text across multiple lines shows the user they can enter a multiline message as well. ",
        "bbox": [
            230,
            354,
            890,
            498
        ],
        "page_idx": 201
    },
    {
        "type": "image",
        "img_path": "images/22f1fd4856094730cbef072db888a8c73898c3e7b3e3633826bcb87a6d3468a4.jpg",
        "image_caption": [
            "Figure 8-4: Add a Multiline Text field for the user’s input message, using the \\n escape sequence to span multiple lines of text. "
        ],
        "image_footnote": [],
        "bbox": [
            89,
            510,
            902,
            857
        ],
        "page_idx": 201
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            119,
            963
        ],
        "page_idx": 201
    },
    {
        "type": "footer",
        "text": "Chapter 8 ",
        "bbox": [
            142,
            951,
            200,
            965
        ],
        "page_idx": 201
    },
    {
        "type": "text",
        "text": "You can also change the number of lines of text that a user can see at any one time. Under the expanded Properties pane for the Multiline Text, you can change the lines property to 4, for example. To be able to see the multiline message across all devices, select the textMultiLine checkbox in the inputType property’s drop-down list. ",
        "bbox": [
            242,
            60,
            892,
            148
        ],
        "page_idx": 202
    },
    {
        "type": "text",
        "text": "Finally, let’s change the input text field’s id property to txtIn, both to help us use it in the code later and to maintain naming consistency with the GUI desktop version of the app. Now drag the left and right borders of the text field to stretch it to the full width of the app, as shown in Figure 8-5. ",
        "bbox": [
            236,
            153,
            902,
            226
        ],
        "page_idx": 202
    },
    {
        "type": "image",
        "img_path": "images/ecda8cb47177442b8dfd8d33235820c8b1511940111bb62d572ab7312f2c79a0.jpg",
        "image_caption": [
            "Figure 8-5: Change the id of the input text field to txtIn so that we can code with it later. "
        ],
        "image_footnote": [],
        "bbox": [
            91,
            232,
            900,
            641
        ],
        "page_idx": 202
    },
    {
        "type": "text",
        "text": "We’re going to add four components to the middle of the Secret Messages app: a SeekBar for the user to swipe a bar to find a key, a label, a text field to display the secret key, and an Encode/Decode button. The SeekBar will function similarly to the JSlider in the desktop version of the app. Don’t worry if all your components don’t line up perfectly when you first place them—we’ll be able to fix that later. ",
        "bbox": [
            242,
            690,
            875,
            798
        ],
        "page_idx": 202
    },
    {
        "type": "text",
        "text": "First, find the SeekBar in the Widgets section of the Palette pane. Place it a comfortable margin, $3 0 \\mathrm { d p }$ or so, below the input text field along the left margin, as shown in Figure 8-6. You can set the top margin manually in the Properties pane by going to View all properties (the left and right doublearrows at the top of the Properties pane). Under Layout_Margin, enter 30dp for the layout_marginTop. ",
        "bbox": [
            242,
            800,
            902,
            908
        ],
        "page_idx": 202
    },
    {
        "type": "footer",
        "text": "Make Secret Messages a Phone App to Share with Friends! ",
        "bbox": [
            523,
            951,
            845,
            965
        ],
        "page_idx": 202
    },
    {
        "type": "page_number",
        "text": "179 ",
        "bbox": [
            876,
            948,
            904,
            963
        ],
        "page_idx": 202
    },
    {
        "type": "image",
        "img_path": "images/d0de349efef6ab4df49d61ddf1b89a2d82f9b5762d8a6e8792330fa000befec0.jpg",
        "image_caption": [
            "Figure 8-6: The SeekBar will function like the slider in the GUI desktop version of the app, allowing the user to slide among different key values. "
        ],
        "image_footnote": [],
        "bbox": [
            89,
            64,
            900,
            421
        ],
        "page_idx": 203
    },
    {
        "type": "text",
        "text": "Next, add a TextView widget beside the SeekBar to serve as a label for the text field of the user’s secret key value. Change the textAppearance property to Material.Medium and the text property to Key: in the Properties pane. ",
        "bbox": [
            232,
            481,
            888,
            537
        ],
        "page_idx": 203
    },
    {
        "type": "text",
        "text": "Then, select a Number text field for the user’s secret key value and center it horizontally, with a text property of 13 or another default key value of your choice. Modify the width of the text field to fit the number comfortably by changing its width property (under View all properties) to approximately 40dp, and then change the id property to txtKey. ",
        "bbox": [
            232,
            537,
            894,
            626
        ],
        "page_idx": 203
    },
    {
        "type": "text",
        "text": "With the txtKey text field in place, you should be able to drag the Key: label over to be directly beside it. You should also be able to stretch the SeekBar to fill the gap, as shown in Figure 8-7. ",
        "bbox": [
            232,
            627,
            876,
            680
        ],
        "page_idx": 203
    },
    {
        "type": "text",
        "text": "Complete the middle row of the layout by adding the Encode/Decode button. Choose Button under Widgets in the Palette and insert the button along the right margin beside the text field. Change the text property to Encode/Decode. ",
        "bbox": [
            232,
            681,
            884,
            750
        ],
        "page_idx": 203
    },
    {
        "type": "text",
        "text": "Finally, create a text field for the output message by copying the txtIn text field and pasting it below the middle row of widgets. Delete the text in the text field, stretch it to the width of the app window, and rename the id property to txtOut. ",
        "bbox": [
            232,
            753,
            884,
            825
        ],
        "page_idx": 203
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 203
    },
    {
        "type": "footer",
        "text": "Chapter 8 ",
        "bbox": [
            144,
            953,
            200,
            965
        ],
        "page_idx": 203
    },
    {
        "type": "image",
        "img_path": "images/74ba391829461b4de139c73c14b6086b4eb5d963038197edf279e81eaf5bc747.jpg",
        "image_caption": [
            "Figure 8-7: After placing the txtKey text field, adjust the placement of the Key: label and stretch the SeekBar. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            64,
            736,
            370
        ],
        "page_idx": 204
    },
    {
        "type": "text",
        "text": "That’s it—the finished GUI layout is shown in Figure 8-8. ",
        "bbox": [
            273,
            432,
            775,
            451
        ],
        "page_idx": 204
    },
    {
        "type": "image",
        "img_path": "images/85c8bd078a2459acf3065644d0bed9fadd0d200e69e1e817238026b3a6cfbc06.jpg",
        "image_caption": [
            "Figure 8-8: The finished layout for the Secret Messages mobile app "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            462,
            736,
            768
        ],
        "page_idx": 204
    },
    {
        "type": "text",
        "text": "Before moving on, make sure your input text field has an id of txtIn, the output text is txtOut, and the middle text field for the key is txtKey. We’ll need all of these elements to be correctly named in order for the code to work in the next section. ",
        "bbox": [
            236,
            815,
            900,
            885
        ],
        "page_idx": 204
    },
    {
        "type": "footer",
        "text": "Make Secret Messages a Phone App to Share with Friends! ",
        "bbox": [
            525,
            953,
            847,
            966
        ],
        "page_idx": 204
    },
    {
        "type": "page_number",
        "text": "181 ",
        "bbox": [
            876,
            950,
            904,
            963
        ],
        "page_idx": 204
    },
    {
        "type": "text",
        "text": "Wiring the GU I to the Java Code ",
        "text_level": 1,
        "bbox": [
            125,
            63,
            531,
            85
        ],
        "page_idx": 205
    },
    {
        "type": "text",
        "text": "It’s time to connect the GUI layout to the Java source code to begin programming the behavior of the Secret Messages mobile app. Switch to the MainActivity.java file by clicking the tab at the upper left of the main content window. ",
        "bbox": [
            230,
            94,
            873,
            165
        ],
        "page_idx": 205
    },
    {
        "type": "text",
        "text": "Add the following five lines directly to the public class MainActivity declaration: ",
        "bbox": [
            230,
            166,
            851,
            201
        ],
        "page_idx": 205
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public classMainActivity extends AppCompatActivity {  \n    EditText txtIn;  \n    EditText txtKey;  \n    EditText txtOut;  \n    SeekBar sb;  \n    Button btn; ",
        "guess_lang": "txt",
        "bbox": [
            234,
            217,
            686,
            316
        ],
        "page_idx": 205
    },
    {
        "type": "text",
        "text": "You may need to press alt-enter or option-enter after each line to import the widgets into the Java code. ",
        "bbox": [
            230,
            333,
            855,
            369
        ],
        "page_idx": 205
    },
    {
        "type": "text",
        "text": "These five variables point to the GUI components in the visual layout for the app. We can connect these variable names to the actual widgets by adding five lines of code to the onCreate() method, right below the setSupportActionBar(toolbar); statement: ",
        "bbox": [
            230,
            370,
            875,
            441
        ],
        "page_idx": 205
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); Toolbar toolbar = ( Toolbar ) findViewByrD(R.idtoolbar); setSupportActionBar toolbar); txtIn $=$ (EditText)findViewById(R.id.txtIn); txtKey $=$ (EditText)findViewById(R.id.txtKey); txtOut $=$ (EditText)findViewById(R.id.txtOut); sb $=$ (SeekBar)findViewById(R.id.seekBar); btn $=$ (Button)findViewById(R.id.button); ",
        "bbox": [
            234,
            457,
            734,
            618
        ],
        "page_idx": 205
    },
    {
        "type": "text",
        "text": "You can rely on Android Studio’s code assist to autocomplete most of these entries—all you have to do is type the first few characters, then click the entry from the list or press enter to accept the code recommendation. It’s faster and will help you avoid common typing errors. ",
        "bbox": [
            230,
            635,
            884,
            708
        ],
        "page_idx": 205
    },
    {
        "type": "text",
        "text": "Connecting the Encode Button to the encode() Method ",
        "text_level": 1,
        "bbox": [
            232,
            726,
            696,
            747
        ],
        "page_idx": 205
    },
    {
        "type": "text",
        "text": "Now that we have the code connected to the components in the GUI layout, we can copy the encode() method from the desktop version of the app from Chapter 7. We’ll paste the method into the public class MainActivity declaration, right below the five lines you added declaring the variables that point to the GUI components in the layout. ",
        "bbox": [
            230,
            753,
            892,
            843
        ],
        "page_idx": 205
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 205
    },
    {
        "type": "footer",
        "text": "Chapter 8 ",
        "bbox": [
            144,
            951,
            200,
            965
        ],
        "page_idx": 205
    },
    {
        "type": "text",
        "text": "Open your SecretMessagesGUI desktop project in Eclipse and highlight the entire encode() method. Copy this code and paste it into the public class MainActivity declaration in Android Studio: ",
        "bbox": [
            240,
            63,
            884,
            118
        ],
        "page_idx": 206
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public classMainActivity extends AppCompatActivity { EditText txtIn; EditText txtKey; EditText txtOut; SeekBar sb; Button btn; public String encode(String message, int keyVal) { String output = \"\"; char key = (char) keyVal; for (int x = 0; x < message.length(); x++) { char input = message.charAt(x); if (input >= 'A' && input <= 'Z') { input += key; if (input > 'Z') input -= 26; if (input < 'A') input += 26; } else if (input >= 'a' && input <= 'z') { input += key; if (input > 'z') input -= 26; if (input < 'a') input += 26; } else if (input >= '0' && input <= '9') { input += (keyVal % 10); if (input > '9') input -= 10; if (input < '0') input += 10; } output += input; } return output; } ",
        "guess_lang": "java",
        "bbox": [
            240,
            132,
            718,
            750
        ],
        "page_idx": 206
    },
    {
        "type": "text",
        "text": "Now that we have the encode() method in place, we just need to call that method whenever the Encode/Decode button is clicked. We’ll create an OnClickListener for the Encode/Decode button and call the encode() method from there. ",
        "bbox": [
            236,
            768,
            902,
            837
        ],
        "page_idx": 206
    },
    {
        "type": "text",
        "text": "Inside the onCreate() method in MainActivity.java, start typing the code btn.setOnCl until a code recommendation list pops up, as shown in Figure 8-9. On the list, choose setOnClickListener(). ",
        "bbox": [
            236,
            840,
            902,
            894
        ],
        "page_idx": 206
    },
    {
        "type": "footer",
        "text": "Make Secret Messages a Phone App to Share with Friends! ",
        "bbox": [
            523,
            951,
            845,
            966
        ],
        "page_idx": 206
    },
    {
        "type": "page_number",
        "text": "183 ",
        "bbox": [
            876,
            950,
            906,
            965
        ],
        "page_idx": 206
    },
    {
        "type": "image",
        "img_path": "images/c00f23dfbff9a8c80e21de50d078d56f6058aa75bf1f3fd2aa9a16647be4103d.jpg",
        "image_caption": [
            "Figure 8-10: Use the code assist once more to fill in the OnClickListener. This time, Android Studio provides several lines of code. "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            66,
            767,
            307
        ],
        "page_idx": 207
    },
    {
        "type": "text",
        "text": "Figure 8-9: You can rely on code recommendations from Android Studio to autofill code for you, as shown here with the setOnClickListener() for the Encode/Decode button. ",
        "bbox": [
            232,
            318,
            775,
            367
        ],
        "page_idx": 207
    },
    {
        "type": "text",
        "text": "After clicking the setOnClickListener() code recommendation, click inside the parentheses of that method and begin typing new OnClickListener, as shown in Figure 8-10, double-clicking the first code recommendation that pops up: ",
        "bbox": [
            230,
            385,
            894,
            457
        ],
        "page_idx": 207
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "btn.set OnClickListener(new Onc); OnClickListener {...} (android.view.View) Press Ctrl+Shift+Space to show only variants that are suitable by type ",
        "guess_lang": "txt",
        "bbox": [
            246,
            475,
            817,
            519
        ],
        "page_idx": 207
    },
    {
        "type": "text",
        "text": "You’ll notice that Android Studio fills in several lines of code for you for the OnClickListener() event handler: ",
        "bbox": [
            232,
            597,
            898,
            635
        ],
        "page_idx": 207
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "btn.set OnClickListener(new View.OnClickListener() { @Override public void onClick(View v) { } }); ",
        "guess_lang": "javascript",
        "bbox": [
            265,
            650,
            702,
            731
        ],
        "page_idx": 207
    },
    {
        "type": "text",
        "text": "These few lines create an event listener using an anonymous inner class of type View.OnClickListener(), with an onClick() event handler to respond when the user clicks the button. ",
        "bbox": [
            230,
            749,
            880,
            801
        ],
        "page_idx": 207
    },
    {
        "type": "text",
        "text": "Next we’ll set up the encode() method. encode() doesn’t care what’s happening in the rest of our code as long as we give it two arguments that are the right data types. This means we don’t have to change encode() to fit our new app, but we do need to set up new values to give it as arguments. ",
        "bbox": [
            230,
            803,
            886,
            876
        ],
        "page_idx": 207
    },
    {
        "type": "text",
        "text": "To encode the message the user typed into txtIn, we’ll first need to retrieve the key value they entered into txtKey. Then, we’ll get the string of text the user entered into txtIn. We’ll pass both of those values to the ",
        "bbox": [
            230,
            876,
            878,
            929
        ],
        "page_idx": 207
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 207
    },
    {
        "type": "footer",
        "text": "Chapter 8 ",
        "bbox": [
            144,
            951,
            202,
            965
        ],
        "page_idx": 207
    },
    {
        "type": "text",
        "text": "encode() method as arguments and store the encoded result in a variable called output. Finally, we’ll set the text of the txtOut field to the encoded output string output. ",
        "bbox": [
            236,
            63,
            884,
            115
        ],
        "page_idx": 208
    },
    {
        "type": "text",
        "text": "Add the following four lines within the braces of the onClick() method: ",
        "bbox": [
            271,
            117,
            894,
            135
        ],
        "page_idx": 208
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "btn.set OnClickListener(new View.OnClickListener() { public void onClick(View v) {  int key = Integer.parseInt(txtKey.getText().toString());  String message = txtIn.getText().toString();  String output = encode(message, key);  txtOut.setText(output); } }; ",
        "guess_lang": "java",
        "bbox": [
            238,
            150,
            781,
            280
        ],
        "page_idx": 208
    },
    {
        "type": "text",
        "text": "At $\\bullet$ , we’ve used the Integer.parseInt() method to convert text from the user into an integer value key. The only difference between this parseInt() and others we’ve used before is that txtKey is followed by two methods: getText() and toString(). In Android, the getText() method on an EditText (that is, a text field) doesn’t return a string directly—it returns a flexible type called Editable. All of the EditText types, from Plain to Password to Number, return an Editable object, because the text inside an EditText is meant to change and be editable by the user. We use the toString() method to turn the text from the EditText into a string that we can parse, to find the number the user entered. ",
        "bbox": [
            236,
            297,
            900,
            475
        ],
        "page_idx": 208
    },
    {
        "type": "text",
        "text": "The same is true at v: we need both methods, getText() and toString(), to get the input message from txtIn and turn it into a string that we can encode. At $\\pmb { \\Theta }$ , we use the encode() method on the message and key value the user provided to encode the message, then store the result in output. Finally, at $\\bullet$ , we set the text of the txtOut text field to display the encoded output message. ",
        "bbox": [
            236,
            478,
            904,
            567
        ],
        "page_idx": 208
    },
    {
        "type": "text",
        "text": "Now, our app is functional enough for a first test. Let’s run the app in the Android Emulator to see the Encode/Decode button at work. ",
        "bbox": [
            236,
            567,
            884,
            603
        ],
        "page_idx": 208
    },
    {
        "type": "text",
        "text": "Testing the App ",
        "text_level": 1,
        "bbox": [
            240,
            623,
            378,
            645
        ],
        "page_idx": 208
    },
    {
        "type": "text",
        "text": "Save your progress so far. Then, go to Run4Run ‘app’. Select an emulator you set up back in Chapter 4, such as My Nexus 6P, as shown in Figure 8-11. ",
        "bbox": [
            236,
            650,
            898,
            686
        ],
        "page_idx": 208
    },
    {
        "type": "image",
        "img_path": "images/c6c910a2126850be85e86b851f18e76e43565ccd6474189f7d8eb9c2c54fffce.jpg",
        "image_caption": [
            "Figure 8-11: Choosing an emulator "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            698,
            841,
            890
        ],
        "page_idx": 208
    },
    {
        "type": "footer",
        "text": "Make Secret Messages a Phone App to Share with Friends! ",
        "bbox": [
            523,
            951,
            845,
            966
        ],
        "page_idx": 208
    },
    {
        "type": "page_number",
        "text": "185 ",
        "bbox": [
            876,
            948,
            904,
            963
        ],
        "page_idx": 208
    },
    {
        "type": "text",
        "text": "The emulator may take a few minutes to run the first time—remember, you can leave it running while working in Android Studio to avoid the long startup each time you want to run the app. You can also run the app directly on your Android device, as we did in Chapter 4, and skip the emulator if you wish. ",
        "bbox": [
            230,
            64,
            898,
            153
        ],
        "page_idx": 209
    },
    {
        "type": "text",
        "text": "When the emulator starts up and the Secret Messages app loads, you’ll see the initial layout, as shown in Figure 8-12 (left). Type in a key value, then press the Encode/Decode button, and you’ll see Android convert the message into ciphertext, as shown in Figure 8-12 (right). ",
        "bbox": [
            230,
            154,
            886,
            226
        ],
        "page_idx": 209
    },
    {
        "type": "image",
        "img_path": "images/51f75ed92b92cd256005868140061476db2b306f9d4cce14762aaa1d73c76a98.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            234,
            237,
            557,
            636
        ],
        "page_idx": 209
    },
    {
        "type": "image",
        "img_path": "images/1202d7b5d1c6e7455e86ae23566da793034db9713478daf3193dcbc7782f4bba.jpg",
        "image_caption": [
            "Figure 8-12: The Secret Messages app running on the Nexus 6P Android Emulator (left); clicking the Encode/Decode button creates the encoded text (right). "
        ],
        "image_footnote": [],
        "bbox": [
            577,
            237,
            900,
            636
        ],
        "page_idx": 209
    },
    {
        "type": "text",
        "text": "You can copy and paste between the fields, but the slider/SeekBar doesn’t work yet. The floating action button—the email envelope symbol in the lower right—also doesn’t do anything yet. Don’t worry; we’ll work on those shortly. ",
        "bbox": [
            230,
            696,
            896,
            750
        ],
        "page_idx": 209
    },
    {
        "type": "text",
        "text": "Notice there’s one other user experience issue: the encoded message (Frperg zrffntrf...) is underlined because it looks like misspelled text to the computer. To turn off spellcheck, go back to the content_main.xml layout file and select the txtOut text field. Under the Properties pane, expand inputType and select the textNoSuggestions property. You can also turn off spelling suggestions for the txtIn text field, if you’d like, either separately or by selecting both text fields while holding down shift in the layout view and then selecting the textNoSuggestions property. Now rerun the app on the emulator. No more spellcheck! ",
        "bbox": [
            230,
            752,
            884,
            914
        ],
        "page_idx": 209
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 209
    },
    {
        "type": "footer",
        "text": "Chapter 8 ",
        "bbox": [
            144,
            951,
            202,
            965
        ],
        "page_idx": 209
    },
    {
        "type": "text",
        "text": "With this small tweak, we’re ready to bring the SeekBar online so we can slide among different key values easily and quickly. ",
        "bbox": [
            242,
            64,
            894,
            99
        ],
        "page_idx": 210
    },
    {
        "type": "text",
        "text": "Working with the SeekBar ",
        "text_level": 1,
        "bbox": [
            244,
            118,
            470,
            139
        ],
        "page_idx": 210
    },
    {
        "type": "text",
        "text": "We’re going to wire the SeekBar to change the output message whenever the user slides left or right, so we need to modify a few of its properties to get it ready for use. ",
        "bbox": [
            242,
            145,
            894,
            198
        ],
        "page_idx": 210
    },
    {
        "type": "text",
        "text": "First, let’s learn a little about the SeekBar widget. You’ve probably seen a SeekBar when playing a video on your mobile device. For example, on a YouTube video the SeekBar shows where you are in a video, and it allows you to skip forward or backward—this is sometimes called seeking. ",
        "bbox": [
            242,
            199,
            878,
            271
        ],
        "page_idx": 210
    },
    {
        "type": "text",
        "text": "The SeekBar differs from a JSlider in a few ways. First, a SeekBar can have only positive values. Zero is the minimum, but we can set the maximum to any positive value, like 26. Also, a SeekBar doesn’t show increment marks or labels on the bar itself. This means that if we want to allow our users to use negative key values, we’ll have to use a bit of math to convert positive values to negative so that the user can slide the key value through the range of values from, say, -13 to $^ { + 1 3 }$ . To do this, we’ll make the SeekBar range from 0 to 26. And we’ll need to update the txtKey field to show the values changing as the user slides the SeekBar to let them know the SeekBar’s current value. Let’s begin by changing some of the properties of the SeekBar in the GUI layout. ",
        "bbox": [
            242,
            271,
            896,
            468
        ],
        "page_idx": 210
    },
    {
        "type": "text",
        "text": "Switch back to the content_main.xml layout file and select the SeekBar in the design preview. Under the Properties pane for the SeekBar, find max and progress and change both to 26. ",
        "bbox": [
            242,
            469,
            890,
            522
        ],
        "page_idx": 210
    },
    {
        "type": "text",
        "text": "The max property is the maximum value the SeekBar will display. For the Secret Messages app, we need at least 26 values to cover the whole alphabet. We want the range to be -13 to $^ { + 1 3 }$ so that encoding and decoding is easy for the user. That would be 27 values total, so we’ll choose 26 as the max (since that makes for 27 values when 0 is included). The progress property is the current value of the SeekBar, similar to the value property of a JSlider. We’ll use the getProgress() method on the SeekBar to get the value the SeekBar is currently pointing to. ",
        "bbox": [
            242,
            524,
            902,
            668
        ],
        "page_idx": 210
    },
    {
        "type": "text",
        "text": "Save your changes and then switch back to the MainActivity.java source code file. Inside the onCreate() method, right below the closing line }); of the btn.setOnClickListener() code, begin typing sb.set and use the code recommender to find setOnSeekBarChangeListener(). This will store your SeekBar in the variable sb. ",
        "bbox": [
            242,
            669,
            898,
            756
        ],
        "page_idx": 210
    },
    {
        "type": "text",
        "text": "The code for the SeekBar listener is different from that for the Encode/ Decode button. We want to listen for more than just click events on the SeekBar. We want to listen for all changes, including the user pressing the SeekBar and sliding it left or right. For that, we need an OnSeekBarChangeListener. ",
        "bbox": [
            242,
            758,
            902,
            828
        ],
        "page_idx": 210
    },
    {
        "type": "text",
        "text": "Just as with the button code, though, we’ll use the code recommender to automatically generate the new OnSeekBarChangeListener. Inside the parentheses after sb.setOnSeekBarChangeListener(), begin typing new OnSeekBar and use the code recommendation. ",
        "bbox": [
            242,
            831,
            896,
            900
        ],
        "page_idx": 210
    },
    {
        "type": "footer",
        "text": "Make Secret Messages a Phone App to Share with Friends! ",
        "bbox": [
            525,
            954,
            843,
            965
        ],
        "page_idx": 210
    },
    {
        "type": "page_number",
        "text": "187 ",
        "bbox": [
            876,
            950,
            904,
            963
        ],
        "page_idx": 210
    },
    {
        "type": "text",
        "text": "Android Studio will fill in the OnSeekBarChangeListener code with three methods: onProgressChanged(), onStartTrackingTouch(), and onStopTrackingTouch(). We want to use onProgressChanged(), as this will tell us when the user has changed the value of the SeekBar. ",
        "bbox": [
            230,
            64,
            898,
            136
        ],
        "page_idx": 211
    },
    {
        "type": "text",
        "text": "The steps we want to program into the SeekBar event listener are similar to the code for the Encode/Decode button, except that we need to calculate the key based on the SeekBar’s value. We also need to show the key in the txtKey field. Add the following lines of code to the onProgressChanged() method: ",
        "bbox": [
            230,
            136,
            880,
            226
        ],
        "page_idx": 211
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "sb.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() { @Override public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) { 1 int key $=$ sb.getProgress() - 13; String message $=$ txtIn.getText().toString(); String output $=$ encode(message, key); txtOut.setText(output); 2 txtKey.setText(\" + key);   \n} ",
        "bbox": [
            232,
            241,
            847,
            406
        ],
        "page_idx": 211
    },
    {
        "type": "text",
        "text": "At $\\bullet$ , we create a variable named key. We get the progress value from the SeekBar sb variable, and we subtract 13 from that value. The SeekBar can go only from 0 to 26, so subtracting 13 will give a range from -13 to $^ { + 1 3 }$ , perfect for encoding and decoding messages. The next three lines are identical to those in the Encode/Decode button event handler code, which get the message, encode the message using the encode() method, and then display the encoded text in txtOut. ",
        "bbox": [
            230,
            420,
            898,
            545
        ],
        "page_idx": 211
    },
    {
        "type": "text",
        "text": "The line at $\\bullet$ is new. When the user moves the SeekBar slider, we want the txtKey readout to change. Since key is an integer, we add an empty string (\"\") to it to convert the result to a text string that will be displayed to the user. You could have also used the command Integer.toString(key) to convert the key value into a string using the Integer class’s toString() method, but adding an empty string to an int is just a handy shortcut. ",
        "bbox": [
            230,
            546,
            898,
            656
        ],
        "page_idx": 211
    },
    {
        "type": "text",
        "text": "Running the App on the Emulator and on an Android Device ",
        "text_level": 1,
        "bbox": [
            125,
            686,
            878,
            710
        ],
        "page_idx": 211
    },
    {
        "type": "text",
        "text": "Save your changes and then try running the app again on the emulator. You can now slide the SeekBar left and right and see the ciphertext change immediately with each key value, as shown in Figure 8-13. ",
        "bbox": [
            230,
            717,
            878,
            771
        ],
        "page_idx": 211
    },
    {
        "type": "text",
        "text": "It’s been a few chapters since we connected a physical Android device, so let’s review that quickly. First, connect a compatible USB cable between your Android device and your computer. When a pop-up appears asking whether you want to allow USB Debugging, click Yes. ",
        "bbox": [
            230,
            771,
            880,
            843
        ],
        "page_idx": 211
    },
    {
        "type": "page_number",
        "text": "188 ",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 211
    },
    {
        "type": "footer",
        "text": "Chapter 8 ",
        "bbox": [
            144,
            951,
            202,
            965
        ],
        "page_idx": 211
    },
    {
        "type": "image",
        "img_path": "images/740f63846d16679c80d1fa5f487375b6d14018d401951e2d3792892039dd7adf.jpg",
        "image_caption": [
            "Figure 8-13: The SeekBar is now fully functional, as shown on the Android Emulator, with a key value of 5. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            64,
            559,
            462
        ],
        "page_idx": 212
    },
    {
        "type": "text",
        "text": "In Android Studio, click the run button, and you’ll see a Select Deployment Target dialog. (You may need to close the app in your emulator window to get the dialog to show up.) Find the entry for the Android device you’ve connected and click OK. ",
        "bbox": [
            238,
            536,
            613,
            660
        ],
        "page_idx": 212
    },
    {
        "type": "text",
        "text": "When you run the app on your real Android device, you’ll notice the SeekBar is more responsive, and you have access to a few options when you click certain parts of the app. When you click the ciphertext and choose Select All, a context menu will appear, as shown in Figure 8-14, offering you the option to Cut, Copy, Share, or Assist. ",
        "bbox": [
            238,
            663,
            611,
            821
        ],
        "page_idx": 212
    },
    {
        "type": "text",
        "text": "If you click Share, the selected text can be sent via email, text message, chat, Bluetooth, Twitter, Facebook, or any other app you have configured for ",
        "bbox": [
            238,
            825,
            581,
            897
        ],
        "page_idx": 212
    },
    {
        "type": "image",
        "img_path": "images/a1cb5d33036a43b40f24dcad34512165995ea10dc112dbaf619656aa4ca02707.jpg",
        "image_caption": [
            "Figure 8-14: The context menu allows you to Cut, Copy, or Share your encoded messages. "
        ],
        "image_footnote": [],
        "bbox": [
            638,
            537,
            904,
            857
        ],
        "page_idx": 212
    },
    {
        "type": "footer",
        "text": "Make Secret Messages a Phone App to Share with Friends! ",
        "bbox": [
            523,
            951,
            845,
            966
        ],
        "page_idx": 212
    },
    {
        "type": "page_number",
        "text": "189 ",
        "bbox": [
            876,
            948,
            904,
            963
        ],
        "page_idx": 212
    },
    {
        "type": "text",
        "text": "sharing on your device, as shown in Figure 8-15 (left). With the Share option, you can send encoded messages to anyone from inside the app! You can even email a secret message to a friend who has the desktop GUI version of the Secret Messages app, as shown in Figure 8-15 (right). All they have to do is copy the ciphertext from the email you send them into the Secret Messages GUI app while it’s running, then use the opposite of the secret key to decode the message: for example, -8 would decode a message sent with a key value of 8. ",
        "bbox": [
            230,
            64,
            894,
            208
        ],
        "page_idx": 213
    },
    {
        "type": "image",
        "img_path": "images/cb12e2145e1cea8fe5b5d8f4a0d1d7cbcf3bfaf5a673fe07d2ffb57376489f5c.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            234,
            220,
            527,
            570
        ],
        "page_idx": 213
    },
    {
        "type": "image",
        "img_path": "images/9893ad1f0959c868a3b4cd5d31b601e8cf1f16272c3be1dfd1f0f50075df4905.jpg",
        "image_caption": [
            "Figure 8-15: The Share option allows you to share your message via email, text message, Twitter, Facebook, or any other app you’ve configured for sharing (left). Selecting the email option will automatically create an email message with your encoded text (right). "
        ],
        "image_footnote": [],
        "bbox": [
            559,
            220,
            855,
            570
        ],
        "page_idx": 213
    },
    {
        "type": "text",
        "text": "So now we have a fully functional Secret Messages mobile app that allows us to share our messages by email, text, or social media with anyone. ",
        "bbox": [
            230,
            647,
            894,
            683
        ],
        "page_idx": 213
    },
    {
        "type": "text",
        "text": "There’s only one feature left to make our app complete: adding our own custom action to the floating action button. This will enable us to let the user share their messages at the touch of a finger! ",
        "bbox": [
            230,
            684,
            896,
            738
        ],
        "page_idx": 213
    },
    {
        "type": "text",
        "text": "Bonus: Customizing the Floating Action Button ",
        "text_level": 1,
        "bbox": [
            126,
            768,
            698,
            792
        ],
        "page_idx": 213
    },
    {
        "type": "text",
        "text": "So far, we’ve been ignoring the floating action button (also known as the fab icon), the circular email envelope symbol in the lower-right corner of the app screen, shown in Figure 8-16. ",
        "bbox": [
            230,
            801,
            779,
            855
        ],
        "page_idx": 213
    },
    {
        "type": "text",
        "text": "The fab icon gives us a way to provide the user with a shortcut to perform a specific action, such as sharing their message via email, text, or social media. ",
        "bbox": [
            230,
            855,
            777,
            908
        ],
        "page_idx": 213
    },
    {
        "type": "image",
        "img_path": "images/c7f77fee9e9e743f39eaf3a33cb896a5eb54210e6a5e12919bc13b9e55cf0d7f.jpg",
        "image_caption": [
            "Figure 8-16: The floating action button "
        ],
        "image_footnote": [],
        "bbox": [
            797,
            804,
            876,
            863
        ],
        "page_idx": 213
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 213
    },
    {
        "type": "footer",
        "text": "Chapter 8 ",
        "bbox": [
            144,
            951,
            202,
            966
        ],
        "page_idx": 213
    },
    {
        "type": "text",
        "text": "Android Studio automatically includes some code for the fab icon that displays a new type of pop-up message—called a “Snackbar” in Android lingo—in the onCreate() method: ",
        "bbox": [
            236,
            63,
            894,
            118
        ],
        "page_idx": 214
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "FloatingActionButton fab = (FloatingActionButton) findViewById(R.id.fab);  \nfab.set OnClickListener(new View.OnClickListener() {  \n    @Override  \n    public void onClick(View view) {  \n        Snackbar.make.view, \"Replace with your own action\", Snackbar.LENGTH LONG)  \n        .setAction(\"Action\", null).show();  \n    }  \n}); ",
        "guess_lang": "java",
        "bbox": [
            238,
            132,
            904,
            265
        ],
        "page_idx": 214
    },
    {
        "type": "text",
        "text": "All we need to do is replace the code in the onClick() method of the fab.setOnClickListener() with code that does what we want. ",
        "bbox": [
            236,
            279,
            882,
            313
        ],
        "page_idx": 214
    },
    {
        "type": "text",
        "text": "First, delete the code between the braces of the onClick() method. Next, type the following code into the onClick() method: ",
        "bbox": [
            236,
            315,
            888,
            352
        ],
        "page_idx": 214
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "FloatingActionButton fab = (FloatingActionButton) findViewById(R.id.fab);  \nfab.set OnClickListener(new View.OnClickListener() {  \n    @Override  \npublic void onClick(View view) {  \n        Intent shareIntent = new Intent(Intent.ACTION_SEND);  \n        shareIntent.setType(\"text/plain\");  \n        shareIntent.putExtra(Intent.EXTRASubject, \"Secret Message \" + DateFormat.getTimeInstance().format(new Date()));  \n        shareIntent.putExtra(Intent.EXTRA_TEXT, txtOut.getText().toString());  \n        try {  \n            Activity(Intent.createChooser(sharedIntent, \"Share message...\"));  \n            finish();  \n        }  \n        catch (android.content.ActivityNotFoundException ex) {  \n            Toast.makeText(MainActivity.this, \"Error: Couldn't share.\", Toast.LENGTH SHORT).show();  \n        }  \n    }); ",
        "guess_lang": "java",
        "bbox": [
            236,
            367,
            904,
            669
        ],
        "page_idx": 214
    },
    {
        "type": "text",
        "text": "Now let’s look at what each line does. At $\\bullet$ , we create an Intent called shareIntent. An Intent in Android is an activity that we want to start or launch, such as email, Twitter, or the camera. The shareIntent uses ACTION_SEND, which means we want to send some information to another app on the Android device. ",
        "bbox": [
            236,
            687,
            902,
            774
        ],
        "page_idx": 214
    },
    {
        "type": "text",
        "text": "We set the type of the Intent to text/plain v, which is what we need for an email, tweet, or social media post, and then add a subject line to the activity $\\pmb { \\Theta }$ . If the user chooses to share their message by email or via another app that uses a subject line, it will read “Secret Message” plus the date. The DateFormat class will format the date in text form based on your region, like \"Dec 7, 2017 4:33:12 PM\". ",
        "bbox": [
            236,
            777,
            898,
            885
        ],
        "page_idx": 214
    },
    {
        "type": "footer",
        "text": "Make Secret Messages a Phone App to Share with Friends! ",
        "bbox": [
            525,
            951,
            847,
            966
        ],
        "page_idx": 214
    },
    {
        "type": "page_number",
        "text": "191 ",
        "bbox": [
            876,
            950,
            904,
            965
        ],
        "page_idx": 214
    },
    {
        "type": "text",
        "text": "The line at $\\bullet$ sends the encoded message from txtOut as the body of an email, tweet, or post, depending on which app the user chooses to share their message through. ",
        "bbox": [
            230,
            64,
            890,
            118
        ],
        "page_idx": 215
    },
    {
        "type": "text",
        "text": "Next is a try statement $\\pmb { \\Theta }$ . Lots of things could go wrong when we try to call one app from inside another. What if the user doesn’t have an email app installed? What if the app is busy or the network can’t be reached? The try statement is made for situations like this. The first line of code inside the try statement attempts to start the activity the user selected (like email, text messaging, or Twitter), then passes the information to the selected app, and finally finishes the activity in the next line. ",
        "bbox": [
            230,
            118,
            896,
            243
        ],
        "page_idx": 215
    },
    {
        "type": "text",
        "text": "If there’s an error or exception, the catch statement $\\pmb { \\circledcirc }$ will display a Toast message (a kind of pop-up) that reads \"Error: Couldn't share.\". ",
        "bbox": [
            232,
            244,
            861,
            280
        ],
        "page_idx": 215
    },
    {
        "type": "text",
        "text": "That’s all we need to get the fab icon working. Remember to import new classes by pressing alt-enter (or option-enter) while typing the lines of code. Remember, if Android Studio underlines a new class in red, it’s often because the class hasn’t been imported, so pressing alt-enter (or option-enter) will automatically add the correct import statement, just as we did in Chapter 4. ",
        "bbox": [
            230,
            280,
            884,
            388
        ],
        "page_idx": 215
    },
    {
        "type": "text",
        "text": "Once you’ve added the code and imported the classes, run the app again. ",
        "bbox": [
            267,
            388,
            898,
            406
        ],
        "page_idx": 215
    },
    {
        "type": "text",
        "text": "After you encode a message, hide the keyboard by pressing the down triangle at the bottom of your screen. Then, tap the fab icon on the bottom right of the screen, as shown in Figure 8-17 (left). Select your email app from the apps under Share message..., and the app should start, with a subject line and the encoded message in the body of the email, as shown in Figure 8-17 (right). ",
        "bbox": [
            230,
            408,
            898,
            515
        ],
        "page_idx": 215
    },
    {
        "type": "image",
        "img_path": "images/527450d1f473c1cd02851f75d9254392d17433f5d4b67e8fea06f8a1db13ddc4.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            234,
            527,
            525,
            876
        ],
        "page_idx": 215
    },
    {
        "type": "image",
        "img_path": "images/3cccee0065b1e363d9034e6b5a419bbfc340ca89314606ba3113822111c9833d.jpg",
        "image_caption": [
            "Figure 8-17: Pressing the fab icon in the lower right pops up a sharing menu (left). Choosing the email app from the sharing menu automatically creates an email with the secret message as the body and today’s date and time in the subject line (right). "
        ],
        "image_footnote": [],
        "bbox": [
            563,
            527,
            851,
            875
        ],
        "page_idx": 215
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 215
    },
    {
        "type": "footer",
        "text": "Chapter 8 ",
        "bbox": [
            144,
            953,
            200,
            965
        ],
        "page_idx": 215
    },
    {
        "type": "text",
        "text": "Now we can send secret messages from the app with just the touch of an icon! But to make this app truly worthy of the Google Play Store, we need to give it the ability to receive secret messages from outside the app. ",
        "bbox": [
            236,
            63,
            906,
            118
        ],
        "page_idx": 216
    },
    {
        "type": "text",
        "text": "Receiving Secret Messages from Other Apps ",
        "text_level": 1,
        "bbox": [
            130,
            148,
            684,
            172
        ],
        "page_idx": 216
    },
    {
        "type": "text",
        "text": "Let’s make one last upgrade to the mobile version of the Secret Messages app. We can share, email, or tweet encoded messages from the app, but what if we want to receive text from emails, tweets, and posts without copying and pasting into the app? To address this, we can add our app to the Share list in Android so that other apps can send text directly to the Secret Messages app—and it only takes a few lines of code! ",
        "bbox": [
            236,
            180,
            906,
            286
        ],
        "page_idx": 216
    },
    {
        "type": "text",
        "text": "This is an advanced technique, so let’s walk through the process stepby-step. First, open your app’s AndroidManifest.xml file under manifests4 AndroidManifest.xml in the Project Explorer pane. The manifest file stores the “shipping” information for your app, much as a ship’s manifest lists all the cargo traveling on the ship. You can declare properties for your entire app and include the details an Android device needs to run the app, just as you can declare the contents of a crate or package when you ship it overseas. ",
        "bbox": [
            236,
            288,
            896,
            430
        ],
        "page_idx": 216
    },
    {
        "type": "text",
        "text": "In order to do this, you’ll need to edit some XML. XML files contain tags to label information held in the file. Usually a tag is formatted with its name between angled brackets, like <tag>. In this case, we need to modify the manifest’s intent-filter tag entry, which has information about what data the app will accept. Add the following five lines of XML near the end of your AndroidManifest.xml file, before the </activity> tag: ",
        "bbox": [
            236,
            432,
            890,
            542
        ],
        "page_idx": 216
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "<intent-filter> <action android:name=\"android intent.action.MAIN\" /> <category android:name=\"android intent.category.LAUNCHER\" /> </intent-filter>   \n1 <intent-filter> 2 <action android:name=\"android intent.action.SEND\" /> 3 <category android:name=\"android intent.category.DEFAULT\" /> 4 <data android:mimetype=\"text/*\" />   \n5 </intent-filter>   \n</activity>   \n</application>   \n</manifest> ",
        "guess_lang": "xml",
        "bbox": [
            238,
            552,
            900,
            750
        ],
        "page_idx": 216
    },
    {
        "type": "text",
        "text": "At $\\bullet$ , we add a new intent-filter to the app. Earlier we used an Intent object to send text out to another app, such as email, Twitter, or Facebook. In this case, we’re creating a filter to receive Intent objects sent from other apps on our phone v. (We used Intent.ACTION_SEND in the fab icon code on page 191 to send Intent messages to other apps; here we’re doing the opposite.) ",
        "bbox": [
            236,
            765,
            890,
            873
        ],
        "page_idx": 216
    },
    {
        "type": "text",
        "text": "The line at $\\pmb { \\Theta }$ uses the DEFAULT sharing category to add the Secret Messages app to the list of apps on your phone that you can share with. With the DEFAULT category, your app can receive data from any app. (There ",
        "bbox": [
            236,
            873,
            888,
            929
        ],
        "page_idx": 216
    },
    {
        "type": "footer",
        "text": "Make Secret Messages a Phone App to Share with Friends! ",
        "bbox": [
            523,
            951,
            847,
            966
        ],
        "page_idx": 216
    },
    {
        "type": "page_number",
        "text": "193 ",
        "bbox": [
            876,
            948,
            906,
            965
        ],
        "page_idx": 216
    },
    {
        "type": "text",
        "text": "are other categories for when you want to filter or restrict the types of apps that can send data to your app. For example, the BROWSABLE category is used by apps that should receive data from only a web browser.) At $\\bullet$ , we tell Android that the Secret Messages app should receive any kind of text data from other apps. (If you write an app that accepts images as input, your mimeType might be \"image/*\", or \"image/png\" for just PNG images. For video, there’s \"video/mp4\", and so on.) ",
        "bbox": [
            230,
            64,
            886,
            189
        ],
        "page_idx": 217
    },
    {
        "type": "text",
        "text": "Finally, we close the intent-filter entry $\\pmb { \\Theta }$ in your app’s manifest. XML tags need to be closed, which is usually done with a forward slash and the name of the XML tag that’s being closed, as in </intent-filter>. This lets the computer know you’ve completed code for the intent-filter. Save your AndroidManifest.xml file and then open the MainActivity.java file to begin editing the Java source code. ",
        "bbox": [
            230,
            190,
            888,
            298
        ],
        "page_idx": 217
    },
    {
        "type": "text",
        "text": "Scroll down inside MainActivity.java to find the onCreate() method. Immediately after the code that connects the GUI components to the variables from txtIn through btn, add the four statements shown here: ",
        "bbox": [
            230,
            298,
            886,
            354
        ],
        "page_idx": 217
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); Toolbar toolbar = ( Toolbar ) findViewByld(R.idtoolbar); setSupportActionBartoolbar); txtIn $=$ (EditText)findViewByld(R.id.txtIn); txtKey $=$ (EditText)findViewByld(R.id.txtKey); txtOut $=$ (EditText)findViewByld(R.id.txtOut); sb $=$ (SeekBar)findViewByld(R.id.seekBar); btn $=$ (Button)findViewByld(R.id.button); 1 Intent receivedIntent $=$ intent(); String receivedText $=$ receivedIntent.getStringExtra(Intent.EXTRA Text); if (receivedText != null) 1 txtIn.setText(receivedText); btn.set OnClickListener(new View.OnClickListener() { ",
        "bbox": [
            234,
            367,
            871,
            608
        ],
        "page_idx": 217
    },
    {
        "type": "text",
        "text": "At $\\bullet$ , we create a variable called receivedIntent to accept the incoming Intent message shared from another app. Then, we get the text from the Intent message by calling the getStringExtra() method v. The parts of a message sent by an Intent are referred to as extra data. An if statement $\\otimes$ checks to make sure the receivedText variable isn’t null and, if so, changes the text in the txtIn text field at the top of the Secret Messages app to the received text $\\bullet$ . ",
        "bbox": [
            230,
            624,
            888,
            749
        ],
        "page_idx": 217
    },
    {
        "type": "text",
        "text": "Believe it or not, that’s all the work necessary to accept messages shared from other apps into the Secret Messages app! Now, you can not only send encoded messages from the app but also decode messages from email, tweets, and posts directly. Figure 8-18 shows what it looks like to share a message from email to the Secret Messages app for quick decoding. ",
        "bbox": [
            230,
            750,
            898,
            842
        ],
        "page_idx": 217
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 217
    },
    {
        "type": "footer",
        "text": "Chapter 8 ",
        "bbox": [
            142,
            951,
            200,
            965
        ],
        "page_idx": 217
    },
    {
        "type": "image",
        "img_path": "images/10c47e397f35b5cd1c731413ff7fb8e39690cf96f057da45b1b509b51174e40f.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            99,
            64,
            361,
            426
        ],
        "page_idx": 218
    },
    {
        "type": "image",
        "img_path": "images/8020f79ec06ee45eb5887fe5ad55080bf3d84423fe9b3a1c0146d8f6658ab6f0.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            369,
            64,
            634,
            426
        ],
        "page_idx": 218
    },
    {
        "type": "image",
        "img_path": "images/6a94998402f04592f380c556cbca70141f467f0f63e9c6140130823254e9e2de.jpg",
        "image_caption": [
            "Figure 8-18: Now the Secret Messages app can send and receive messages back and forth with other apps on your phone, including your email. "
        ],
        "image_footnote": [],
        "bbox": [
            640,
            66,
            904,
            426
        ],
        "page_idx": 218
    },
    {
        "type": "text",
        "text": "Select text in your favorite email app, or in Twitter or Facebook, and press the Share button. The Secret Messages app will appear on the list of apps that accept a shared message. Select SecretMessages as the app to share with, and the selected text will be shown in the input text field of the Secret Messages app. You can encode or decode with ease; just remember you may need to change the key value depending on how the message was encoded. ",
        "bbox": [
            236,
            487,
            900,
            594
        ],
        "page_idx": 218
    },
    {
        "type": "text",
        "text": "Congratulations! You’ve built a fully social Secret Messages mobile app. Enjoy it and share it with a friend! ",
        "bbox": [
            236,
            597,
            898,
            630
        ],
        "page_idx": 218
    },
    {
        "type": "text",
        "text": "Let’s take a look at the skills you developed in this chapter and try a couple of additional programming challenges. ",
        "bbox": [
            236,
            633,
            867,
            669
        ],
        "page_idx": 218
    },
    {
        "type": "text",
        "text": "What You Learned ",
        "text_level": 1,
        "bbox": [
            130,
            699,
            365,
            720
        ],
        "page_idx": 218
    },
    {
        "type": "text",
        "text": "We reused code in this app from the GUI desktop version of the Secret Messages app, and we added so much more to make this a truly complete mobile app. Here are some of the new things you’ve learned and some of the skills you’ve reinforced in this chapter: ",
        "bbox": [
            236,
            731,
            880,
            804
        ],
        "page_idx": 218
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Writing event handlers for Android components, including buttons, SeekBars, and the floating action button ",
            "Customizing Android GUI components "
        ],
        "bbox": [
            238,
            816,
            867,
            876
        ],
        "page_idx": 218
    },
    {
        "type": "footer",
        "text": "Make Secret Messages a Phone App to Share with Friends! ",
        "bbox": [
            525,
            953,
            847,
            966
        ],
        "page_idx": 218
    },
    {
        "type": "page_number",
        "text": "195 ",
        "bbox": [
            876,
            948,
            904,
            963
        ],
        "page_idx": 218
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Using multiline text inputs in an Android app ",
            "Adding a SeekBar and using it like a slider interface ",
            "Running Android apps on both the emulator and real devices ",
            "Customizing the action of the floating action button ",
            "Creating custom Intent objects to call special activities, including sending data to other apps, from inside an app ",
            "Creating custom Intent filters to receive text (or image or video) data sent from other apps "
        ],
        "bbox": [
            232,
            64,
            896,
            232
        ],
        "page_idx": 219
    },
    {
        "type": "text",
        "text": "Programming Challenges ",
        "text_level": 1,
        "bbox": [
            125,
            262,
            444,
            286
        ],
        "page_idx": 219
    },
    {
        "type": "text",
        "text": "Try these programming challenges to review and practice what you’ve learned, and to expand your programming skills by trying something new. Visit the book’s website at https://www.nostarch.com/learnjava/ for sample solutions. ",
        "bbox": [
            230,
            294,
            884,
            364
        ],
        "page_idx": 219
    },
    {
        "type": "text",
        "text": "#1: Creating a Move Up Button ",
        "text_level": 1,
        "bbox": [
            232,
            385,
            503,
            406
        ],
        "page_idx": 219
    },
    {
        "type": "text",
        "text": "This programming challenge is to create a Move Up ^ button similar to the one in Chapter 7 (Programming Challenge #1 on page 172) that moves text up from the output field into the input field. ",
        "bbox": [
            230,
            412,
            892,
            466
        ],
        "page_idx": 219
    },
    {
        "type": "text",
        "text": "Place the Move Up ^ button below the txtOut text field. Then add an event handler that gets the text from the txtOut text field and sets it as the text of the txtIn text field. As an added bonus, you could have the event handler for the Move Up ^ button also change the SeekBar to the opposite of its value. An encryption key of 7 would become -7, the decryption key. The result will be that clicking the button swaps the encoded message up and automatically decodes it! ",
        "bbox": [
            230,
            466,
            898,
            591
        ],
        "page_idx": 219
    },
    {
        "type": "text",
        "text": "#2: Changing the SeekBar’s Progress ",
        "text_level": 1,
        "bbox": [
            232,
            612,
            553,
            635
        ],
        "page_idx": 219
    },
    {
        "type": "text",
        "text": "A second improvement you could make to the user experience would be to change the SeekBar’s progress property whenever the user enters a key value manually in the txtKey field. Give it a try! ",
        "bbox": [
            230,
            639,
            878,
            693
        ],
        "page_idx": 219
    },
    {
        "type": "text",
        "text": "Hi n t ",
        "text_level": 1,
        "bbox": [
            146,
            711,
            206,
            729
        ],
        "page_idx": 219
    },
    {
        "type": "text",
        "text": "Instead of creating an event handler for the txtKey field, modify the code for the Encode/Decode button to change the SeekBar’s progress to match the value in txtKey $^ +$ 13—remember the SeekBar goes from 0 to 26, not -13 to $^ { + 1 3 }$ . One or two lines of code should be all you need. ",
        "bbox": [
            232,
            711,
            863,
            783
        ],
        "page_idx": 219
    },
    {
        "type": "aside_text",
        "text": "eONNEHnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNnNn ",
        "bbox": [
            35,
            64,
            57,
            259
        ],
        "page_idx": 219
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 219
    },
    {
        "type": "footer",
        "text": "Chapter 8 ",
        "bbox": [
            142,
            951,
            200,
            966
        ],
        "page_idx": 219
    },
    {
        "type": "text",
        "text": "9 ",
        "text_level": 1,
        "bbox": [
            519,
            186,
            626,
            331
        ],
        "page_idx": 220
    },
    {
        "type": "text",
        "text": "P a i n t C olo r f u l B u bbl e s wi t h Yo ur Mo use! ",
        "text_level": 1,
        "bbox": [
            311,
            379,
            835,
            432
        ],
        "page_idx": 220
    },
    {
        "type": "image",
        "img_path": "images/97a48b081a998486c83aaca59fa9f07b82802b9174c81d53ad8aaa05f7928983.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            164,
            475,
            359,
            626
        ],
        "page_idx": 220
    },
    {
        "type": "text",
        "text": "In the next three chapters, we’ll build BubbleDraw, an interactive, animated drawing app that lets the user draw floating, colorful bubbles with their mouse in the version and with their fingers in the mobile ",
        "bbox": [
            341,
            572,
            878,
            729
        ],
        "page_idx": 220
    },
    {
        "type": "text",
        "text": "The first version of the BubbleDraw app will look like Figure 9-1, with each bubble in a different random color. It will let the user draw bubbles of random colors whenever they click and drag the mouse on the app window. The user will also be able to change the size of the bubbles by scrolling the mouse wheel up and down or by using a scroll gesture on a trackpad or touchscreen. ",
        "bbox": [
            236,
            734,
            890,
            842
        ],
        "page_idx": 220
    },
    {
        "type": "image",
        "img_path": "images/69f0198a386bcb33e58e2b0768e2412cead1152b853a569f8d43cb4e5adf8cda.jpg",
        "image_caption": [
            "Figure 9-1: The BubbleDraw app lets the user draw randomly colored bubbles using the mouse. "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            64,
            797,
            351
        ],
        "page_idx": 221
    },
    {
        "type": "text",
        "text": "We’re going to use an object-oriented programming approach to build the BubbleDraw app. The variables, functions, loops, and conditional statements you’ve learned so far are known as procedural programming. Procedural programming involves writing programs step-by-step in a linear fashion, sort of like following a recipe. Object-oriented programming uses all of these concepts, but it allows us to program much larger and more complicated applications by breaking a big software project into smaller pieces called objects. ",
        "bbox": [
            230,
            412,
            896,
            557
        ],
        "page_idx": 221
    },
    {
        "type": "text",
        "text": "As an example, a bubble is an important entity in the BubbleDraw app, so bubbles might become objects as we begin to code this app. First, we’ll tackle the problem of defining what a bubble is. Second, we’ll figure out a way to store information on lots of bubbles and how to draw the bubbles on the screen. Finally, we’ll add the ability to click and drag the mouse to create bubbles. Instead of writing separate pieces of code to control each bubble individually, we’ll write one piece of code that applies to all bubble objects. ",
        "bbox": [
            230,
            558,
            890,
            683
        ],
        "page_idx": 221
    },
    {
        "type": "text",
        "text": "We’ll begin with two source code files: one for the app window called BubbleDraw and one for the drawing canvas called BubblePanel. The app window will extend a familiar class, JFrame, and the drawing canvas inside the window frame will use a new kind of GUI container called a JPanel. By building two separate files, we’ll be able to reuse the drawing canvas in a GUI app in Chapter 10. Let’s start coding! ",
        "bbox": [
            232,
            684,
            878,
            792
        ],
        "page_idx": 221
    },
    {
        "type": "text",
        "text": "Creating the BubbleDraw Project Files ",
        "text_level": 1,
        "bbox": [
            125,
            822,
            597,
            846
        ],
        "page_idx": 221
    },
    {
        "type": "text",
        "text": "In Eclipse, go to File4New4Java Project and create a new project folder for the BubbleDraw app. Name the project BubbleDraw and click Finish. ",
        "bbox": [
            230,
            855,
            878,
            891
        ],
        "page_idx": 221
    },
    {
        "type": "text",
        "text": "Expand the BubbleDraw project folder in the Project Explorer pane, right-click the src folder, and select New4 Class. Create a class called ",
        "bbox": [
            232,
            891,
            859,
            926
        ],
        "page_idx": 221
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            950,
            121,
            963
        ],
        "page_idx": 221
    },
    {
        "type": "footer",
        "text": "Chapter 9 ",
        "bbox": [
            142,
            951,
            200,
            965
        ],
        "page_idx": 221
    },
    {
        "type": "text",
        "text": "BubbleDraw for the app window, with javax.swing.JFrame as the superclass, and under Which method stubs . . . select the public static void main(String[] args) checkbox. Then click Finish. ",
        "bbox": [
            236,
            63,
            898,
            115
        ],
        "page_idx": 222
    },
    {
        "type": "text",
        "text": "Next, we’ll create the BubblePanel drawing canvas. Right-click the src folder and select New4 Class. Name this class BubblePanel, with a superclass of javax.swing.JPanel. Click Finish. ",
        "bbox": [
            236,
            117,
            898,
            169
        ],
        "page_idx": 222
    },
    {
        "type": "text",
        "text": "Using these classes, we’ll create a reusable BubblePanel canvas that we can expand and put into other apps. The BubbleDraw frame will be a container that displays the BubblePanel. ",
        "bbox": [
            236,
            171,
            876,
            226
        ],
        "page_idx": 222
    },
    {
        "type": "text",
        "text": "Building the BubbleDraw Frame ",
        "text_level": 1,
        "bbox": [
            132,
            256,
            531,
            280
        ],
        "page_idx": 222
    },
    {
        "type": "text",
        "text": "Let’s begin by setting up the main app window in the BubbleDraw.java source code file. Click the BubbleDraw.java tab at the top of the content pane in Eclipse, and you’ll see the following code has already been filled in: ",
        "bbox": [
            236,
            288,
            902,
            345
        ],
        "page_idx": 222
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "import javax.swing JFrame;   \npublic class BubbleDraw extends JFrame { public static void main(String[] args){ }   \n} ",
        "guess_lang": "txt",
        "bbox": [
            238,
            358,
            615,
            439
        ],
        "page_idx": 222
    },
    {
        "type": "text",
        "text": "The app window runs in a JFrame, like our previous GUI apps did. In this app, we need the window to display the drawing canvas, our BubblePanel. We won’t add any other GUI components to this first version of the app. ",
        "bbox": [
            236,
            457,
            902,
            513
        ],
        "page_idx": 222
    },
    {
        "type": "text",
        "text": "We want to create a JFrame window and add setup code for the frame as we have in previous chapters, but we’ll also add a BubblePanel to the frame for our drawing canvas. The complete BubbleDraw class will look like Listing 9-1: ",
        "bbox": [
            236,
            513,
            896,
            564
        ],
        "page_idx": 222
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "import javax.swing JFrame;   \npublic class BubbleDraw extends JFrame { public static void main(String[] args) { 1 JFrame frame $=$ new JFrame(\"Your Name's BubbleDraw App\"); 2 frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); 3 frame.getContentPane().add(new BubblePanel()); 4 frame.setSize(new java.awt.Dimension(600,400)); 5 frame.setVisible(true); }   \n} ",
        "bbox": [
            238,
            582,
            781,
            740
        ],
        "page_idx": 222
    },
    {
        "type": "text",
        "text": "Listing 9-1: The BubbleDraw class ",
        "text_level": 1,
        "bbox": [
            238,
            756,
            476,
            774
        ],
        "page_idx": 222
    },
    {
        "type": "text",
        "text": "Start by creating a new JFrame with a title bar at the top $\\bullet$ . Put your own name in the title string. Next, set the default close operation so that the app exits when the user closes the window v. Then add the code to open a new BubblePanel drawing canvas as the content inside this frame w. The last two lines set the size of the window $\\bullet$ and make it visible $\\pmb { \\Theta }$ . ",
        "bbox": [
            236,
            783,
            904,
            873
        ],
        "page_idx": 222
    },
    {
        "type": "text",
        "text": "Save the BubbleDraw.java file and run it once. You’ll see a gray Java frame with \"Your Name's BubbleDraw App\" in the title bar. We’ll build the logic for the BubblePanel drawing canvas next. ",
        "bbox": [
            236,
            873,
            894,
            927
        ],
        "page_idx": 222
    },
    {
        "type": "footer",
        "text": "Paint Colorful Bubbles with Your Mouse! ",
        "bbox": [
            632,
            951,
            849,
            963
        ],
        "page_idx": 222
    },
    {
        "type": "page_number",
        "text": "199 ",
        "bbox": [
            876,
            948,
            904,
            963
        ],
        "page_idx": 222
    },
    {
        "type": "text",
        "text": "Creating a Class for Bubbles ",
        "text_level": 1,
        "bbox": [
            126,
            63,
            480,
            85
        ],
        "page_idx": 223
    },
    {
        "type": "text",
        "text": "Switch to the tab for the BubblePanel.java file. This file will contain all the logic for drawing bubbles on the screen. Our first task will be creating a Bubble class to store each bubble’s color, size, and location on the screen. ",
        "bbox": [
            230,
            94,
            875,
            148
        ],
        "page_idx": 223
    },
    {
        "type": "text",
        "text": "Defining a Bubble ",
        "text_level": 1,
        "bbox": [
            232,
            166,
            392,
            189
        ],
        "page_idx": 223
    },
    {
        "type": "text",
        "text": "The reason for building a class is quite practical: in the older, procedural approach to programming, we would need a separate variable for each bubble’s x- and y-coordinates, size, and so on. For example, we’d need a bubble1x variable for the first bubble’s x-location, as well as bubble1y, bubble1size, and bubble1color variables for that bubble. That wouldn’t be so bad, but what if we drag the mouse for a few seconds and wind up with a thousand bubbles? We would need 4,000 variables just to keep track! Instead, we can use properties inside a class to store those values for each bubble. ",
        "bbox": [
            230,
            195,
            894,
            339
        ],
        "page_idx": 223
    },
    {
        "type": "text",
        "text": "Before we start writing code, let’s define what a bubble is. As shown earlier in Figure 9-1, a bubble is a colorful, filled circle, and bubbles can be different sizes and in different locations. ",
        "bbox": [
            230,
            340,
            878,
            391
        ],
        "page_idx": 223
    },
    {
        "type": "text",
        "text": "All of those features are attributes of bubbles in this app. In objectoriented programming, we use the nouns and adjectives that describe an object to build a list of attributes when we create a new class. Attributes are stored as class variables. ",
        "bbox": [
            230,
            394,
            888,
            465
        ],
        "page_idx": 223
    },
    {
        "type": "text",
        "text": "Besides attributes, a class can also contain methods. A method is a type of function associated with a specific class. Methods enable a class to do something. Think about what we want the bubbles in the drawing app to do. We need to create a bubble whenever the user clicks or drags the mouse. We’ll also draw a bubble every time the screen refreshes. The verbs—like create and draw—will help us identify the methods we need in our bubble class. ",
        "bbox": [
            230,
            466,
            875,
            590
        ],
        "page_idx": 223
    },
    {
        "type": "text",
        "text": "When we capture all of those attributes and methods into a single class, we can describe any bubble we might want to show on the screen. This is how a coder solves problems with object-oriented programming: by breaking big applications into smaller pieces, creating classes by asking questions about what the program contains, and then identifying methods and attributes by asking what each object of a new class should do and what kind of information it needs. ",
        "bbox": [
            230,
            591,
            896,
            716
        ],
        "page_idx": 223
    },
    {
        "type": "text",
        "text": "Let’s begin writing the Bubble class. We’ll do this inside the BubblePanel class, as BubblePanel is the only place we need to draw bubbles. Start coding your Bubble class before the closing brace at the end of BubblePanel, as follows: ",
        "bbox": [
            230,
            717,
            888,
            771
        ],
        "page_idx": 223
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "import javax.swing.JPanel;   \npublic class BubblePanel extends JPanel { private class Bubble { 1 ",
        "guess_lang": "txt",
        "bbox": [
            232,
            788,
            585,
            870
        ],
        "page_idx": 223
    },
    {
        "type": "page_number",
        "text": "200 ",
        "bbox": [
            91,
            950,
            123,
            963
        ],
        "page_idx": 223
    },
    {
        "type": "footer",
        "text": "Chapter 9 ",
        "bbox": [
            144,
            951,
            202,
            966
        ],
        "page_idx": 223
    },
    {
        "type": "text",
        "text": "We usually make internal and helper classes private to keep other programs from accessing them directly. So, to make Bubble an internal class accessible only from a BubblePanel, we declare it as private. This technique, called encapsulation, means that the BubblePanel class hides its inner workings from other classes. Encapsulation is one of the core principles of object-oriented programming, and it’s a best practice worth following because it means we can change the way the Bubble class works internally and know for certain that we won’t break other parts of the code. Since Bubble is declared as private, we know that there isn’t any code outside of the BubblePanel class that depends on it. This is especially important for bigger applications that contain a large number of classes and are worked on by many programmers. ",
        "bbox": [
            236,
            63,
            898,
            279
        ],
        "page_idx": 224
    },
    {
        "type": "text",
        "text": "BubblePanel will rely on the Bubble class to store information on individual bubbles as the user draws on the screen. A bubble has an (x, y) location on the screen, a size, and a color, so we can make these attributes as variables inside Bubble. The x- and y-coordinates of the bubble’s location and the size of the bubble can all be stored as integer values: ",
        "bbox": [
            236,
            279,
            898,
            372
        ],
        "page_idx": 224
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "import javax.swing.JPanel;   \npublic class BubblePanel extends JPanel { private class Bubble{ private int x; private int y; private int size; }   \n} ",
        "guess_lang": "txt",
        "bbox": [
            238,
            385,
            591,
            513
        ],
        "page_idx": 224
    },
    {
        "type": "text",
        "text": "Here we make two separate variables called x and y to store the bubble’s coordinates, as well as a size variable. These attributes are private, so only the Bubble class itself can change those values directly. We encapsulate all the data a bubble should have inside the Bubble class, and we interact with bubbles using the methods in that class only. ",
        "bbox": [
            236,
            531,
            906,
            620
        ],
        "page_idx": 224
    },
    {
        "type": "text",
        "text": "As mentioned earlier, each bubble in our app can have its own color. The java.awt library has a Color class that handles RGB (red-green-blue) color values to reproduce any color that we can display on our monitor. We’ll talk a bit more about RGB when we actually write the code to control bubble colors later in the chapter, so for now just import the java.awt.Color class at the top of the file and add an attribute called color to the Bubble class, like so: ",
        "bbox": [
            236,
            621,
            902,
            729
        ],
        "page_idx": 224
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "import java.awt.Color;   \nimport javax.swing.JPanel;   \npublic class BubblePanel extends JPanel { private class Bubble{ private int x; private int y; private int size; private Color color; }   \n1 ",
        "guess_lang": "java",
        "bbox": [
            238,
            746,
            591,
            906
        ],
        "page_idx": 224
    },
    {
        "type": "footer",
        "text": "Paint Colorful Bubbles with Your Mouse! ",
        "bbox": [
            632,
            951,
            849,
            963
        ],
        "page_idx": 224
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            875,
            950,
            902,
            963
        ],
        "page_idx": 224
    },
    {
        "type": "text",
        "text": "Now that we’ve added the four attributes we want each bubble to have (x, y, size, and color), we can start building the behaviors, or functions, of a bubble to give values to these attributes. We’ll do that by adding methods inside the Bubble class. ",
        "bbox": [
            232,
            64,
            890,
            136
        ],
        "page_idx": 225
    },
    {
        "type": "text",
        "text": "Designing a Bubble’s Methods ",
        "text_level": 1,
        "bbox": [
            232,
            154,
            496,
            177
        ],
        "page_idx": 225
    },
    {
        "type": "text",
        "text": "The Bubble class will have two actions, which we’ll turn into methods: creating a bubble and drawing a bubble on the desktop screen. ",
        "bbox": [
            232,
            183,
            849,
            217
        ],
        "page_idx": 225
    },
    {
        "type": "text",
        "text": "Methods that create objects have a special name: constructors. A constructor sets up an object by assigning values to the object’s attributes. When we assign values to the attributes inside a constructor, we’re initializing them. For the Bubble class, we want to initialize the x, y, size, and color attributes of an individual bubble. ",
        "bbox": [
            232,
            219,
            892,
            307
        ],
        "page_idx": 225
    },
    {
        "type": "text",
        "text": "Building the Constructor ",
        "text_level": 1,
        "bbox": [
            232,
            330,
            412,
            349
        ],
        "page_idx": 225
    },
    {
        "type": "text",
        "text": "A constructor method begins with the keyword public, followed by the name of the class and a pair of parentheses. If there are any parameters you want to pass in as you set up an object, you place those inside the parentheses. We want to assign each bubble its x, y, and size values when it is created, so the constructor for the Bubble class looks like Listing 9-2. ",
        "bbox": [
            232,
            355,
            898,
            445
        ],
        "page_idx": 225
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "private class Bubble {\n    private int x;\n    private int y;\n    private int size;\n    private Color color;\npublic Bubble(int newX, int newY, int Size) {\n        x = newX;\n        y = newY;\n        size = Size;\n} ",
        "guess_lang": "java",
        "bbox": [
            263,
            460,
            712,
            638
        ],
        "page_idx": 225
    },
    {
        "type": "text",
        "text": "Listing 9-2: The Bubble class constructor ",
        "bbox": [
            232,
            653,
            527,
            669
        ],
        "page_idx": 225
    },
    {
        "type": "text",
        "text": "Each bubble’s coordinates and size will be determined by the user, so we want to pass the x- and y-coordinates and a size as integer values to the Bubble() constructor as each new bubble is created. These values are the three parameters we pass to the Bubble() method and are called newX, newY, and newSize u. Later in the code, when we handle the user creating bubbles, we’ll be outside the private Bubble class. That means we won’t have direct access to the bubble’s attributes, so we can’t just assign values to the x, y, and size attributes of each bubble. In order to get around that, we assign the attributes values through the Bubble() constructor, which takes the input from the user; assigns the input values to newX, newY, and newSize; and then assigns the user input values to the bubble’s attributes at v, w, and $\\bullet$ . ",
        "bbox": [
            230,
            678,
            884,
            876
        ],
        "page_idx": 225
    },
    {
        "type": "text",
        "text": "We also want each bubble to have a random color. Because the color will be random, we don’t need to pass it to the constructor using a parameter. Instead, we can create the color inside the constructor. ",
        "bbox": [
            232,
            878,
            890,
            932
        ],
        "page_idx": 225
    },
    {
        "type": "page_number",
        "text": "202 ",
        "bbox": [
            91,
            950,
            123,
            963
        ],
        "page_idx": 225
    },
    {
        "type": "footer",
        "text": "Chapter 9 ",
        "bbox": [
            144,
            951,
            202,
            966
        ],
        "page_idx": 225
    },
    {
        "type": "text",
        "text": "We’ll need to generate random RGB color values to create a color for each bubble. RGB works by combining different amounts of red, green, and blue light on your computer monitor to produce different colors. In programming, each of these three colors is represented by an integer between 0 (none of the color) and 255 (the maximum amount of the color possible). To make a color, we need to get three integers between 0 and 255, separate them with commas, and group them together between parentheses. For example, pure red has an RGB value of (255, 0, 0), meaning full red, no green, and no blue. Yellow is (255, 255, 0) in RGB, meaning full amounts of red and green, but no blue. In total, there are over 16 million RGB color values that can be created this way. ",
        "bbox": [
            236,
            63,
            906,
            259
        ],
        "page_idx": 226
    },
    {
        "type": "text",
        "text": "We’ve generated random numbers with the Math class’s Math.random() method before when we needed a single number, but in the BubbleDraw app, we’ll need three random numbers (one for each part of RGB), so let’s look at a new way to generate random values. ",
        "bbox": [
            236,
            261,
            890,
            331
        ],
        "page_idx": 226
    },
    {
        "type": "text",
        "text": "The java.util.Random class contains several useful methods, including nextInt(), which will let us instantly generate a random integer up to a certain size without having to do additional math or rounding. To use the Random class, we’ll have to import it first, at the top of the BubblePanel.java file: ",
        "bbox": [
            236,
            333,
            902,
            408
        ],
        "page_idx": 226
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "import java.util.Random;  \nimport java.awt.Color;  \nimport javax.swing.JPanel;",
        "guess_lang": "txt",
        "bbox": [
            238,
            421,
            462,
            471
        ],
        "page_idx": 226
    },
    {
        "type": "text",
        "text": "Because Random is a class, we need to create a new object or variable of the Random type to access its functions. Add the following line inside the top of the BubblePanel class: ",
        "bbox": [
            236,
            489,
            894,
            542
        ],
        "page_idx": 226
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "import java.util.Random;   \nimport java.awt.Color;   \nimport javax.swing.JPanel;   \npublic class BubblePanel extends JPanel { Random rand $=$ new Random(); private class Bubble{ ",
        "bbox": [
            238,
            558,
            591,
            657
        ],
        "page_idx": 226
    },
    {
        "type": "text",
        "text": "This line creates a random number generator called rand that will allow us to generate random integer or floating-point values quickly. We’re encapsulating rand by putting it at the top of the BubblePanel class so that we can generate random numbers both in the drawing window and in the inner Bubble class, but not outside a BubblePanel. ",
        "bbox": [
            236,
            672,
            906,
            762
        ],
        "page_idx": 226
    },
    {
        "type": "text",
        "text": "To create a random color in Java, we can use the constructor for the java.awt.Color class that we imported earlier. The constructor will accept three integer arguments between 0 and 255 for the red, green, and blue values to create a color. ",
        "bbox": [
            236,
            762,
            884,
            834
        ],
        "page_idx": 226
    },
    {
        "type": "text",
        "text": "Add the following code to the Bubble() constructor method: ",
        "bbox": [
            273,
            836,
            795,
            854
        ],
        "page_idx": 226
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public Bubble(int newX, int newY, int Size) {  \n    x = newX;  \n    y = newY; ",
        "guess_lang": "txt",
        "bbox": [
            305,
            869,
            716,
            918
        ],
        "page_idx": 226
    },
    {
        "type": "footer",
        "text": "Paint Colorful Bubbles with Your Mouse! ",
        "bbox": [
            630,
            951,
            849,
            965
        ],
        "page_idx": 226
    },
    {
        "type": "page_number",
        "text": "203 ",
        "bbox": [
            875,
            948,
            906,
            965
        ],
        "page_idx": 226
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "size $=$ newVal; color $=$ newColor( rand.nextInt(256), rand.nextInt(256), rand.nextInt(256));   \n} ",
        "bbox": [
            301,
            64,
            650,
            142
        ],
        "page_idx": 227
    },
    {
        "type": "text",
        "text": "We use the new keyword with the constructor for the Color class to create a new color, and each of the RGB color values will be a randomly generated integer between 0 and 255. Every time you call the nextInt() method, it generates a new random integer between 0 and the maximum integer you pass it. Here, we want random color values from 0 to 255, so we pass it 256 because nextInt() generates an integer up to, but not including, the upper bound passed to it. ",
        "bbox": [
            230,
            162,
            880,
            289
        ],
        "page_idx": 227
    },
    {
        "type": "text",
        "text": "Coding the Method to Draw a Bubble ",
        "text_level": 1,
        "bbox": [
            232,
            309,
            505,
            328
        ],
        "page_idx": 227
    },
    {
        "type": "text",
        "text": "Now that each bubble has an (x, y) location, a size, and a random color, let’s add the ability to draw bubbles on the screen. To draw colorful graphics on the screen, we’ll import the java.awt.Graphics class. This Graphics class contains methods such as setColor() to choose a paint color, drawRect() to draw a rectangle, and fillOval() to paint a filled-in oval on the screen, just to name a few. We’ll use fillOval() to draw our circles, so add the following import statement to the top of the BubblePanel.java file: ",
        "bbox": [
            230,
            334,
            890,
            460
        ],
        "page_idx": 227
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "import java.awt.Graphics;\nimport java.util.Random;\nimport java.awt.Color;\nimport javax.swing.JPanel;",
        "guess_lang": "java",
        "bbox": [
            234,
            477,
            456,
            542
        ],
        "page_idx": 227
    },
    {
        "type": "text",
        "text": "Next, let’s add a draw() method to the Bubble inner class, below the Bubble() constructor: ",
        "bbox": [
            232,
            558,
            847,
            594
        ],
        "page_idx": 227
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "private class Bubble {\n    private int x;\n    private int y;\n    private int size;\n    private Color color;\n    public Bubble(int newX, int newY, int/newSize) {\n        --snip--\n    }\n    public void draw(Graphics canvas) {\n        ① canvas.setColor(color);\n        ② canvas.FillOval(x - size/2, y - size/2, size, size);\n    }\n} ",
        "guess_lang": "java",
        "bbox": [
            265,
            611,
            801,
            819
        ],
        "page_idx": 227
    },
    {
        "type": "text",
        "text": "The draw() method accepts one parameter, a Graphics canvas called canvas. Inside the draw() method, we call the setColor() method on canvas $\\bullet$ to set the drawing color to the color stored in the color variable of the bubble we’ll draw. At v, we call fillOval() to paint a filled-in circle on the screen. The fillOval() method takes four parameters, the x- and y-coordinate of ",
        "bbox": [
            230,
            836,
            898,
            927
        ],
        "page_idx": 227
    },
    {
        "type": "page_number",
        "text": "204 ",
        "bbox": [
            91,
            950,
            123,
            963
        ],
        "page_idx": 227
    },
    {
        "type": "footer",
        "text": "Chapter 9 ",
        "bbox": [
            144,
            951,
            202,
            965
        ],
        "page_idx": 227
    },
    {
        "type": "text",
        "text": "the upper-left corner of a bounding box in which we’ll draw the oval, followed by the width and height of the box. Think of the bounding box as an invisible rectangle at that (x, y) location with the given width and height and the oval as a balloon that will be blown up until it touches all four sides of the box (see Figure 9-2). By setting the same width and height for the box to make it square, we’ll end up with a circle instead of an oval. ",
        "bbox": [
            236,
            63,
            555,
            295
        ],
        "page_idx": 228
    },
    {
        "type": "text",
        "text": "Because our ovals are actually circles, the width and height are the same value—the size of the bubble in pixels we stored in the size attribute. At v, we want the bubble to ",
        "bbox": [
            236,
            298,
            559,
            385
        ],
        "page_idx": 228
    },
    {
        "type": "image",
        "img_path": "images/3a8ef2763e7813133bfff2bdf3c9ed75a40e144e309d9ab1d6cbee20badda01b.jpg",
        "image_caption": [
            "Figure 9-2: The fillOval() method takes four parameters, the upper-left corner’s xand y-coordinates, followed by the oval’s width and height. "
        ],
        "image_footnote": [],
        "bbox": [
            589,
            64,
            910,
            289
        ],
        "page_idx": 228
    },
    {
        "type": "text",
        "text": "be centered on the (x, y) location the user clicked, so we adjust the upperleft corner of each bubble by subtracting half the size (size/2) from each of the x and y values. ",
        "bbox": [
            236,
            387,
            898,
            439
        ],
        "page_idx": 228
    },
    {
        "type": "text",
        "text": "With the addition of the draw() method, we now have a complete Bubble class that can remember the location, size, and color of a bubble. The class methods we made can be used to create new bubbles and draw them on the screen. It’s time to add logic to the BubblePanel class to use those methods to create and draw bubbles whenever the user clicks and drags on the screen. ",
        "bbox": [
            236,
            442,
            896,
            531
        ],
        "page_idx": 228
    },
    {
        "type": "text",
        "text": "Storing Bubbles in an ArrayList ",
        "text_level": 1,
        "bbox": [
            130,
            563,
            523,
            587
        ],
        "page_idx": 228
    },
    {
        "type": "text",
        "text": "We need a way to store all the bubbles the user creates when they click and drag around the screen. Java’s libraries contain several useful data structures, which are classes for storing groups of objects. ",
        "bbox": [
            236,
            594,
            902,
            648
        ],
        "page_idx": 228
    },
    {
        "type": "text",
        "text": "The java.util.ArrayList is a dynamic data structure. That means it not only stores a collection of objects but can also grow or shrink depending on the needs of the program. For the BubbleDraw app, we can’t predict how many bubbles the user will draw, so a dynamic data structure like an ArrayList is the perfect option for storing all the bubbles a user could create. An ArrayList is a flexible way to store things when you don’t know how many items you’ll need in advance. A regular array in Java has a fixed size, but an ArrayList can keep adding new bubbles every time the user clicks. ",
        "bbox": [
            236,
            648,
            904,
            792
        ],
        "page_idx": 228
    },
    {
        "type": "text",
        "text": "First, let’s import java.util.ArrayList at the top of the BubblePanel.java file so we can access ArrayList data types: ",
        "bbox": [
            236,
            792,
            884,
            830
        ],
        "page_idx": 228
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "import java.util.ArrayList;  \nimport java.awt.Graphics;  \nimport java.util.Random;  \nimport java.awt.Color;  \nimport javax.swing.JPanel;",
        "guess_lang": "java",
        "bbox": [
            238,
            845,
            472,
            926
        ],
        "page_idx": 228
    },
    {
        "type": "footer",
        "text": "Paint Colorful Bubbles with Your Mouse! ",
        "bbox": [
            630,
            951,
            849,
            963
        ],
        "page_idx": 228
    },
    {
        "type": "page_number",
        "text": "205 ",
        "bbox": [
            875,
            948,
            906,
            963
        ],
        "page_idx": 228
    },
    {
        "type": "text",
        "text": "Next, we need to declare an ArrayList that will hold objects of the Bubble class. Inside the BubblePanel class, add the following declaration: ",
        "bbox": [
            232,
            64,
            898,
            102
        ],
        "page_idx": 229
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public class BubblePanel extends JPanel {\n    Random rand = new Random();\n    ArrayList<Bubble> bubbleList;\n} ",
        "guess_lang": "java",
        "bbox": [
            232,
            115,
            585,
            166
        ],
        "page_idx": 229
    },
    {
        "type": "text",
        "text": "The ArrayList data structure can accept a type specifier inside the angle brackets, < and >, to tell Java what type of objects the ArrayList will hold. An ArrayList can hold any type of object, but the ArrayList we’re declaring, bubbleList, will contain only objects of the Bubble class. ",
        "bbox": [
            230,
            184,
            896,
            255
        ],
        "page_idx": 229
    },
    {
        "type": "text",
        "text": "Next, let’s take care of one additional variable, size, for the default bubble size: ",
        "bbox": [
            230,
            255,
            853,
            289
        ],
        "page_idx": 229
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public class BubblePanel extends JPanel {\n    Random rand = new Random();\n    ArrayList<Bubble> bubbleList;\n    int size = 25; ",
        "guess_lang": "java",
        "bbox": [
            232,
            307,
            585,
            373
        ],
        "page_idx": 229
    },
    {
        "type": "text",
        "text": "This size variable sets a starting size for bubble diameters in pixels. I picked 25 pixels, but you can choose a larger or smaller starting size if you’d like. ",
        "bbox": [
            230,
            390,
            873,
            445
        ],
        "page_idx": 229
    },
    {
        "type": "text",
        "text": "Adding a Constructor to the BubblePanel Class ",
        "text_level": 1,
        "bbox": [
            232,
            459,
            634,
            480
        ],
        "page_idx": 229
    },
    {
        "type": "text",
        "text": "We’ve declared bubbleList to be a dynamic ArrayList of Bubble objects, so let’s add a constructor to the BubblePanel class to initialize bubbleList and set the background color of the drawing window. ",
        "bbox": [
            230,
            486,
            896,
            540
        ],
        "page_idx": 229
    },
    {
        "type": "text",
        "text": "Just as we saw in the Bubble inner class, the constructor for the BubblePanel class uses the format public plus the name of the class, followed by a pair of parentheses: ",
        "bbox": [
            230,
            540,
            894,
            594
        ],
        "page_idx": 229
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public class BubblePanel extends JPanel {\n    Random rand = new Random();\n    ArrayList<Bubble> bubbleList;\n    int size = 25;\n    public BubblePanel() {\n        }\n    } ",
        "guess_lang": "java",
        "bbox": [
            232,
            609,
            585,
            708
        ],
        "page_idx": 229
    },
    {
        "type": "text",
        "text": "Notice that we end the constructor with open and close parentheses, because the constructor is a method. Inside the constructor, we initialize bubbleList to get it ready to store a flexible ArrayList of Bubble objects. We also set the background color of the drawing window to black: ",
        "bbox": [
            230,
            725,
            871,
            798
        ],
        "page_idx": 229
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public BubblePanel() { ① bubbleList = new ArrayList<Bubble>(); ② setBackground(Color.BLACK); } ",
        "guess_lang": "txt",
        "bbox": [
            265,
            813,
            615,
            879
        ],
        "page_idx": 229
    },
    {
        "type": "text",
        "text": "No t e ",
        "text_level": 1,
        "bbox": [
            150,
            902,
            202,
            915
        ],
        "page_idx": 229
    },
    {
        "type": "text",
        "text": "Although I recommend a black background for the app, the images in this book show a white background for readability. ",
        "bbox": [
            232,
            899,
            888,
            936
        ],
        "page_idx": 229
    },
    {
        "type": "page_number",
        "text": "206 ",
        "bbox": [
            91,
            950,
            121,
            963
        ],
        "page_idx": 229
    },
    {
        "type": "footer",
        "text": "Chapter 9 ",
        "bbox": [
            144,
            951,
            202,
            966
        ],
        "page_idx": 229
    },
    {
        "type": "text",
        "text": "Just as in the declaration of bubbleList, when we construct a new ArrayList at $\\bullet$ , we can specify the type of object we want to store in angle brackets: <Bubble>. ",
        "bbox": [
            236,
            63,
            873,
            115
        ],
        "page_idx": 230
    },
    {
        "type": "text",
        "text": "At $\\bullet$ , we can use the setBackground() method directly because BubblePanel is extending JPanel, and we’ve seen that JPanel objects have a background color. We’re setting the background to the color constant Color.BLACK from the Color class we imported earlier. This constant has an RGB value of (0, 0, 0). ",
        "bbox": [
            236,
            117,
            904,
            187
        ],
        "page_idx": 230
    },
    {
        "type": "text",
        "text": "Now, when we start the BubbleDraw app and create a BubblePanel drawing canvas, we’ll begin with an empty list of bubbles and a black screen background. ",
        "bbox": [
            236,
            189,
            892,
            241
        ],
        "page_idx": 230
    },
    {
        "type": "text",
        "text": "Save your changes so far. In the next section, we’ll fill that window with colorful bubbles! ",
        "bbox": [
            236,
            243,
            896,
            277
        ],
        "page_idx": 230
    },
    {
        "type": "text",
        "text": "Adding a Method to Draw on the Screen ",
        "text_level": 1,
        "bbox": [
            238,
            295,
            589,
            316
        ],
        "page_idx": 230
    },
    {
        "type": "text",
        "text": "Next, we need to add a method to paint all the bubbles in bubbleList to the drawing screen. ",
        "bbox": [
            236,
            322,
            888,
            358
        ],
        "page_idx": 230
    },
    {
        "type": "text",
        "text": "All of the GUI components in the javax.swing toolkit, including the JPanel we extended for the BubblePanel drawing screen, have a paintComponent() method that draws that component on the screen. We’re going to modify, or override, the default paintComponent() method to make the BubblePanel draw all the bubbles in bubbleList. ",
        "bbox": [
            236,
            358,
            896,
            445
        ],
        "page_idx": 230
    },
    {
        "type": "text",
        "text": "First, we need to declare the paintComponent() method. Because we’re overriding the paintComponent() method that already exists in JPanel, the parent class of BubblePanel, we have to use the same method signature, or first line of code. That means we have to match the way paintComponent() is declared exactly, as a public void method, with one parameter, of type Graphics: ",
        "bbox": [
            236,
            448,
            900,
            540
        ],
        "page_idx": 230
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public class BubblePanel extends JPanel {\n    --snip--\n} public void paintComponent(Graphics canvas) {\n} ",
        "guess_lang": "swift",
        "bbox": [
            238,
            554,
            658,
            638
        ],
        "page_idx": 230
    },
    {
        "type": "text",
        "text": "We place the paintComponent() method just below the BubblePanel() constructor. Notice that paintComponent() requires a Graphics object, which we call canvas just as in the draw() method we designed for the Bubble class. Any object that draws on the screen can use a Graphics object to color the individual pixels on the computer screen. ",
        "bbox": [
            236,
            654,
            894,
            743
        ],
        "page_idx": 230
    },
    {
        "type": "text",
        "text": "Inside this method, we first want to allow the JPanel parent class to clear the drawing screen and do any other setup it normally would before drawing anything else. We do this by calling paintComponent() from the parent class: ",
        "bbox": [
            236,
            744,
            896,
            798
        ],
        "page_idx": 230
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public void paintComponent(Graphics canvas) { superpaintComponent(canvas); } ",
        "guess_lang": "txt",
        "bbox": [
            271,
            813,
            658,
            863
        ],
        "page_idx": 230
    },
    {
        "type": "text",
        "text": "The keyword super tells Java to call the original paintComponent() method from JPanel. This means that all the code in the original paintComponent() method will be pulled into our new one. This is a useful object-oriented ",
        "bbox": [
            236,
            881,
            888,
            936
        ],
        "page_idx": 230
    },
    {
        "type": "footer",
        "text": "Paint Colorful Bubbles with Your Mouse! ",
        "bbox": [
            630,
            951,
            849,
            965
        ],
        "page_idx": 230
    },
    {
        "type": "page_number",
        "text": "207 ",
        "bbox": [
            875,
            948,
            904,
            963
        ],
        "page_idx": 230
    },
    {
        "type": "text",
        "text": "programming feature: because we extended the JPanel class to create the new BubblePanel class, we can take advantage of all the functionality already built into JPanel, such as clearing the pixels inside the window when the app opens and preparing the Graphics canvas for drawing colorful graphics. We say that BubblePanel inherits these functions from JPanel. ",
        "bbox": [
            230,
            64,
            886,
            153
        ],
        "page_idx": 231
    },
    {
        "type": "text",
        "text": "Once we’ve prepared the canvas, it’s time to loop through the list of bubbles and draw each one on canvas. To accomplish this, we’ll use a for loop in a new way. ",
        "bbox": [
            230,
            154,
            865,
            208
        ],
        "page_idx": 231
    },
    {
        "type": "text",
        "text": "You first saw a for loop in Chapter 6, when we wanted to loop through each character in a string to encode secret messages. This time, we’re using a shorter version of a for loop, called a for each statement, that’s specially designed to loop through a list or collection of objects. ",
        "bbox": [
            230,
            208,
            894,
            280
        ],
        "page_idx": 231
    },
    {
        "type": "text",
        "text": "Let’s see the working code first, and then I’ll break down the for each statement piece by piece: ",
        "bbox": [
            230,
            280,
            878,
            316
        ],
        "page_idx": 231
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public void paintComponent(Graphics canvas) { superpaintComponent(canvas); 1 for(Bubble b :bubbleList){ 2 b.draw(canvas); }   \n} ",
        "guess_lang": "txt",
        "bbox": [
            265,
            331,
            654,
            429
        ],
        "page_idx": 231
    },
    {
        "type": "text",
        "text": "You can read the for each statement at $\\bullet$ as “For each Bubble b in bubbleList.” You can tell this is a for each statement instead of a regular for loop, first because of the colon in the middle and, second, because it doesn’t have the three parts we saw in for loops back in Chapter 6: initialization, condition, and update. Java uses the same keyword for and parentheses for both loops, but the for each statement is designed just for collections of objects, such as arrays, ArrayLists, and so on. ",
        "bbox": [
            230,
            447,
            888,
            572
        ],
        "page_idx": 231
    },
    {
        "type": "text",
        "text": "For each Bubble b in the ArrayList bubbleList, the loop will call b.draw(canvas) $\\bullet$ to draw that individual bubble on the drawing screen. The first time the loop executes, b will point to the first Bubble object in bubbleList, and each time the loop repeats, b will point to the next bubble in the list. Calling b.draw(canvas) tells that bubble to draw itself on the canvas. ",
        "bbox": [
            230,
            573,
            888,
            678
        ],
        "page_idx": 231
    },
    {
        "type": "text",
        "text": "This single, short for each loop will draw every bubble in the bubbleList to the screen. The only problem is that we don’t have any bubbles to test. Let’s generate some random bubbles to see the app in action before we move on to creating bubbles with the mouse. ",
        "bbox": [
            230,
            681,
            886,
            753
        ],
        "page_idx": 231
    },
    {
        "type": "text",
        "text": "Testing the BubblePanel Class ",
        "text_level": 1,
        "bbox": [
            234,
            771,
            492,
            795
        ],
        "page_idx": 231
    },
    {
        "type": "text",
        "text": "To test what we’ve done so far, before we add the mouse interaction, we’ll write a test method that draws 100 bubbles of random sizes all over the app window. This will allow us to make sure the app works without writing the final code. This way we can debug any errors in our code early and see a preview of how cool the app will look when it’s finished. ",
        "bbox": [
            230,
            798,
            890,
            890
        ],
        "page_idx": 231
    },
    {
        "type": "text",
        "text": "Call the new method testBubbles(). Place it after the paintComponent() method and before the private class Bubble, as shown in Listing 9-3. ",
        "bbox": [
            230,
            890,
            851,
            926
        ],
        "page_idx": 231
    },
    {
        "type": "page_number",
        "text": "208 ",
        "bbox": [
            91,
            950,
            123,
            963
        ],
        "page_idx": 231
    },
    {
        "type": "footer",
        "text": "Chapter 9 ",
        "bbox": [
            144,
            951,
            202,
            966
        ],
        "page_idx": 231
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "public void paintComponent( Graphics canvas) { --snip-- }   \npublic void testBubbles() { for(int $\\mathsf{n} = 0$ n $<  100$ n++) { int $\\mathbf{x} =$ rand.nextInt(600); int $\\mathbf{y} =$ rand.nextInt(400); int size $=$ rand.nextInt(50); bubbleList.add(new Bubble(x,y,size)); } repaint(); private class Bubble { ",
        "bbox": [
            250,
            70,
            690,
            295
        ],
        "page_idx": 232
    },
    {
        "type": "text",
        "text": "Listing 9-3: Creating the testBubbles() method ",
        "text_level": 1,
        "bbox": [
            238,
            310,
            589,
            328
        ],
        "page_idx": 232
    },
    {
        "type": "text",
        "text": "At $\\bullet$ , we declare testBubbles() as public with void as the return type, meaning it doesn’t pass any information back to the program. Then, we use a regular for loop $\\otimes$ to go from ${ \\textsf { n } } = { \\textsf { 0 } }$ to 99, a total of 100 iterations. That means we’ll create 100 bubbles, and for each bubble, we need an (x, y) location and a size for its width and height in pixels. ",
        "bbox": [
            236,
            337,
            906,
            427
        ],
        "page_idx": 232
    },
    {
        "type": "text",
        "text": "We set the pixel dimensions of the BubbleDraw app frame to 600 wide by 400 tall at the beginning of this chapter, so for the bubble’s location, we need an x value between 0 and 600 and a y value between 0 and 400. Inside the for loop, we use the random number generator rand to get a random integer between 0 and 600 and store it in the variable $\\times \\mathbf { \\odot }$ for the x-coordinate of the center of the bubble on the screen. Then, we generate a y-coordinate value between 0 and 400 and store it in y x. Next, for the size of the bubble in pixels, we generate a random number between 0 and $5 0 \\ \\oplus$ . The last step inside the loop creates a new Bubble object using the random x, y, and size that we just generated, and we add that new Bubble to the ArrayList bubbleList z. ",
        "bbox": [
            236,
            429,
            898,
            624
        ],
        "page_idx": 232
    },
    {
        "type": "text",
        "text": "Finally, we call the repaint() method {. Normally before we draw new computer graphics, we have to clear the screen by drawing an empty, black background, but here repaint() does this for us. Notice that we didn’t have to clear the background of the screen inside the paintComponent() method either; all we had to do was draw the bubbles from bubbleList. The repaint() method takes care of redrawing the background as well as calling paintComponent(), so we’ll call it anytime we want to refresh or repaint the screen. ",
        "bbox": [
            236,
            626,
            898,
            752
        ],
        "page_idx": 232
    },
    {
        "type": "text",
        "text": "There’s just one more step to complete before we can test the app—we need to call the testBubbles() method from the BubblePanel() constructor. Add the following line of code to your constructor for the BubblePanel: ",
        "bbox": [
            236,
            753,
            894,
            807
        ],
        "page_idx": 232
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public BubblePanel() { bubbleList = new ArrayList<Bubble>(); setBackground(Color.BLACK); testBubbles(); } ",
        "guess_lang": "java",
        "bbox": [
            271,
            821,
            625,
            902
        ],
        "page_idx": 232
    },
    {
        "type": "footer",
        "text": "Paint Colorful Bubbles with Your Mouse! ",
        "bbox": [
            630,
            951,
            849,
            965
        ],
        "page_idx": 232
    },
    {
        "type": "page_number",
        "text": "209 ",
        "bbox": [
            875,
            950,
            906,
            963
        ],
        "page_idx": 232
    },
    {
        "type": "text",
        "text": "Save BubblePanel.java and then switch to the BubbleDraw.java tab. Save that file and press the run button in Eclipse. You’ll need to run the file from the BubbleDraw.java tab the first time you compile and run, because BubbleDraw contains the main() method that runs the program. You should see a window full of colorful, randomly placed bubbles, similar to Figure 9-3. ",
        "bbox": [
            236,
            61,
            902,
            151
        ],
        "page_idx": 233
    },
    {
        "type": "image",
        "img_path": "images/2621dd7476d834c96134b69d61ffff522490a475452d171809af72f4067915b2.jpg",
        "image_caption": [
            "Figure 9-3: Each time you run this version of the BubbleDraw app, the testBubbles() method will draw 100 bubbles on the screen. "
        ],
        "image_footnote": [],
        "bbox": [
            232,
            166,
            795,
            451
        ],
        "page_idx": 233
    },
    {
        "type": "text",
        "text": "If you like the look of the random bubbles, take a little time to play with the numbers in the testBubbles() method. See if you can draw 200, 500, or even 1,000 bubbles instead of 100. Make the bubbles larger, either by generating a larger random number for size or by adding a value to size after the random number is generated. Play with the x and y values to see if you can fit every bubble on the screen instead of having some bubbles cut off at the edges. ",
        "bbox": [
            236,
            513,
            894,
            639
        ],
        "page_idx": 233
    },
    {
        "type": "text",
        "text": "Modify the testBubbles() method as much as you’d like; this is a great opportunity to try new things and immediately see the visual effect of each change. We’ll comment out the testBubbles() method in the next section as we add mouse interaction, so you can feel free to experiment with testBubbles() without fear of messing up the rest of the program. ",
        "bbox": [
            236,
            642,
            876,
            731
        ],
        "page_idx": 233
    },
    {
        "type": "text",
        "text": "Handling Mouse Events from the User ",
        "text_level": 1,
        "bbox": [
            130,
            762,
            597,
            783
        ],
        "page_idx": 233
    },
    {
        "type": "text",
        "text": "The goal of the BubbleDraw app is to allow the user to draw bubbles using their mouse. We saw in the last section that the bubble-drawing part is working. Now all we have to do is add the mouse interaction. ",
        "bbox": [
            236,
            792,
            886,
            846
        ],
        "page_idx": 233
    },
    {
        "type": "text",
        "text": "We’ll use event listeners to give the app the ability to handle mouse clicks, mouse movement, and even mouse wheel scrolling. We added event listeners to our GUI apps in Chapters 3 and 7 using anonymous inner classes to handle button clicks, sliders, and text field changes; but if we ",
        "bbox": [
            236,
            849,
            886,
            920
        ],
        "page_idx": 233
    },
    {
        "type": "page_number",
        "text": "210 ",
        "bbox": [
            91,
            950,
            119,
            963
        ],
        "page_idx": 233
    },
    {
        "type": "footer",
        "text": "Chapter 9 ",
        "bbox": [
            142,
            954,
            200,
            965
        ],
        "page_idx": 233
    },
    {
        "type": "text",
        "text": "used anonymous inner classes in this app, we would need to make three separate listeners for each type of event, and that would be hard to keep track of. Plus, in two of those events, clicking and dragging the mouse, we want the result to be the same: the app should add bubbles each time the user clicks the mouse on the screen and whenever the user drags the mouse across the screen. It would be much easier to just have one block of code we could attach to both events than to write a listener for one event and copy and paste the code to another. So, to make the app more manageable, we’re going to create a single, named event listener that can respond to all three types of events. ",
        "bbox": [
            236,
            63,
            894,
            244
        ],
        "page_idx": 234
    },
    {
        "type": "text",
        "text": "Creating a Reusable Event Listener ",
        "text_level": 1,
        "bbox": [
            238,
            262,
            541,
            285
        ],
        "page_idx": 234
    },
    {
        "type": "text",
        "text": "Before we can create our event listener, we need to import one additional library, java.awt.event.*, at the top of the BubblePanel.java file: ",
        "bbox": [
            236,
            289,
            884,
            327
        ],
        "page_idx": 234
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "import java.awt.event.*;  \nimport java.util.ArrayList;  \nimport java.awt.Graphics;  \nimport java.awt.Color;  \nimport javax.swing.JPanel;",
        "guess_lang": "txt",
        "bbox": [
            238,
            342,
            472,
            439
        ],
        "page_idx": 234
    },
    {
        "type": "text",
        "text": "Our previous import statements have brought in only one class at a time, but this statement brings in every class in the java.awt.event library. The wildcard character, the asterisk $( ^ { * } )$ , means that we want to bring in all the classes at the top level of java.awt.event, including all the mouse events and listeners, and much more. We could import each class individually as we use it, but importing java.awt.event.* will make the program much easier to write, allowing us to focus on coding instead of switching back and forth to the top of the file every time we need to use another event class. ",
        "bbox": [
            236,
            456,
            902,
            600
        ],
        "page_idx": 234
    },
    {
        "type": "text",
        "text": "Next, let’s start coding the private, named inner class to listen for mouse events. We’ll name it BubbleListener, as it will handle all the events related to bubbles in the BubblePanel class. Add this class below your testBubbles() method but above the private class Bubble. Java programmers usually include listener classes near the bottom of the class file, along with any other helper classes—this convention just helps us quickly find the listener code for debugging or modifying the file. ",
        "bbox": [
            236,
            600,
            906,
            728
        ],
        "page_idx": 234
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "repaint();\n}\nprivate class BubbleListener extends MouseAdapter {\n} ",
        "guess_lang": "java",
        "bbox": [
            271,
            741,
            710,
            822
        ],
        "page_idx": 234
    },
    {
        "type": "text",
        "text": "The BubbleListener class extends MouseAdapter, which processes mouse events. Just as when we used the extends keyword to build a new type of JFrame that inherited all the features and functions of its parent class, the BubbleListener will inherit all the mouse event listener features of the MouseAdapter class. This adapter class includes the ability to handle ",
        "bbox": [
            236,
            842,
            875,
            932
        ],
        "page_idx": 234
    },
    {
        "type": "footer",
        "text": "Paint Colorful Bubbles with Your Mouse! ",
        "bbox": [
            632,
            951,
            851,
            965
        ],
        "page_idx": 234
    },
    {
        "type": "page_number",
        "text": "211 ",
        "bbox": [
            876,
            948,
            904,
            965
        ],
        "page_idx": 234
    },
    {
        "type": "text",
        "text": "MouseListener events for clicks, MouseMotionListener events for mouse movement, and MouseWheelListener events for scrolling with the mouse wheel or trackpad. ",
        "bbox": [
            230,
            64,
            869,
            117
        ],
        "page_idx": 235
    },
    {
        "type": "text",
        "text": "We’ll add these event handlers to the code step-by-step, and we’ll test the app after each addition to see the BubbleDraw app emerge one feature at a time. ",
        "bbox": [
            230,
            118,
            886,
            171
        ],
        "page_idx": 235
    },
    {
        "type": "text",
        "text": "Handling Clicks and Drags ",
        "text_level": 1,
        "bbox": [
            232,
            190,
            462,
            214
        ],
        "page_idx": 235
    },
    {
        "type": "text",
        "text": "When we handle mouse events, we need to complete two steps. First, we have to add code to the BubbleListener to handle the individual event we’re after, like mousePressed(). Then, we have to add the listener to the BubblePanel() constructor so the drawing screen knows to listen for that type of event and call BubbleListener to handle the event when it happens. Let’s do this for the first case, when the user presses the mouse button to draw a bubble. ",
        "bbox": [
            230,
            219,
            888,
            325
        ],
        "page_idx": 235
    },
    {
        "type": "text",
        "text": "Listening for Mouse Button Events ",
        "text_level": 1,
        "bbox": [
            232,
            349,
            484,
            367
        ],
        "page_idx": 235
    },
    {
        "type": "text",
        "text": "There are three events that we can listen for from the mouse buttons: ",
        "bbox": [
            232,
            373,
            841,
            390
        ],
        "page_idx": 235
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "mousePressed() Occurs when the user presses any mouse button  \nmouseReleased() Occurs when the user releases the button  \nmouseClicked() Occurs when the user presses and releases in quick succession ",
        "guess_lang": "txt",
        "bbox": [
            267,
            400,
            827,
            481
        ],
        "page_idx": 235
    },
    {
        "type": "text",
        "text": "For the BubbleDraw app, we’ll use the mousePressed() handler so that the app will draw a bubble as soon as the user presses the mouse button. The signature for a mousePressed() event handler looks like the following: ",
        "bbox": [
            230,
            490,
            898,
            546
        ],
        "page_idx": 235
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "private class BubbleListener extends MouseAdapter{ public void mousePressed(MouseEvent e){ }   \n} ",
        "guess_lang": "java",
        "bbox": [
            267,
            560,
            702,
            624
        ],
        "page_idx": 235
    },
    {
        "type": "text",
        "text": "No t e ",
        "text_level": 1,
        "bbox": [
            148,
            654,
            204,
            669
        ],
        "page_idx": 235
    },
    {
        "type": "text",
        "text": "Spelling and capitalization are especially important when you’re writing event handlers because they already have built-in names with specific capitalization. Make sure your mousePressed() method matches this one exactly. ",
        "bbox": [
            230,
            653,
            896,
            707
        ],
        "page_idx": 235
    },
    {
        "type": "text",
        "text": "The mousePressed() event handler goes inside the BubbleListener class, and it must be declared as public with a void return type to match the mousePressed() method in the MouseAdapter class. Notice it also takes a parameter of type MouseEvent. All of the mouse events get information about the mouse pointer’s location on the screen when the event happened. The x- and y-coordinates of the mouse event are stored in a MouseEvent object, and we can get those coordinates with the getX() and getY() methods. ",
        "bbox": [
            230,
            725,
            876,
            869
        ],
        "page_idx": 235
    },
    {
        "type": "page_number",
        "text": "212 ",
        "bbox": [
            91,
            950,
            121,
            963
        ],
        "page_idx": 235
    },
    {
        "type": "footer",
        "text": "Chapter 9 ",
        "bbox": [
            142,
            953,
            200,
            965
        ],
        "page_idx": 235
    },
    {
        "type": "text",
        "text": "The following code adds a bubble to the bubbleList at the location where the user clicked the mouse, and then repaints the drawing screen to make the bubble appear. ",
        "bbox": [
            236,
            63,
            884,
            118
        ],
        "page_idx": 236
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "private class BubbleListener extends MouseAdapter{ public void mousePressed(MouseEvent e){ ① bubbleList.add(new Bubble(e.getX(),e.getY)，size)); ② repaint(); }   \n} ",
        "guess_lang": "java",
        "bbox": [
            271,
            132,
            791,
            229
        ],
        "page_idx": 236
    },
    {
        "type": "text",
        "text": "At $\\bullet$ , we create a new Bubble object at the $( \\mathbf { x } , \\mathbf { y } )$ location where the user clicked the mouse, e.getX() and e.getY(). The MouseEvent class has several properties and methods for working with mouse events, like finding out which button was pressed and where the mouse is on the screen. As I just mentioned, the getX() and getY() methods tell us the x- and y-coordinates of the mouse event, such as a click or drag. Look back down in the Bubble class, and you’ll see that the constructor method we wrote there required three parameters: int newX, int newY, and int newSize. So, we must pass e.getX(), e.getY(), and size to the constructor to create a new Bubble object. Once the bubble is created, we add it to the ArrayList of bubbles with bubbleList.add(). ",
        "bbox": [
            236,
            247,
            902,
            427
        ],
        "page_idx": 236
    },
    {
        "type": "text",
        "text": "At $\\bullet$ , we call the repaint() method to refresh the screen and draw the updated bubbleList to the canvas. ",
        "bbox": [
            236,
            427,
            884,
            463
        ],
        "page_idx": 236
    },
    {
        "type": "text",
        "text": "This completes the mousePressed() event handler, but we still need to do one more thing to make the app listen for mousePressed() events and send them to the BubbleListener class. We have to tell the BubblePanel class to add BubbleListener as the listener for mouse events. ",
        "bbox": [
            236,
            463,
            894,
            534
        ],
        "page_idx": 236
    },
    {
        "type": "text",
        "text": "In the BubblePanel() constructor, make two changes. First, comment out the testBubbles() line by placing two forward slashes at the front of the line. Second, call the addMouseListener() command to use BubbleListener to process mouse events. The updated constructor is shown here: ",
        "bbox": [
            236,
            536,
            898,
            608
        ],
        "page_idx": 236
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public BubblePanel() { bubbleList = new ArrayList<Bubble>(); setBackground(Color.BLACK); 1 // testBubbles(); 2 addMouseListener(new BubbleListener()); } ",
        "guess_lang": "txt",
        "bbox": [
            271,
            623,
            656,
            720
        ],
        "page_idx": 236
    },
    {
        "type": "text",
        "text": "By commenting out the call to testBubbles()u, we’ve left it in place in case we want to draw random test bubbles again, but we’ve stopped it from running so that we can test the interactive BubbleDraw app using the mouse. The new line at $\\bullet$ tells the BubblePanel to listen for mouse events and to send them to the BubbleListener class when they happen. ",
        "bbox": [
            236,
            738,
            898,
            828
        ],
        "page_idx": 236
    },
    {
        "type": "text",
        "text": "With those changes in place, you should be able to run the BubbleDraw app and use the mouse button to place bubbles anywhere you click, as shown in Figure 9-4. ",
        "bbox": [
            236,
            828,
            898,
            882
        ],
        "page_idx": 236
    },
    {
        "type": "footer",
        "text": "Paint Colorful Bubbles with Your Mouse! ",
        "bbox": [
            632,
            951,
            849,
            963
        ],
        "page_idx": 236
    },
    {
        "type": "page_number",
        "text": "213 ",
        "bbox": [
            876,
            948,
            904,
            963
        ],
        "page_idx": 236
    },
    {
        "type": "image",
        "img_path": "images/1b2ca1c8ffa2e0e60912ddc86c8b919f9354d1a9a0afc05a7235dc17fca1e37a.jpg",
        "image_caption": [
            "Figure 9-4: After adding the mousePressed() handler and setting BubbleListener as the listener for mouse events in the app, you should be able to draw by clicking anywhere on the screen. "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            64,
            787,
            358
        ],
        "page_idx": 237
    },
    {
        "type": "text",
        "text": "Very cool! You can click repeatedly to draw shapes and patterns on the screen, but it would be easier to drag the mouse to draw bubbles. Let’s address that next. ",
        "bbox": [
            232,
            436,
            882,
            490
        ],
        "page_idx": 237
    },
    {
        "type": "text",
        "text": "Listening for Mouse Motion Events ",
        "text_level": 1,
        "bbox": [
            232,
            510,
            488,
            531
        ],
        "page_idx": 237
    },
    {
        "type": "text",
        "text": "Mouse motion events are a separate type of event from mouse button presses, but they can still be processed in a class that extends MouseAdapter, like BubbleListener. The two types of mouse motion events are mouseMoved() and mouseDragged(). ",
        "bbox": [
            232,
            537,
            878,
            609
        ],
        "page_idx": 237
    },
    {
        "type": "text",
        "text": "A mouseMoved() event happens anytime the mouse is moved over the drawing window. A mouseDragged() event occurs whenever the mouse is moved while a button is pressed. Since we want to draw bubbles only when the user clicks and drags the mouse, we’ll implement the mouseDragged() event handler in the BubbleListener class first, and then we’ll add a mouse motion listener to the BubblePanel constructor to activate the listener. ",
        "bbox": [
            232,
            609,
            890,
            714
        ],
        "page_idx": 237
    },
    {
        "type": "text",
        "text": "Add the mouseDragged() event handler to the BubbleListener class, as shown here: ",
        "bbox": [
            232,
            717,
            859,
            752
        ],
        "page_idx": 237
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "private class BubbleListener extends MouseAdapter{ public void mousePressed(MouseEvent e){ --snip-- } public void mouseDragged(MouseEvent e) { bubbleList.add(new Bubble(e.getX(),e.getY)，size)); repaint(); 1 ",
        "guess_lang": "java",
        "bbox": [
            263,
            768,
            787,
            912
        ],
        "page_idx": 237
    },
    {
        "type": "page_number",
        "text": "214 ",
        "bbox": [
            91,
            950,
            121,
            963
        ],
        "page_idx": 237
    },
    {
        "type": "footer",
        "text": "Chapter 9 ",
        "bbox": [
            142,
            951,
            202,
            966
        ],
        "page_idx": 237
    },
    {
        "type": "text",
        "text": "You’ll notice that the code looks almost exactly like the mousePressed() event handler, except for the name mouseDragged(). That’s because they both handle MouseEvents. The mousePressed() method handles events when the user presses a mouse button, and mouseDragged() is called whenever the user drags the mouse. In this app, both events should behave the same way, adding bubbles to bubbleList and calling the repaint() function. ",
        "bbox": [
            236,
            63,
            906,
            169
        ],
        "page_idx": 238
    },
    {
        "type": "text",
        "text": "Next, add BubbleListener as the mouse motion listener to the BubblePanel() constructor with the following statement: ",
        "bbox": [
            236,
            171,
            904,
            208
        ],
        "page_idx": 238
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public BubblePanel() { bubbleList = new ArrayList<Bubble>(); setBackground(Color.BLACK); // testBubbles(); addMouseListener(new BubbleListener()); addMouseListener(new BubbleListener()); } ",
        "guess_lang": "txt",
        "bbox": [
            271,
            223,
            708,
            334
        ],
        "page_idx": 238
    },
    {
        "type": "text",
        "text": "Once again, let’s run the app to test this new event listener. Save your code, press the run button, and click and drag around the app window that appears, as shown in Figure 9-5. ",
        "bbox": [
            236,
            354,
            902,
            409
        ],
        "page_idx": 238
    },
    {
        "type": "image",
        "img_path": "images/aeff486a5b64468ea87d9092d52cc5bfa78d6b8f4648e8f02f71a1afcd43d48d.jpg",
        "image_caption": [
            "Figure 9-5: Now you can click and drag to draw continuous streams of bubbles! "
        ],
        "image_footnote": [],
        "bbox": [
            238,
            418,
            805,
            708
        ],
        "page_idx": 238
    },
    {
        "type": "text",
        "text": "Impressive, huh? Just by adding two event handlers for mouse button and mouse motion events to the BubblePanel graphics app, we’ve built an interactive, multicolored drawing app in Java. ",
        "bbox": [
            236,
            753,
            880,
            807
        ],
        "page_idx": 238
    },
    {
        "type": "text",
        "text": "Bonus: Handling MouseWheel Events ",
        "text_level": 1,
        "bbox": [
            238,
            825,
            563,
            848
        ],
        "page_idx": 238
    },
    {
        "type": "text",
        "text": "We’ve seen two small but powerful event handlers for mouse button presses and mouse click-and-drag events at work in the app so far, but there’s another event class in MouseAdapter: MouseWheelEvent. Depending on your system, you might have a physical wheel on your mouse or trackpad that you can use ",
        "bbox": [
            236,
            852,
            906,
            927
        ],
        "page_idx": 238
    },
    {
        "type": "footer",
        "text": "Paint Colorful Bubbles with Your Mouse! ",
        "bbox": [
            632,
            951,
            849,
            963
        ],
        "page_idx": 238
    },
    {
        "type": "page_number",
        "text": "215 ",
        "bbox": [
            875,
            948,
            906,
            963
        ],
        "page_idx": 238
    },
    {
        "type": "text",
        "text": "to scroll up and down in documents and web pages. Or, you might have a laptop with a trackpad that allows you to scroll using a gesture, such as the two-finger swipe gesture on a MacBook or the vertical swipe along the farright edge of the trackpad on most Windows laptops. ",
        "bbox": [
            230,
            64,
            884,
            136
        ],
        "page_idx": 239
    },
    {
        "type": "text",
        "text": "Java interprets either kind of scroll event as a MouseWheelEvent. We can add a mouseWheelMoved() listener to the BubbleListener to handle mouse wheel events or trackpad scroll gesture events on systems that provide them, as follows: ",
        "bbox": [
            230,
            136,
            888,
            205
        ],
        "page_idx": 239
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "private class BubbleListener extends MouseAdapter{ public void mousePressed(MouseEvent e){ --snip-- } public void mouseDragged(MouseEvent e) { --snip-- } ① public void mouseWheelMoved(MouseEvent e) { $\\bullet$ size $+ =$ e.getUnitsToScroll(); } ",
        "bbox": [
            265,
            223,
            712,
            399
        ],
        "page_idx": 239
    },
    {
        "type": "text",
        "text": "At $\\bullet$ , the mouseWheelMoved() method accepts a MouseWheelEvent. At $\\bullet$ , we get the number of units the mouse wheel scrolled from the MouseWheelEvent e with e.getUnitsToScroll(), and we add this amount to size. The number returned by getUnitsToScroll() can be positive or negative, depending on your operating system and whether the wheel was scrolled up or down. ",
        "bbox": [
            230,
            417,
            880,
            509
        ],
        "page_idx": 239
    },
    {
        "type": "text",
        "text": "Differenc es in Sc rolli ng Bet w e e n ",
        "text_level": 1,
        "bbox": [
            369,
            560,
            763,
            576
        ],
        "page_idx": 239
    },
    {
        "type": "text",
        "text": "Op er ating Systems ",
        "text_level": 1,
        "bbox": [
            458,
            584,
            674,
            597
        ],
        "page_idx": 239
    },
    {
        "type": "text",
        "text": "Windows, macOS, and Linux differ when it comes to scrolling. On macOS, scrolling or gesturing up returns a positive value, so the code we just wrote will increase the bubble size when the user scrolls or gestures up and shrink the size when the user scrolls down. On Windows and most Linux flavors, scrolling up with the mouse wheel moves a web page or document down instead, returning a negative number from getUnitsToScroll(). This means that scrolling up will cause the bubbles to get smaller, while scrolling down will add to the size and make them larger. ",
        "bbox": [
            269,
            609,
            859,
            753
        ],
        "page_idx": 239
    },
    {
        "type": "text",
        "text": "If you want to make your app work the same way on all three operating systems, change the code to the following: ",
        "bbox": [
            269,
            753,
            841,
            789
        ],
        "page_idx": 239
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "public void mouseWheelMoved(MouseWheelEvent e) { if(SystemGetProperty(\"os.name\").startsWith(\"Mac\")) size += e.getUnitsToScroll(); else size $- =$ e.getUnitsToScroll();   \n} ",
        "bbox": [
            333,
            804,
            775,
            897
        ],
        "page_idx": 239
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            91,
            950,
            119,
            963
        ],
        "page_idx": 239
    },
    {
        "type": "footer",
        "text": "Chapter 9 ",
        "bbox": [
            142,
            951,
            200,
            965
        ],
        "page_idx": 239
    },
    {
        "type": "text",
        "text": "The if statement gets the operating system name with System.getProperty (\"os.name\") and checks whether the name starts with the string \"Mac\". If so, we add the units scrolled to size. Otherwise, we subtract the units scrolled from size to reverse Windows and Linux scrolling to positive for up, negative for down. ",
        "bbox": [
            275,
            91,
            865,
            163
        ],
        "page_idx": 240
    },
    {
        "type": "text",
        "text": "Lastly, add the mouse wheel listener to the BubblePanel() constructor, just below the previous two listeners: ",
        "bbox": [
            234,
            214,
            873,
            252
        ],
        "page_idx": 240
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public BubblePanel() { bubbleList = new ArrayList<Bubble>(); setBackground(Color.BLACK); // testBubbles(); addMouseListener(new BubbleListener()); addMouseListener(new BubbleListener()); addMouseListener(new BubbleListener()); addMouseListener(new BubbleListener()); } ",
        "guess_lang": "txt",
        "bbox": [
            271,
            265,
            708,
            394
        ],
        "page_idx": 240
    },
    {
        "type": "text",
        "text": "Save and run the app now, and you should be able to change the bubble size by scrolling your mouse wheel or gesturing up or down on your trackpad, as shown in Figure 9-6. ",
        "bbox": [
            236,
            412,
            904,
            466
        ],
        "page_idx": 240
    },
    {
        "type": "image",
        "img_path": "images/18d4779e03750917305737c137e41ea877cb07ab2adb1ecfa7a2f4323d9d01ee.jpg",
        "image_caption": [
            "Figure 9-6: Use your mouse wheel or trackpad to change the size of the bubbles. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            478,
            805,
            767
        ],
        "page_idx": 240
    },
    {
        "type": "text",
        "text": "The first version of the BubbleDraw app is complete! You can click and drag to draw with multicolored bubbles on the screen, scroll up and down to change the bubble size, maximize the window to draw fullscreen, and more. ",
        "bbox": [
            236,
            828,
            894,
            882
        ],
        "page_idx": 240
    },
    {
        "type": "footer",
        "text": "Paint Colorful Bubbles with Your Mouse! ",
        "bbox": [
            632,
            953,
            849,
            963
        ],
        "page_idx": 240
    },
    {
        "type": "page_number",
        "text": "217 ",
        "bbox": [
            876,
            948,
            904,
            963
        ],
        "page_idx": 240
    },
    {
        "type": "text",
        "text": "What You Learned ",
        "text_level": 1,
        "bbox": [
            125,
            63,
            363,
            84
        ],
        "page_idx": 241
    },
    {
        "type": "text",
        "text": "You’ve designed a colorful, interactive drawing app though an object-oriented programming approach by creating a Bubble class to capture the features and behaviors of bubbles. ",
        "bbox": [
            230,
            94,
            871,
            147
        ],
        "page_idx": 241
    },
    {
        "type": "text",
        "text": "Here are some of the new things you’ve learned in this chapter: ",
        "bbox": [
            267,
            148,
            823,
            168
        ],
        "page_idx": 241
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Building a single app with multiple classes and multiple Java source code files ",
            "Using an object-oriented programming approach to break a problem down into smaller pieces ",
            "Building the Bubble class from scratch, including attributes, methods, and a constructor ",
            "Creating random colors using the java.util.Random and java.awt.Color classes ",
            "Generating random numbers in a given range with Random.nextInt(range) ",
            "•\t Drawing graphics with the java.awt.Graphics class ",
            "Using the paintComponent() method to describe what your app should draw and using repaint() to clear the screen and redraw ",
            "Writing event handlers for mouse events, including clicks, movement, and mouse wheel events ",
            "Using the java.util.ArrayList class to store a dynamic list of objects, such as the bubbles in BubbleDraw ",
            "Adding multiple event listeners to an app using a custom listener class, BubbleListener "
        ],
        "bbox": [
            232,
            180,
            896,
            542
        ],
        "page_idx": 241
    },
    {
        "type": "text",
        "text": "Programming Challenges ",
        "text_level": 1,
        "bbox": [
            125,
            567,
            444,
            591
        ],
        "page_idx": 241
    },
    {
        "type": "text",
        "text": "Try these programming challenge exercises to review and practice what you’ve learned, as well as to expand your programming skills. Visit the book’s website at https://www.nostarch.com/learnjava/ for sample solutions. ",
        "bbox": [
            230,
            599,
            861,
            654
        ],
        "page_idx": 241
    },
    {
        "type": "text",
        "text": "#1: No Bubble Too Small ",
        "text_level": 1,
        "bbox": [
            232,
            672,
            450,
            693
        ],
        "page_idx": 241
    },
    {
        "type": "text",
        "text": "If you scroll the mouse down enough, the bubbles will simply disappear because the size value drops below 0, resulting in a circle that Java can’t draw on the screen. In fact, a size of 2 or smaller will produce bubbles just a single pixel tall, so let’s make sure the value of size stays at least 3 pixels by 3 pixels to keep the bubbles circular. ",
        "bbox": [
            230,
            699,
            894,
            789
        ],
        "page_idx": 241
    },
    {
        "type": "text",
        "text": "Add a little logic to the mouseWheelMoved() method in the BubbleListener class in BubblePanel.java to check whether the size variable goes below a value of 3. If so, set size equal to 3 to keep the bubble visible on the screen. Add this new if statement to the end of the mouseWheelMoved() method so that you check the size after it’s changed, not before. ",
        "bbox": [
            230,
            789,
            892,
            879
        ],
        "page_idx": 241
    },
    {
        "type": "text",
        "text": "Run the app with the change, and you should be able to scroll the mouse wheel until the bubbles are just a couple of pixels wide, but they’ll no longer disappear. Great work! ",
        "bbox": [
            230,
            879,
            892,
            933
        ],
        "page_idx": 241
    },
    {
        "type": "aside_text",
        "text": "PROGRAMMING CHALLENGES ",
        "bbox": [
            35,
            64,
            57,
            259
        ],
        "page_idx": 241
    },
    {
        "type": "page_number",
        "text": "218 ",
        "bbox": [
            91,
            950,
            121,
            963
        ],
        "page_idx": 241
    },
    {
        "type": "footer",
        "text": "Chapter 9 ",
        "bbox": [
            142,
            951,
            202,
            966
        ],
        "page_idx": 241
    },
    {
        "type": "text",
        "text": "#2: PixelDraw! ",
        "text_level": 1,
        "bbox": [
            240,
            64,
            375,
            82
        ],
        "page_idx": 242
    },
    {
        "type": "text",
        "text": "Add just a little bit of math to the constructor for new Bubble() objects, and you can create a cool, pixelated effect, as shown in Figure 9-7. ",
        "bbox": [
            236,
            91,
            892,
            127
        ],
        "page_idx": 242
    },
    {
        "type": "image",
        "img_path": "images/c105873a1f7c5729ed891284101d794e4302c34609e5b43b3eee68ab34456810.jpg",
        "image_caption": [
            "Figure 9-7: Changing the location of new Bubbles slightly can create a cool pixel-drawing effect. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            138,
            803,
            426
        ],
        "page_idx": 242
    },
    {
        "type": "text",
        "text": "Let’s copy the BubbleDraw project folder to make the changes in a new project without messing up the original app. Double-click your BubblePanel .java tab to restore the default view and then, in the Package Explorer, press ctrl-C or -C to copy the BubbleDraw project folder. Press ctrl-V or $\\mathcal { E } \\mathrm { - V }$ to paste a new copy of the folder into your workspace. Change the name of the folder to PixelDraw, as shown in Figure 9-8. ",
        "bbox": [
            236,
            487,
            906,
            596
        ],
        "page_idx": 242
    },
    {
        "type": "image",
        "img_path": "images/9c2fe82694c97358b1afdd1496e0daca4ac951438768395171f9352b0c3e68ae.jpg",
        "image_caption": [
            "Figure 9-8: You can copy a project folder in the Package Explorer and paste it to create a new copy. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            606,
            894,
            825
        ],
        "page_idx": 242
    },
    {
        "type": "text",
        "text": "Change the code for the Bubble() constructor inside the private class Bubble as follows. ",
        "bbox": [
            236,
            884,
            875,
            918
        ],
        "page_idx": 242
    },
    {
        "type": "aside_text",
        "text": "PROGRAMMING CHALLENGES ",
        "bbox": [
            938,
            64,
            960,
            258
        ],
        "page_idx": 242
    },
    {
        "type": "footer",
        "text": "Paint Colorful Bubbles with Your Mouse! ",
        "bbox": [
            632,
            951,
            849,
            963
        ],
        "page_idx": 242
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            876,
            950,
            904,
            963
        ],
        "page_idx": 242
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public Bubble(int newX, int newY, int Size) {  \n    x = (newX / size) * size + size/2;  \n    y = (newY / size) * size + size/2;  \n    size = size;  \n    color = new Color( rand.nextInt(256), rand.nextInt(256), rand.nextInt(256));  \n} ",
        "guess_lang": "javascript",
        "bbox": [
            299,
            70,
            708,
            199
        ],
        "page_idx": 243
    },
    {
        "type": "text",
        "text": "This new math only alters the (x, y) location of each new bubble because of the way Java handles division of two integer values. Java keeps only the integer, or whole number, result when you divide two integers, so dividing by newSize and multiplying by newSize will make your bubbles appear to be on a grid, as you saw back in Figure 9-7. For example, if newSize is 10 and x is 25, then x divided by newSize would be 25 / 10, which evaluates to 2 in Java. Multiplying by 10 then gives us 20, the location of the bubble on a $1 0 \\times 1 0$ pixel grid. We add newSize/2 to each coordinate to center the dots within the imaginary grid. Remember, scrolling the mouse wheel still changes the size of the bubbles, so you can draw thick, blocky images or fine, pixel-perfect drawings. ",
        "bbox": [
            230,
            217,
            894,
            415
        ],
        "page_idx": 243
    },
    {
        "type": "text",
        "text": "If you’d like to make the pixel effect more Minecraft-y, you can make the bubbles into squares. To do so, change the draw() method to fill rectangles instead of ovals by commenting out the fillOval() command and using the fillRect() command instead: ",
        "bbox": [
            230,
            417,
            898,
            489
        ],
        "page_idx": 243
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public void draw(Graphics canvas) {  \n    canvas.setColor(color);  \n    // canvas.FillOval(x - size/2, y - size/2, size, size);  \n    canvas.FillRect(x - size/2, y - size/2, size, size);  \n} ",
        "guess_lang": "txt",
        "bbox": [
            299,
            504,
            803,
            584
        ],
        "page_idx": 243
    },
    {
        "type": "text",
        "text": "Now you can draw in a pixelated style, as shown in Figure 9-9. ",
        "bbox": [
            267,
            603,
            807,
            621
        ],
        "page_idx": 243
    },
    {
        "type": "image",
        "img_path": "images/99df92d15504b4f5197dd60beae1289c16ce489b4c18892fcb40372640f91db7.jpg",
        "image_caption": [
            "Figure 9-9: Drawing with rectangles instead of ovals creates a pixelated drawing effect. "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            633,
            757,
            891
        ],
        "page_idx": 243
    },
    {
        "type": "aside_text",
        "text": "eONNEHHTVHNOINWWWRrO ",
        "bbox": [
            37,
            64,
            55,
            258
        ],
        "page_idx": 243
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            91,
            950,
            121,
            963
        ],
        "page_idx": 243
    },
    {
        "type": "footer",
        "text": "Chapter 9 ",
        "bbox": [
            144,
            951,
            202,
            965
        ],
        "page_idx": 243
    },
    {
        "type": "text",
        "text": "0 ",
        "text_level": 1,
        "bbox": [
            488,
            186,
            680,
            334
        ],
        "page_idx": 244
    },
    {
        "type": "text",
        "text": "Addi ng A ni m at io n a nd Colli s io n D e t e c t io n wi t h Ti m e r s ",
        "text_level": 1,
        "bbox": [
            333,
            379,
            811,
            459
        ],
        "page_idx": 244
    },
    {
        "type": "image",
        "img_path": "images/fd8991f1dbaada4d31e22b4f1868f6da70bab765d4e803d4c07c1b5a5d56bd0d.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            162,
            475,
            359,
            627
        ],
        "page_idx": 244
    },
    {
        "type": "text",
        "text": "In this chapter, we’ll add timer-based animation to our BubbleDraw app to reate floating, bouncing bubbles, and we’ll the app with a user-friendly GUI interface. nced app, called BubbleDrawGUI, will add ntaining the GUI components shown in -1, giving the user the power to animate or bubbles, change the animation speed, and creen. ",
        "bbox": [
            367,
            572,
            882,
            813
        ],
        "page_idx": 244
    },
    {
        "type": "image",
        "img_path": "images/8a3612164e00849d6f7f01063251e0ed463aada8eca1f93d20f82dd3423c3f00.jpg",
        "image_caption": [
            "Figure 10-1: The enhanced BubbleDrawGUI app features animated, bouncing, semitransparent bubbles, with a GUI interface to control the animation. "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            64,
            797,
            379
        ],
        "page_idx": 245
    },
    {
        "type": "text",
        "text": "This version of the app is even more interactive and user-friendly than before, allowing the user to draw with floating, bouncy bubbles as they click and drag their mouse on the screen. ",
        "bbox": [
            230,
            442,
            898,
            495
        ],
        "page_idx": 245
    },
    {
        "type": "text",
        "text": "Copying the BubbleDraw Java Project to Create BubbleDrawGU I ",
        "text_level": 1,
        "bbox": [
            125,
            527,
            722,
            572
        ],
        "page_idx": 245
    },
    {
        "type": "text",
        "text": "The new GUI app will build directly on the BubbleDraw project from Chapter 9. So, instead of creating a new Java project from scratch, we’ll copy the BubbleDraw project and paste it into the same workspace with a new name. This is a useful approach anytime you want to expand and work on a newer version of a program while keeping the previous version intact. ",
        "bbox": [
            230,
            582,
            888,
            672
        ],
        "page_idx": 245
    },
    {
        "type": "text",
        "text": "In Eclipse, right-click the BubbleDraw project folder in the Package Explorer pane and select Copy. Then, right-click in the Package Explorer pane and select Paste. The Copy Project pop-up window will allow you to give the copied project a new name. Enter BubbleDrawGUI and click OK. Eclipse will create a new copy of the BubbleDraw project in the Package Explorer pane as BubbleDrawGUI. ",
        "bbox": [
            230,
            672,
            876,
            780
        ],
        "page_idx": 245
    },
    {
        "type": "text",
        "text": "Renaming the Main Class and Java File ",
        "text_level": 1,
        "bbox": [
            232,
            798,
            575,
            822
        ],
        "page_idx": 245
    },
    {
        "type": "text",
        "text": "Now let’s rename the BubbleDraw.java file. This is the file with a public static void main() method that runs the application, and renaming it will help us distinguish between the new app and the old version. Inside the new BubbleDrawGUI project folder, right-click BubbleDraw.java and select Refactor4Rename. ",
        "bbox": [
            230,
            827,
            875,
            915
        ],
        "page_idx": 245
    },
    {
        "type": "page_number",
        "text": "222 ",
        "bbox": [
            91,
            950,
            123,
            963
        ],
        "page_idx": 245
    },
    {
        "type": "footer",
        "text": "Chapter 10 ",
        "bbox": [
            144,
            951,
            210,
            966
        ],
        "page_idx": 245
    },
    {
        "type": "text",
        "text": "Refactoring means restructuring your code, but not its functionality. Usually programmers refactor when they’ve thought of a better, more efficient way of getting their code to do the same thing. When the Rename Compilation Unit window pops up, enter the new name, BubbleDrawGUI, and then click Finish. A second window may pop up, warning you that the class contains a main() method. You can ignore this warning and just click Finish a second time. The refactoring process will rename both the class and the Java file to BubbleDrawGUI. We’ll leave the BubblePanel class unchanged for now. ",
        "bbox": [
            236,
            63,
            896,
            207
        ],
        "page_idx": 246
    },
    {
        "type": "text",
        "text": "Finally, let’s modify the JFrame window’s title to match the new GUI version of the app. Open the BubbleDrawGUI.java file. Find the line that creates the JFrame and modify it to say Your Name's BubbleDraw GUI App as follows: ",
        "bbox": [
            236,
            208,
            902,
            262
        ],
        "page_idx": 246
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "import javax.swing JFrame;   \npublic class BubbleDrawGUI extends JFrame { public static void main(String[] args){ JFrame frame $=$ new JFrame(\"Your Name's BubbleDraw GUI App\"); ",
        "bbox": [
            238,
            277,
            815,
            342
        ],
        "page_idx": 246
    },
    {
        "type": "text",
        "text": "No t e ",
        "text_level": 1,
        "bbox": [
            154,
            379,
            210,
            394
        ],
        "page_idx": 246
    },
    {
        "type": "text",
        "text": "The first time you run an app containing multiple files, such as the BubblePanel and BubbleDrawGUI apps, you’ll need to run the file that contains the main() method. Running the main file will create configurations that enable you to run the program just by clicking the run button from then on. The BubblePanel class doesn’t contain a main() method, so we must either run BubbleDrawGUI.java or right-click the BubbleDrawGUI project folder and select Run As4Java Application. ",
        "bbox": [
            236,
            379,
            902,
            487
        ],
        "page_idx": 246
    },
    {
        "type": "text",
        "text": "Save your file and then run it to see the new title in the title bar at the top of the window, as shown in Figure 10-2. ",
        "bbox": [
            236,
            504,
            884,
            540
        ],
        "page_idx": 246
    },
    {
        "type": "image",
        "img_path": "images/196f9309a392694da11f6f9575c1ae7f9bf077fa7674b00b4aee0adb43ff50ff.jpg",
        "image_caption": [
            "Figure 10-2: The new BubbleDrawGUI.java file opens a window with “Your Name’s BubbleDraw GUI App” in the title bar. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            552,
            803,
            839
        ],
        "page_idx": 246
    },
    {
        "type": "footer",
        "text": "Adding Animation and Collision Detection with Timers ",
        "bbox": [
            559,
            951,
            849,
            966
        ],
        "page_idx": 246
    },
    {
        "type": "page_number",
        "text": "223 ",
        "bbox": [
            875,
            948,
            904,
            963
        ],
        "page_idx": 246
    },
    {
        "type": "text",
        "text": "Now, let’s make one more change to make the bubbles look more realistic. ",
        "bbox": [
            232,
            64,
            839,
            99
        ],
        "page_idx": 247
    },
    {
        "type": "text",
        "text": "Adding Transparency ",
        "text_level": 1,
        "bbox": [
            232,
            118,
            418,
            142
        ],
        "page_idx": 247
    },
    {
        "type": "text",
        "text": "Real bubbles often have a semitransparent look. Think about blowing a bubble with bubble gum: once it gets big enough, you can see through the thin surface of the bubble. We can add transparency to the bubbles in the BubbleDrawGUI app to give them a more lifelike appearance. ",
        "bbox": [
            230,
            145,
            882,
            217
        ],
        "page_idx": 247
    },
    {
        "type": "text",
        "text": "In addition to the RGB color components you learned about in Chapter 9, Java can store a fourth component in the java.awt.Color class. This is called the alpha component, and it represents how transparent or opaque a color should appear onscreen when it is drawn in front of other objects. Just like the RGB color values, the alpha component can have values from 0 to 255. An alpha value of 0 will make the color invisible, 128 will make it look semitransparent like watercolor paint, and 255 will make it completely obscure any objects behind it. ",
        "bbox": [
            230,
            219,
            878,
            361
        ],
        "page_idx": 247
    },
    {
        "type": "text",
        "text": "Because the Color class’s constructor can accept the alpha value as a fourth argument (right after the RGB color values), we only need to change one line in the BubblePanel.java file to add transparency. Open BubblePanel.java under the BubbleDrawGUI project’s src folder and scroll to the bottom of the file where the Bubble class is defined: ",
        "bbox": [
            230,
            363,
            869,
            451
        ],
        "page_idx": 247
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "private class Bubble {\n    private int x;\n    --snip--\n        color = new Color[rand.nextInt(256), rand.nextInt(256), rand.nextInt(256), rand.nextInt(256)];\n} ",
        "guess_lang": "txt",
        "bbox": [
            234,
            468,
            640,
            597
        ],
        "page_idx": 247
    },
    {
        "type": "text",
        "text": "Here we change the color variable’s constructor by adding a fourth random value that can range from 0 to 255. We do so by adding a comma at the end of the third rand.nextInt(256) in the color statement and adding a fourth rand.nextInt(256) before the closing parenthesis of the Color() constructor. Be careful to check your commas and parentheses against the code shown here, or the app won’t work. ",
        "bbox": [
            230,
            615,
            886,
            723
        ],
        "page_idx": 247
    },
    {
        "type": "text",
        "text": "Save the file and then run it. Click around the screen to draw dots that overlap slightly, as shown in Figure 10-3. ",
        "bbox": [
            232,
            723,
            888,
            759
        ],
        "page_idx": 247
    },
    {
        "type": "text",
        "text": "You’ll see now that the bubbles have not only random colors but also varying levels of transparency. Some bubbles are opaque and completely cover the screen behind them, while others are so transparent they’re barely visible. Our bubbles are more bubbly than ever! Now let’s make them float for an even more realistic appearance. ",
        "bbox": [
            230,
            759,
            896,
            849
        ],
        "page_idx": 247
    },
    {
        "type": "page_number",
        "text": "224 ",
        "bbox": [
            91,
            950,
            121,
            963
        ],
        "page_idx": 247
    },
    {
        "type": "footer",
        "text": "Chapter 10 ",
        "bbox": [
            144,
            951,
            208,
            966
        ],
        "page_idx": 247
    },
    {
        "type": "image",
        "img_path": "images/73d96a09714ee1f75d29a9f9f027941126a6d74883629143e9b2dca8f3372221.jpg",
        "image_caption": [
            "Figure 10-3: Adding an alpha component to the color of each bubble gives them a cool, transparent appearance. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            64,
            803,
            351
        ],
        "page_idx": 248
    },
    {
        "type": "text",
        "text": "Adding Animation: Bubbles Rising! ",
        "text_level": 1,
        "bbox": [
            134,
            426,
            565,
            450
        ],
        "page_idx": 248
    },
    {
        "type": "text",
        "text": "Animation is the illusion of movement created by showing a sequence of images on the screen. You may have created a flipbook-style animation in a notebook: each drawing was shifted slightly from the previous one, and when you flipped through the notebook, you could see the animation come to life. We’ll add this type of effect to make it look like the bubbles are floating away in the BubbleDrawGUI app. ",
        "bbox": [
            240,
            457,
            902,
            567
        ],
        "page_idx": 248
    },
    {
        "type": "text",
        "text": "To animate the bubbles, we need to draw all the bubbles on the screen, change their location slightly, and then draw the screen again a few times every second. Each screen we draw is called a frame. If we redraw the objects quickly enough, our eyes and brains fill in the gaps between frames, making us believe the same object has moved in a smooth path. The animation’s frame rate, or how quickly we redraw the screen, is usually around 30 frames per second. We’ll use a new class, javax.swing.Timer, which creates timers, to tell our program when to redraw the bubbles. We’ll also use an event handler to update the bubbles’ location and repaint the screen each time the timer goes off. ",
        "bbox": [
            240,
            567,
            900,
            746
        ],
        "page_idx": 248
    },
    {
        "type": "text",
        "text": "There are four steps to create the animated bubbles: adding a timer, setting the timer, preparing the animation, and starting the timer. These are the same steps you would use to add animation to a game or any other app that uses a timer in Java. ",
        "bbox": [
            240,
            747,
            888,
            819
        ],
        "page_idx": 248
    },
    {
        "type": "footer",
        "text": "Adding Animation and Collision Detection with Timers ",
        "bbox": [
            559,
            954,
            847,
            965
        ],
        "page_idx": 248
    },
    {
        "type": "page_number",
        "text": "225 ",
        "bbox": [
            875,
            951,
            904,
            963
        ],
        "page_idx": 248
    },
    {
        "type": "text",
        "text": "Adding a Timer ",
        "text_level": 1,
        "bbox": [
            234,
            64,
            369,
            85
        ],
        "page_idx": 249
    },
    {
        "type": "text",
        "text": "To add a timer to our app, we’ll need to import the javax.swing.Timer class. At the top of your BubblePanel.java file, add the following import statement: ",
        "bbox": [
            232,
            91,
            880,
            127
        ],
        "page_idx": 249
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "import javax.swing.Timer;  \nimport java.awt.event.*;  \nimport java.util.ArrayList;  \nimport java.awt.Graphics;  \nimport java.util.Random;  \nimport java.awt.Color;  \nimport javax.swing.JPanel;",
        "guess_lang": "java",
        "bbox": [
            234,
            144,
            462,
            256
        ],
        "page_idx": 249
    },
    {
        "type": "text",
        "text": "Importing the Timer class from javax.swing enables us to create a timer object that triggers an event as often as we choose. Notice on the second line in the code snippet, we have already imported java.awt.event.*. This line imports all the java.awt event handlers, including the ActionListener class we’ll use to handle timer events. ",
        "bbox": [
            230,
            274,
            888,
            361
        ],
        "page_idx": 249
    },
    {
        "type": "text",
        "text": "Next, inside the BubblePanel class, add two variables: one named timer for the timer itself and an int named delay to store how many milliseconds the timer should wait before redrawing the screen: ",
        "bbox": [
            230,
            364,
            884,
            418
        ],
        "page_idx": 249
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public class BubblePanel extends JPanel {\n    Random rand = new Random();\n    ArrayList<Bubble> bubbleList;\n    int size = 25;\n    Timer timer;\n    int delay = 33; ",
        "guess_lang": "java",
        "bbox": [
            234,
            433,
            583,
            531
        ],
        "page_idx": 249
    },
    {
        "type": "text",
        "text": "Timers in Java need to know how many milliseconds, or thousandths of a second, to wait until they trigger a timer event. A millisecond is really fast, so I’ve chosen a delay of 33 milliseconds. This will cause the screen to be redrawn about 30 times per second, since 1 second $= 1 { , } 0 0 0$ milliseconds and $1 , 0 0 0 / 3 3 = 3 0$ drawings per second. This is about the same rate as a cartoon on television. ",
        "bbox": [
            230,
            549,
            888,
            656
        ],
        "page_idx": 249
    },
    {
        "type": "text",
        "text": "Setting the Timer ",
        "text_level": 1,
        "bbox": [
            234,
            675,
            388,
            696
        ],
        "page_idx": 249
    },
    {
        "type": "text",
        "text": "Now we’re ready to set the timer. Inside the BubblePanel() constructor, add the following line to initialize the timer and set it with the given delay: ",
        "bbox": [
            230,
            702,
            878,
            740
        ],
        "page_idx": 249
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "public BubblePanel() { timer $=$ new Timer(delay, new BubbleListener(); bubbleList $=$ new ArrayList<Bubble>(); setBackground(Color.BLACK); // testBubbles(); addMouseListener(new BubbleListener()); addMouseListener(new BubbleListener()); addMouseListener(new BubbleListener()); addMouseListener(new BubbleListener());   \n} ",
        "bbox": [
            265,
            756,
            708,
            899
        ],
        "page_idx": 249
    },
    {
        "type": "page_number",
        "text": "226 ",
        "bbox": [
            91,
            950,
            121,
            963
        ],
        "page_idx": 249
    },
    {
        "type": "footer",
        "text": "Chapter 10 ",
        "bbox": [
            144,
            951,
            208,
            966
        ],
        "page_idx": 249
    },
    {
        "type": "text",
        "text": "The constructor for a new Timer() requires two parameters: the first is the delay in milliseconds, and the second is the event handler that will listen for timer events. A timer triggers an actionPerformed() event every time it goes off, similar to the actionPerformed() event we handle for button clicks in a GUI interface. A timer is sort of like an automatic button that “clicks” itself every few milliseconds. We’ve placed the timer first in the constructor so that we can change it in response to GUI events later. ",
        "bbox": [
            236,
            63,
            898,
            187
        ],
        "page_idx": 250
    },
    {
        "type": "text",
        "text": "To listen for timer events, we’re going to modify the BubbleListener class. Scroll down in BubblePanel.java to find the private class BubbleListener that we created earlier. Then add implements ActionListener before the opening brace for the class: ",
        "bbox": [
            236,
            189,
            902,
            259
        ],
        "page_idx": 250
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "private class BubbleListener extends MouseAdapter implements ActionListener { ",
        "guess_lang": "txt",
        "bbox": [
            238,
            277,
            894,
            295
        ],
        "page_idx": 250
    },
    {
        "type": "text",
        "text": "This change allows the BubbleListener class to listen for actionPerformed() events by implementing the ActionListener class from java.awt.event.*. Implementing an event listener class is another way of handling user events. To handle these timer events, we’ll need to add an actionPerformed() event handler. Add the following method to the bottom of the BubbleListener class: ",
        "bbox": [
            236,
            313,
            890,
            403
        ],
        "page_idx": 250
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "private class BubbleListener extends MouseAdapter implements ActionListener { public void mousePressed(MouseEvent e) { --snip-- } public void mouseDragged(MouseEvent e) { --snip-- } public void mouseWheelMoved(MouseEvent e) { --snip-- } public void actionPerformed(ActionEvent e) { } ",
        "guess_lang": "java",
        "bbox": [
            271,
            418,
            902,
            627
        ],
        "page_idx": 250
    },
    {
        "type": "text",
        "text": "This new actionPerformed() method is where we’ll add the code that moves the bubbles and repaints the screen every time the timer goes off. We’ll add those statements next. ",
        "bbox": [
            236,
            644,
            876,
            696
        ],
        "page_idx": 250
    },
    {
        "type": "text",
        "text": "Preparing the Animation ",
        "text_level": 1,
        "bbox": [
            238,
            717,
            454,
            740
        ],
        "page_idx": 250
    },
    {
        "type": "text",
        "text": "Now that we’ve added a timer and set up the BubbleListener to listen for timer events, we need to tell Java what to do when the timer triggers an event. ",
        "bbox": [
            236,
            744,
            894,
            780
        ],
        "page_idx": 250
    },
    {
        "type": "text",
        "text": "Every time the timer fires off an event, it’s time to draw the next image in the animated bubble sequence. First, we’ll tell the actionPerformed() event handler to update the bubbles and redraw the screen. Then, we’ll tell the Bubble class to update a bubble by moving it upward on the screen. We’ll have the program do these steps about 30 times per second. ",
        "bbox": [
            236,
            780,
            900,
            872
        ],
        "page_idx": 250
    },
    {
        "type": "footer",
        "text": "Adding Animation and Collision Detection with Timers ",
        "bbox": [
            559,
            951,
            849,
            965
        ],
        "page_idx": 250
    },
    {
        "type": "page_number",
        "text": "227 ",
        "bbox": [
            875,
            948,
            906,
            963
        ],
        "page_idx": 250
    },
    {
        "type": "text",
        "text": "Inside the actionPerformed() method that we added to the BubbleListener class, add the following three lines of code to update the bubbles and repaint the screen: ",
        "bbox": [
            232,
            64,
            878,
            118
        ],
        "page_idx": 251
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public void actionPerformed(ActionEvent e) {  \n    for (Bubble b :bubbleList)  \n        b.update();  \n    repaint();  \n} ",
        "guess_lang": "java",
        "bbox": [
            299,
            133,
            678,
            214
        ],
        "page_idx": 251
    },
    {
        "type": "text",
        "text": "At $\\bullet$ , we’re using the for-each version of a for statement to loop through each Bubble b in bubbleList. Remember that bubbleList is the ArrayList containing all the bubbles we’ve created by clicking and dragging the mouse on the screen. ",
        "bbox": [
            230,
            232,
            896,
            303
        ],
        "page_idx": 251
    },
    {
        "type": "text",
        "text": "As we loop through each bubble in bubbleList, we call a new function named update() $\\otimes$ on all the bubbles. Eclipse underlines this statement in red because we haven’t yet defined the update() method in the Bubble class, but we’ll do that in just a moment. The update() method is where we’ll change the location of the bubbles to make them look like they’re floating up toward the top of the screen. ",
        "bbox": [
            230,
            304,
            896,
            412
        ],
        "page_idx": 251
    },
    {
        "type": "text",
        "text": "At $\\otimes$ , we call the repaint() method to refresh the screen, clearing the drawing window and painting the bubbles in their new, updated locations. By doing this 30 times per second, we’ll achieve the animated effect we want to see. ",
        "bbox": [
            230,
            412,
            886,
            481
        ],
        "page_idx": 251
    },
    {
        "type": "text",
        "text": "Now let’s create the update() method to tell the Bubble class how to move bubbles each time the animation timer is triggered. In Java’s (x, y) coordinate system, we need to subtract from the y value (the top of the screen is where y equals 0). So, to make the bubbles appear to move upward, we can subtract a small amount from the y-coordinate at each update. ",
        "bbox": [
            230,
            484,
            892,
            575
        ],
        "page_idx": 251
    },
    {
        "type": "text",
        "text": "Scroll down to the bottom of BubblePanel.java where we defined the Bubble class and add the update() method just below the draw() method, as shown here: ",
        "bbox": [
            230,
            576,
            871,
            627
        ],
        "page_idx": 251
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public void draw(Graphics canvas) { canvas.setColor(color); canvas.Fill0val(x - size/2, y - size/2, size, size); } public void update() { y -=5; } } ",
        "guess_lang": "txt",
        "bbox": [
            232,
            642,
            777,
            792
        ],
        "page_idx": 251
    },
    {
        "type": "text",
        "text": "The function to update the position of a bubble subtracts five pixels from the y value for that bubble. Each time a bubble is redrawn on the screen, it will be located five pixels higher than before. ",
        "bbox": [
            230,
            807,
            863,
            861
        ],
        "page_idx": 251
    },
    {
        "type": "text",
        "text": "Save your file. You only have one more step before you can run the app! ",
        "bbox": [
            265,
            861,
            896,
            879
        ],
        "page_idx": 251
    },
    {
        "type": "page_number",
        "text": "228 ",
        "bbox": [
            91,
            950,
            123,
            963
        ],
        "page_idx": 251
    },
    {
        "type": "footer",
        "text": "Chapter 10 ",
        "bbox": [
            144,
            951,
            208,
            966
        ],
        "page_idx": 251
    },
    {
        "type": "text",
        "text": "Starting the Timer ",
        "text_level": 1,
        "bbox": [
            240,
            64,
            400,
            85
        ],
        "page_idx": 252
    },
    {
        "type": "text",
        "text": "The final step in animating the BubbleDrawGUI app is starting the timer. Scroll up to the BubblePanel() constructor and add the following line: ",
        "bbox": [
            238,
            91,
            884,
            127
        ],
        "page_idx": 252
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "public BubblePanel() { timer $=$ new Timer(delay, new BubbleListener(); --snip-- addMouseWheelListener( new BubbleListener(); timer.start();   \n} ",
        "bbox": [
            271,
            141,
            716,
            238
        ],
        "page_idx": 252
    },
    {
        "type": "text",
        "text": "The timer.start() method will start the timer so that it will fire events every few milliseconds as specified, until the timer.stop() method is called or until you exit the program. ",
        "bbox": [
            236,
            256,
            884,
            310
        ],
        "page_idx": 252
    },
    {
        "type": "text",
        "text": "Save and run the program now. When you draw bubbles, they should float upward, smoothly animated by the timer event handler. ",
        "bbox": [
            236,
            312,
            880,
            346
        ],
        "page_idx": 252
    },
    {
        "type": "text",
        "text": "The mouse scroll wheel and every other feature we built in Chapter 9 still work with our mesmerizing animation effect. The bubbles float in only one direction so far, but we’ve achieved the illusion of motion we were aiming for. In the next section, you’ll learn how to make the bubbles float in every direction. ",
        "bbox": [
            236,
            348,
            906,
            435
        ],
        "page_idx": 252
    },
    {
        "type": "text",
        "text": "Forever Blowing Bubbles: Adding Random Speed and D irection ",
        "text_level": 1,
        "bbox": [
            130,
            469,
            746,
            513
        ],
        "page_idx": 252
    },
    {
        "type": "text",
        "text": "The update() function we created in the previous section changed only the y-location of each bubble, causing the bubbles to move vertically every time the screen was redrawn. In this section, we’ll make the bubbles move both vertically and horizontally at random speeds so they appear to be blowing away in every direction, as shown in Figure 10-4. ",
        "bbox": [
            236,
            522,
            898,
            612
        ],
        "page_idx": 252
    },
    {
        "type": "image",
        "img_path": "images/b73dad505af184ca0bce6b5495ca6f8fe953167c47594a44041051e408394863.jpg",
        "image_caption": [
            "Figure 10-4: Changing both the x- and y-locations of each bubble makes the bubbles look like they’re blowing in random directions from the mouse pointer as we drag. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            624,
            793,
            876
        ],
        "page_idx": 252
    },
    {
        "type": "footer",
        "text": "Adding Animation and Collision Detection with Timers ",
        "bbox": [
            559,
            951,
            849,
            966
        ],
        "page_idx": 252
    },
    {
        "type": "page_number",
        "text": "229 ",
        "bbox": [
            875,
            948,
            906,
            965
        ],
        "page_idx": 252
    },
    {
        "type": "text",
        "text": "The bubble’s horizontal speed is how many pixels to the left or right it moves each frame. This is what determines the bubble’s new x-location. Similarly, the bubble’s vertical speed determines its new y-location. By just moving the bubble in the horizontal and vertical directions, we can make it move in any direction. Figure 10-5 shows how the horizontal speed and vertical speed combine to create the illusion that the bubble is moving diagonally. ",
        "bbox": [
            230,
            64,
            555,
            298
        ],
        "page_idx": 253
    },
    {
        "type": "image",
        "img_path": "images/adf084946043e3a0e31125de5d3c8947234f087c3689f4f2dbbdde639e4160ef.jpg",
        "image_caption": [
            "Figure 10-5: Changing a bubble’s location in both the x- and y-directions quickly will make the bubble appear to move diagonally on the screen. "
        ],
        "image_footnote": [],
        "bbox": [
            585,
            64,
            898,
            204
        ],
        "page_idx": 253
    },
    {
        "type": "text",
        "text": "First, let’s add variables to store how many pixels each bubble should travel in the x- and y-directions each time the screen is redrawn. Add these two lines to the top of the Bubble class: ",
        "bbox": [
            230,
            298,
            888,
            354
        ],
        "page_idx": 253
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "private class Bubble {\n    --snip--\n    private Color color;\n    ① private int xspeed, yspeed;\n    ② private final int MAX_SPEED = 5; ",
        "guess_lang": "txt",
        "bbox": [
            267,
            367,
            573,
            448
        ],
        "page_idx": 253
    },
    {
        "type": "text",
        "text": "At u, we’ve declared two integer variables: xspeed for the number of pixels the bubble will move horizontally each time the screen updates and yspeed for the number of pixels the bubble will move vertically. At $\\otimes$ , we add a constant called MAX_SPEED for the maximum number of pixels a bubble should move at one time. Constants are named values similar to variables, but constants don’t change inside a program, so we declare them as final to tell Java that the value of the constant is permanent. We also name constants in all uppercase as a convention so we can tell them apart from regular variables. ",
        "bbox": [
            230,
            466,
            894,
            611
        ],
        "page_idx": 253
    },
    {
        "type": "text",
        "text": "We’ll give each bubble a random x and y speed using the rand.nextInt() method, just as we did for the bubble’s color. Add these two lines to the Bubble() constructor: ",
        "bbox": [
            230,
            611,
            888,
            665
        ],
        "page_idx": 253
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public Bubble(int newX, int newY, int size) {\n    x = newX;\n    y = newY;\n    size = newVal;\n    color = new Color[rand.nextInt(256), rand.nextInt(256), rand.nextInt(256), rand.nextInt(256)];\n    xspeed = rand.nextInt(MAX_SPEED * 2 + 1) - MAX_SPEED;\n    yspeed = randnextInt(MAX_speed * 2 + 1) - MAX_speed; ",
        "guess_lang": "javascript",
        "bbox": [
            299,
            680,
            787,
            857
        ],
        "page_idx": 253
    },
    {
        "type": "text",
        "text": "We need the x and y speed values to allow the bubble to move in any direction, but we have only two variables for four directions (left or right, up or down). We can handle this by using both negative and positive values. ",
        "bbox": [
            230,
            875,
            884,
            932
        ],
        "page_idx": 253
    },
    {
        "type": "page_number",
        "text": "230 ",
        "bbox": [
            91,
            950,
            123,
            965
        ],
        "page_idx": 253
    },
    {
        "type": "footer",
        "text": "Chapter 10 ",
        "bbox": [
            144,
            951,
            210,
            965
        ],
        "page_idx": 253
    },
    {
        "type": "text",
        "text": "When the xspeed is negative, the bubble will move toward the left, and when it’s positive, the bubble will move to the right. The yspeed will make the bubble move upward when negative and downward when positive. To make the xspeed and yspeed ranges span negative and positive values, I’ve multiplied MAX_SPEED by 2 and added 1, which is equal to 11 since $5 ^ { \\mathrm { ~ * ~ } } 2 \\mathrm { ~ + ~ } 1 = 1 1$ . This makes rand.nextInt $( \\mathsf { M A X \\_ S P E E D } \\texttt { * 2 + 1 } )$ ) equivalent to rand.nextInt(11), which will return a number between 0 and 10. By subtracting MAX_SPEED from this value, you’ll get a result between -5 and $+ 5$ since $0 - 5 = - 5$ , and $1 0 - 5 = 5$ . ",
        "bbox": [
            236,
            63,
            898,
            207
        ],
        "page_idx": 254
    },
    {
        "type": "text",
        "text": "Finally, we need to change the update() function to move the bubble to its new location each time the screen is redrawn. Replace the statement $y \\ \\cdot = \\ 5$ ; with the following two statements: ",
        "bbox": [
            236,
            208,
            888,
            262
        ],
        "page_idx": 254
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public void update() { x += xspeed; y += yspeed; } ",
        "guess_lang": "txt",
        "bbox": [
            305,
            276,
            496,
            342
        ],
        "page_idx": 254
    },
    {
        "type": "text",
        "text": "Instead of moving up five pixels every time the screen is redrawn, each bubble will move horizontally by the xspeed and vertically by the yspeed values we randomly generated for that bubble. The result is a colorful explosion of bubbles everywhere we drag the mouse! ",
        "bbox": [
            236,
            360,
            896,
            432
        ],
        "page_idx": 254
    },
    {
        "type": "text",
        "text": "Save and run the program with these changes, and you’ll see an animated effect like the one we saw in Figure 10-4. The effect of moving the bubbles in the x- and y-directions over time gives each bubble the illusion of both a random speed and direction. ",
        "bbox": [
            236,
            433,
            896,
            504
        ],
        "page_idx": 254
    },
    {
        "type": "text",
        "text": "One curious behavior that you might notice is that some bubbles, such as the ones in the center of Figure 10-6, stay put. This is because we’re randomly generating numbers between -5 and $+ 5$ for the x and y speed, and sometimes a bubble’s xspeed and yspeed will both be 0. When this happens, the bubble won’t move at all. ",
        "bbox": [
            236,
            504,
            902,
            591
        ],
        "page_idx": 254
    },
    {
        "type": "image",
        "img_path": "images/bf04b3eb3a2d0f22294a21241cee11bccefe672d260c319d98eaa0a227e7590b.jpg",
        "image_caption": [
            "Figure 10-6: Because the random speed values can be 0, bubbles like the ones near the center here will stay put. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            606,
            757,
            885
        ],
        "page_idx": 254
    },
    {
        "type": "footer",
        "text": "Adding Animation and Collision Detection with Timers ",
        "bbox": [
            559,
            951,
            849,
            965
        ],
        "page_idx": 254
    },
    {
        "type": "page_number",
        "text": "231 ",
        "bbox": [
            875,
            948,
            904,
            963
        ],
        "page_idx": 254
    },
    {
        "type": "text",
        "text": "You can avoid having stuck bubbles by checking whether both xspeed and yspeed are equal to 0 and changing one or both of them—this is Programming Challenge #1 on page 244. ",
        "bbox": [
            232,
            64,
            865,
            118
        ],
        "page_idx": 255
    },
    {
        "type": "text",
        "text": "Now that our bubbles are floating away as we draw them, there are a couple of functions we might want to add to the app: the ability to pause the animation and to clear the screen. It’s time to build a GUI interface within our animated, graphical app. ",
        "bbox": [
            232,
            118,
            865,
            190
        ],
        "page_idx": 255
    },
    {
        "type": "text",
        "text": "Building a GU I for Our Animated Drawing App ",
        "text_level": 1,
        "bbox": [
            126,
            222,
            712,
            246
        ],
        "page_idx": 255
    },
    {
        "type": "text",
        "text": "The BubbleDrawGUI app is graphical, but it doesn’t have an interface like our other GUI apps. A Pause/ Start button and a Clear button, shown in Figure 10-7, would make it easy for the user to understand and interact with the app, so let’s add those next. ",
        "bbox": [
            232,
            253,
            708,
            343
        ],
        "page_idx": 255
    },
    {
        "type": "image",
        "img_path": "images/c95775a2e973e3707aa5cbd8734fc6fdd8a1829ab74598fec3821fe4c077f1d5.jpg",
        "image_caption": [
            "Figure 10-7: The Pause/Start and Clear buttons "
        ],
        "image_footnote": [],
        "bbox": [
            753,
            255,
            898,
            283
        ],
        "page_idx": 255
    },
    {
        "type": "text",
        "text": "Setting Up the GUI Panel and Buttons ",
        "text_level": 1,
        "bbox": [
            232,
            363,
            561,
            385
        ],
        "page_idx": 255
    },
    {
        "type": "text",
        "text": "In the Package Explorer pane, right-click BubblePanel.java and select Open With4WindowBuilder Editor. Click the Design tab, and you should see the GUI design view. ",
        "bbox": [
            232,
            390,
            896,
            442
        ],
        "page_idx": 255
    },
    {
        "type": "text",
        "text": "First, let’s add a JPanel to serve as the container for the Pause/Start and Clear buttons, as well as any other GUI components you might want to add later. In the Palette pane, under Containers, select JPanel. Then, hover your mouse over the design preview to the right and click the BubblePanel design preview to place a new JPanel onto the black background. ",
        "bbox": [
            232,
            444,
            898,
            533
        ],
        "page_idx": 255
    },
    {
        "type": "text",
        "text": "Alternatively, you can add a new JPanel by clicking the javax.swing.JPanel entry under the Structure pane and inside the Components pane to the left. You’ll see a very small gray JPanel appear at the top of the black BubblePanel design preview. ",
        "bbox": [
            232,
            534,
            898,
            605
        ],
        "page_idx": 255
    },
    {
        "type": "text",
        "text": "Next, let’s place the Pause/Start and Clear buttons. In the Palette pane, scroll down to the Components section, select the JButton component, and then hover and click inside the small JPanel we just added to place the first JButton. Enter Pause as the button’s text, either directly in the GUI preview or in the Properties pane. (You’ll see why we refer to it as the Pause/Start button shortly.) ",
        "bbox": [
            232,
            606,
            880,
            714
        ],
        "page_idx": 255
    },
    {
        "type": "text",
        "text": "Follow the same steps for the clear button: select JButton in the Palette pane, click inside the JPanel to place the button, and enter Clear for the button’s text. ",
        "bbox": [
            232,
            714,
            888,
            767
        ],
        "page_idx": 255
    },
    {
        "type": "text",
        "text": "If it’s difficult to place the buttons in the JPanel because it is too small, select JButton in the Palette and then click the panel in the Structure pane to the left to place each button inside the panel, as shown expanded in Figure 10-8. Name the buttons btnPause and btnClear either as you place them or by changing the Variable property in the Properties pane. ",
        "bbox": [
            232,
            768,
            890,
            858
        ],
        "page_idx": 255
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            91,
            950,
            121,
            963
        ],
        "page_idx": 255
    },
    {
        "type": "footer",
        "text": "Chapter 10 ",
        "bbox": [
            144,
            953,
            208,
            965
        ],
        "page_idx": 255
    },
    {
        "type": "image",
        "img_path": "images/8be4f7ed2dcf410047134831dea547209518baf046b8fa8ef3cebbea464069a8.jpg",
        "image_caption": [
            "Figure 10-8: When building a GUI, you can select components from the Palette and add them directly to the Structure pane. Here, we’ve added btnPause and btnClear to the panel we just created. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            64,
            654,
            381
        ],
        "page_idx": 256
    },
    {
        "type": "text",
        "text": "The Structure pane is a useful way to add components to the GUI in situations like this, when we can’t see the JPanel well in the design preview, or when we want to change the ordering or grouping of the components in the GUI. Figure 10-9 shows both buttons in the finished GUI. ",
        "bbox": [
            240,
            472,
            896,
            546
        ],
        "page_idx": 256
    },
    {
        "type": "image",
        "img_path": "images/1618261563eef3e731941f973c142f0b3b0b94448ba959bff940170098abdfdd.jpg",
        "image_caption": [
            "Figure 10-9: The Pause/Start and Clear buttons in the finished GUI "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            557,
            672,
            777
        ],
        "page_idx": 256
    },
    {
        "type": "text",
        "text": "Now that we’ve added the Pause/Start and Clear buttons to the top of the drawing screen, it’s time to code the buttons’ event handlers. ",
        "bbox": [
            240,
            839,
            888,
            873
        ],
        "page_idx": 256
    },
    {
        "type": "footer",
        "text": "Adding Animation and Collision Detection with Timers ",
        "bbox": [
            559,
            953,
            849,
            966
        ],
        "page_idx": 256
    },
    {
        "type": "page_number",
        "text": "233 ",
        "bbox": [
            875,
            950,
            904,
            963
        ],
        "page_idx": 256
    },
    {
        "type": "text",
        "text": "Coding the Clear and Pause/Start Buttons ",
        "text_level": 1,
        "bbox": [
            234,
            64,
            593,
            85
        ],
        "page_idx": 257
    },
    {
        "type": "text",
        "text": "Let’s start with the Clear button. One way to clear all the bubbles from the screen would be to reset the bubbleList variable to a new, empty list—that way, there are no bubbles to be drawn, and the user can begin painting afresh. To implement this behavior, double-click the Clear button (remember that double-clicking a button in the Design tab will create an event listener for the button and switch you back to the Source tab) and then add the following two lines inside the braces for bubbleList’s action listener: ",
        "bbox": [
            230,
            91,
            896,
            217
        ],
        "page_idx": 257
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "JButton.btnClear = new JButton(\"Clear\");  \nbtnClear.addActionListener(new ActionListener() { public void actionPerformed(ActionEvent arg0) { ① bubbleList = new ArrayList<Bubble>(); ② repaint(); } });  \npanel.add(btnClear); ",
        "guess_lang": "typescript",
        "bbox": [
            299,
            232,
            740,
            363
        ],
        "page_idx": 257
    },
    {
        "type": "text",
        "text": "At $\\bullet$ , we clear the bubbleList variable by setting it equal to a new ArrayList of Bubble objects. This new list will be empty, so all we have to do is repaint the screen and we’ll have a clean, black background just like when we opened the app. At v, we call the repaint() function to draw the new, empty screen. ",
        "bbox": [
            230,
            379,
            898,
            451
        ],
        "page_idx": 257
    },
    {
        "type": "text",
        "text": "Save and run the app. Then draw a few bubbles and click the Clear button to clear the screen. ",
        "bbox": [
            230,
            451,
            871,
            486
        ],
        "page_idx": 257
    },
    {
        "type": "text",
        "text": "Switch back to the Design tab and double-click the Pause/Start button to create another event listener. When the user clicks the Pause/Start button, we want to not only stop the animation by stopping the timer but also change the text on the button to Start. Then, when the user clicks again, we want to restart the timer to resume the animation and set the button’s text back to Pause. ",
        "bbox": [
            230,
            487,
            894,
            594
        ],
        "page_idx": 257
    },
    {
        "type": "text",
        "text": "Enter the following code into the actionPerformed() method Eclipse provided when you double-clicked the Pause/Start button. ",
        "bbox": [
            230,
            596,
            894,
            633
        ],
        "page_idx": 257
    },
    {
        "type": "text",
        "text": "No t e ",
        "text_level": 1,
        "bbox": [
            150,
            653,
            202,
            665
        ],
        "page_idx": 257
    },
    {
        "type": "text",
        "text": "Make sure your ActionEvent variable in the actionPerformed() method is named e, as highlighted in bold in this code. ",
        "bbox": [
            232,
            650,
            898,
            686
        ],
        "page_idx": 257
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "JButton BTNPause = new JButton(\"Pause\");  \nbtnPause.addActionListener(new ActionListener() {  \npublic void actionPerformed(ActionEvent e) {  \n    JButton BTN = (JButton)e.getSource();  \n    if (btn.getText().equals(\"Pause\")) {  \n        timer.stop();  \n        BTN.setText(\"Start\");  \n    }  \nelse {  \n        timer.start();  \n        BTN.setText(\"Pause\");  \n    }  \n} ",
        "guess_lang": "java",
        "bbox": [
            299,
            710,
            718,
            918
        ],
        "page_idx": 257
    },
    {
        "type": "page_number",
        "text": "234 ",
        "bbox": [
            91,
            950,
            123,
            963
        ],
        "page_idx": 257
    },
    {
        "type": "footer",
        "text": "Chapter 10 ",
        "bbox": [
            144,
            953,
            208,
            965
        ],
        "page_idx": 257
    },
    {
        "type": "text",
        "text": "At $\\bullet$ , going from right to left, we use the e.getSource() method to find out which button was clicked, cast it to a JButton variable type, and store a link to the button as btn. The getSource() method is useful for finding out whether a GUI element has been clicked or changed, especially when you’re writing event handlers for multiple elements at once. In this example, we can use getSource() to access the button’s properties, such as its text property. ",
        "bbox": [
            236,
            112,
            906,
            222
        ],
        "page_idx": 258
    },
    {
        "type": "text",
        "text": "At $\\bullet$ , we check whether the text on the button is equal to the string \"Pause\". If so, we stop the timer $\\otimes$ to pause the animation, and then we change the text on the button to the string \"Start\" x. ",
        "bbox": [
            236,
            222,
            867,
            274
        ],
        "page_idx": 258
    },
    {
        "type": "text",
        "text": "If the text on the button wasn’t \"Pause\"—in other words, if the animation was already paused and the text on the button had been changed to \"Start\" from a previous click—the event handler would go to the else statement instead and start the timer $\\pmb { \\Theta }$ to resume the animation. Finally, the text on the Pause/Start button will change back to \"Pause\" z. ",
        "bbox": [
            236,
            276,
            896,
            364
        ],
        "page_idx": 258
    },
    {
        "type": "text",
        "text": "Save the file and run it once more. Now you can pause the animation, draw something, and then restart the animation to achieve the jaw-dropping, exploding-bubbles effect shown in Figure 10-10. ",
        "bbox": [
            236,
            366,
            898,
            421
        ],
        "page_idx": 258
    },
    {
        "type": "image",
        "img_path": "images/3148a76ca1a24a9aa91f1592ba8f4aadd3c6fa61fd382ac665cef40102aaa954.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            97,
            433,
            496,
            612
        ],
        "page_idx": 258
    },
    {
        "type": "image",
        "img_path": "images/6457588ae1b04f58de4ff4ede409f80c7caef17bf33bb060f15880fdf52cb06f.jpg",
        "image_caption": [
            "Figure 10-10: Pause the animation, draw a shape, and then start the animation again to see your drawing explode into colorful bubbles. "
        ],
        "image_footnote": [],
        "bbox": [
            505,
            433,
            904,
            612
        ],
        "page_idx": 258
    },
    {
        "type": "text",
        "text": "The BubbleDrawGUI app is a visually stunning animated app, and the buttons give the user more control over the drawing screen. But once the animation runs, bubbles float off the edges of the screen, never to return. What if we could make the bubbles bounce around inside the window so that they stayed around a bit longer? ",
        "bbox": [
            236,
            675,
            890,
            767
        ],
        "page_idx": 258
    },
    {
        "type": "text",
        "text": "Bouncing off the Walls with Collision Detection ",
        "text_level": 1,
        "bbox": [
            130,
            797,
            712,
            822
        ],
        "page_idx": 258
    },
    {
        "type": "text",
        "text": "Animation isn’t just for flipbook cartoons and screensavers. There’s another place you encounter animation all the time: computer games. Whether it’s a mobile app or the latest online or console game, animation is how game developers give the user a sense of movement and action. ",
        "bbox": [
            236,
            828,
            904,
            902
        ],
        "page_idx": 258
    },
    {
        "type": "header",
        "text": "}); panel.add(btnPause); ",
        "bbox": [
            305,
            63,
            478,
            94
        ],
        "page_idx": 258
    },
    {
        "type": "footer",
        "text": "Adding Animation and Collision Detection with Timers ",
        "bbox": [
            559,
            951,
            849,
            966
        ],
        "page_idx": 258
    },
    {
        "type": "page_number",
        "text": "235 ",
        "bbox": [
            875,
            948,
            906,
            965
        ],
        "page_idx": 258
    },
    {
        "type": "text",
        "text": "One useful game programming concept that we can add to the final version of the BubbleDrawGUI app is collision detection, which allows us to check whether two objects overlap, or collide, on the screen. You might use collision detection to tell the program what to do when a player shoots an enemy spaceship or kicks a football in a video game. In this app, we want to find out whether a bubble has reached the edge of the drawing screen so we can change the bubble’s direction, making it appear to bounce off the edge of the screen back toward the center like the bubble in Figure 10-11. ",
        "bbox": [
            230,
            64,
            898,
            208
        ],
        "page_idx": 259
    },
    {
        "type": "image",
        "img_path": "images/255f047467d9d8e27bcbeecd51084576b01ccebada910f33833aa775b38c736e.jpg",
        "image_caption": [
            "Figure 10-11: The bubble bounces off the right edge of the window, courtesy of collision detection. "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            220,
            797,
            474
        ],
        "page_idx": 259
    },
    {
        "type": "text",
        "text": "Collision detection can give virtual objects, such as our bubbles in BubbleDrawGUI, a more realistic appearance. In your favorite computer game, collision detection is what keeps your player from falling through the floor or walking through walls. These objects are imaginary—they’re all just computer graphics, so they can’t actually bump into one another—but collision detection creates the illusion that they are solid. So, if we give our bubbles a gentle bounce off the edges of the screen, they’ll feel more like real objects to us. Let’s see how that works. ",
        "bbox": [
            230,
            537,
            898,
            681
        ],
        "page_idx": 259
    },
    {
        "type": "text",
        "text": "A Soft Bounce ",
        "text_level": 1,
        "bbox": [
            232,
            699,
            359,
            720
        ],
        "page_idx": 259
    },
    {
        "type": "text",
        "text": "First, we’ll break down how collision detection works for bubbles bouncing off the window’s edges. We already know that each bubble has a pair of xand y-coordinates for its location and an xspeed and yspeed for the number of pixels to move horizontally and vertically from one screen refresh to the next. ",
        "bbox": [
            230,
            728,
            896,
            798
        ],
        "page_idx": 259
    },
    {
        "type": "text",
        "text": "To figure out whether a bubble has collided with the window’s edge, we need to know the x- and y-coordinates of the edges of the screen so we can compare them to the bubble’s x- and y-coordinates. The left edge of the screen is the lowest x value, or $\\scriptstyle x = = 0$ . And the top of the screen is the smallest y value, or $y = = 0$ . But how about the right edge and bottom of the screen? ",
        "bbox": [
            230,
            800,
            894,
            890
        ],
        "page_idx": 259
    },
    {
        "type": "text",
        "text": "Every GUI component in Java inherits a pair of methods to return the width and height of the component: getWidth() and getHeight(). Our drawing ",
        "bbox": [
            230,
            890,
            888,
            927
        ],
        "page_idx": 259
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            91,
            950,
            121,
            963
        ],
        "page_idx": 259
    },
    {
        "type": "footer",
        "text": "Chapter 10 ",
        "bbox": [
            144,
            951,
            208,
            966
        ],
        "page_idx": 259
    },
    {
        "type": "text",
        "text": "screen for the BubbleDrawGUI app is the JPanel BubblePanel. So, if we call the getWidth() and getHeight() functions inside BubblePanel, the maximum x value is getWidth(), and the maximum y value is getHeight(). ",
        "bbox": [
            236,
            63,
            894,
            117
        ],
        "page_idx": 260
    },
    {
        "type": "text",
        "text": "We check whether a bubble’s x and y value has collided with an edge of the screen in the Bubble class’s update() method. You might remember that the update() method is also where we change each bubble’s x- and y-coordinates using xspeed and yspeed to give it the illusion of motion. ",
        "bbox": [
            236,
            117,
            873,
            187
        ],
        "page_idx": 260
    },
    {
        "type": "text",
        "text": "Let’s be more precise about what we mean by a “bounce.” Back in Figure 10-11, the bubble is moving toward the right edge of the screen, where x==getWidth(), meaning the bubble’s x value is at the maximum x-coordinate, the width of the screen in pixels. To make the bubble look like it’s bouncing, we change the direction it’s moving by reversing the xspeed. The bubble was moving by some positive number of pixels each time it updated; after it touches the edge of the screen, we can make it move in the opposite direction by changing the sign of xspeed. In other words, we can make xspeed negative to make the bubble move to the left and away from the right edge of the screen after it bounces. ",
        "bbox": [
            236,
            189,
            886,
            369
        ],
        "page_idx": 260
    },
    {
        "type": "text",
        "text": "We can reverse the bubble’s horizontal speed by setting xspeed $=$ -xspeed, which makes xspeed the opposite of itself. So, an xspeed of 3 pixels per frame would change to an xspeed of -3 pixels per frame after the bubble collides with the right edge of the screen, reversing its direction after the bounce. ",
        "bbox": [
            236,
            370,
            890,
            441
        ],
        "page_idx": 260
    },
    {
        "type": "text",
        "text": "We can do the same with the left edge of the screen, where $\\scriptstyle x = = 0$ . If the bubble’s x value allows the bubble to touch the left edge, setting xspeed $=$ -xspeed flips the horizontal motion again: an xspeed of -3 would become -(-3), or $+ 3$ . This will make the bubble move to the right again, away from the left edge of the screen. ",
        "bbox": [
            236,
            441,
            876,
            531
        ],
        "page_idx": 260
    },
    {
        "type": "text",
        "text": "In BubblePanel.java, scroll all the way down to the bottom of the file, where we defined the Bubble class. Find the update() method and add the following collision detection code for the left and right edges of the screen: ",
        "bbox": [
            236,
            531,
            898,
            587
        ],
        "page_idx": 260
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public void update() { x += xspeed; y += yspeed; if (x <= 0 || x >=宽度()) xspeed = -xspeed; } ",
        "guess_lang": "lisp",
        "bbox": [
            305,
            600,
            599,
            696
        ],
        "page_idx": 260
    },
    {
        "type": "text",
        "text": "If the bubble’s x value goes below 0, or if x goes past the width of the screen, the bubble must have touched either the left or right edge of the screen, so we change the xspeed to send the bubble bouncing in the opposite direction. ",
        "bbox": [
            236,
            716,
            904,
            770
        ],
        "page_idx": 260
    },
    {
        "type": "text",
        "text": "For the top and bottom edges, we’ll do the same thing, but this time we change the yspeed: ",
        "bbox": [
            236,
            771,
            900,
            806
        ],
        "page_idx": 260
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public void update() {  \n    x += xspeed;  \n    y += yspeed;  \n    if (x <= 0 || x >= getWidth())  \n        xspeed = -xspeed;  \n    if (y <= 0 || y >= getHeight()) ",
        "guess_lang": "txt",
        "bbox": [
            305,
            822,
            607,
            920
        ],
        "page_idx": 260
    },
    {
        "type": "footer",
        "text": "Adding Animation and Collision Detection with Timers ",
        "bbox": [
            559,
            951,
            849,
            966
        ],
        "page_idx": 260
    },
    {
        "type": "page_number",
        "text": "237 ",
        "bbox": [
            875,
            948,
            906,
            965
        ],
        "page_idx": 260
    },
    {
        "type": "text",
        "text": "If the bubble’s y value goes below 0, or past the height of the screen in pixels, we change yspeed to -yspeed to make the bubble move in the opposite direction. ",
        "bbox": [
            230,
            114,
            894,
            166
        ],
        "page_idx": 261
    },
    {
        "type": "text",
        "text": "Once you’ve made these additions to the update() method, save and run the file again. This time, you’ll see the bubbles you create rebound softly off all four edges. You may notice a small issue, however: the bubbles move halfway off the screen in any direction before they seem to bounce, as shown in Figure 10-12. ",
        "bbox": [
            230,
            169,
            898,
            259
        ],
        "page_idx": 261
    },
    {
        "type": "image",
        "img_path": "images/76e809072fbd382dd220254de502c6ea51a7e923d26ebb2fc844d25bbb62e407.jpg",
        "image_caption": [
            "Figure 10-12: Around the edge of the window there are many bubbles that are almost halfway off the screen before they rebound. "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            271,
            797,
            555
        ],
        "page_idx": 261
    },
    {
        "type": "text",
        "text": "This “soft” bounce happens because we’re checking for a collision between the center of each bubble and the edges of the screen. Recall that we centered each bubble around the $( \\mathbf { x } , \\mathbf { y } )$ coordinates of the user’s click in Chapter 9, so each bubble’s x and y values represent the location of the center of that bubble. To make the bubbles stay on the screen completely, we’ll need to test for collisions between the outside edge of each bubble and the edges of the drawing window. ",
        "bbox": [
            230,
            618,
            890,
            746
        ],
        "page_idx": 261
    },
    {
        "type": "text",
        "text": "A Hard Bounce ",
        "text_level": 1,
        "bbox": [
            232,
            764,
            365,
            783
        ],
        "page_idx": 261
    },
    {
        "type": "text",
        "text": "To check for collisions with the edge of each bubble, we’ll have to account for the distance from the center of each bubble to the edge, which is the bubble’s radius (since each bubble is a perfect circle). The radius is the same as half of the size value of each bubble, or size/2. Modify the two if statements in the update() method to account for the size of each bubble as shown here: ",
        "bbox": [
            230,
            792,
            898,
            881
        ],
        "page_idx": 261
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "public void update() { $\\texttt{x} + = \\texttt{xspeed};$ ",
        "bbox": [
            299,
            897,
            492,
            930
        ],
        "page_idx": 261
    },
    {
        "type": "header",
        "text": "yspeed $=$ -yspeed; ",
        "bbox": [
            367,
            64,
            517,
            79
        ],
        "page_idx": 261
    },
    {
        "type": "page_number",
        "text": "238 ",
        "bbox": [
            91,
            950,
            123,
            963
        ],
        "page_idx": 261
    },
    {
        "type": "footer",
        "text": "Chapter 10 ",
        "bbox": [
            144,
            951,
            210,
            966
        ],
        "page_idx": 261
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "$\\begin{array}{rl} & y += \\mathrm{yspeed};\\\\ & \\bullet \\text{if} (x - \\mathrm{size} / 2 <= 0 || x + \\mathrm{size} / 2 >= \\mathrm{getWidth()})\\\\ & \\mathrm{xspeed} = -\\mathrm{xspeed};\\\\ & \\bullet \\text{if} (y - \\mathrm{size} / 2 <= 0 || y + \\mathrm{size} / 2 >= \\mathrm{getHeight()})\\\\ & \\mathrm{yspeed} = -\\mathrm{yspeed}; \\end{array}$ ",
        "bbox": [
            305,
            64,
            759,
            160
        ],
        "page_idx": 262
    },
    {
        "type": "text",
        "text": "At $\\bullet$ , we subtract size/2 from x to see whether the left edge of the bubble has touched the left side of the screen, which will be true if x - size/2 is less than or equal to 0. Division is performed before subtraction. Therefore size/2 will be evaluated first and then subtracted from x, so we don’t need to add parentheses around size/2. We also add size/2 to x to see whether the right edge of the bubble is touching the right edge of the screen, which would mean x + size/2 is greater than or equal to getWidth(). At v, we make the same changes to check for the top edge (y - size/2) and bottom edge (y + size/2) of each bubble to see whether they are touching the top or bottom, respectively, of the drawing window. ",
        "bbox": [
            236,
            175,
            898,
            355
        ],
        "page_idx": 262
    },
    {
        "type": "text",
        "text": "Save your program and run it again. Now all the bubbles you create, big and small, bounce solidly off the edges of the window, as shown in Figure 10-13. ",
        "bbox": [
            236,
            357,
            871,
            411
        ],
        "page_idx": 262
    },
    {
        "type": "image",
        "img_path": "images/06918ce333f47379d4ad8cee5ff763013666d9451570cf6c7ec72cddea7117a6.jpg",
        "image_caption": [
            "Figure 10-13: Now our bubbles make a “hard” bounce against the window’s edges, for a more solid appearance. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            423,
            801,
            710
        ],
        "page_idx": 262
    },
    {
        "type": "text",
        "text": "Click the maximize button on the app’s title bar or double-click the title bar to expand the window. You’ll see that the bubbles expand to bounce off the edges of the drawing window even when the app is fullscreen. We used the getWidth() and getHeight() methods to determine the right and bottom edges, and those methods will always return the current width and height, so feel free to resize the app as you draw. ",
        "bbox": [
            236,
            771,
            890,
            879
        ],
        "page_idx": 262
    },
    {
        "type": "text",
        "text": "Now let’s make one final addition to give the user even more control via the GUI. ",
        "bbox": [
            236,
            879,
            902,
            914
        ],
        "page_idx": 262
    },
    {
        "type": "footer",
        "text": "Adding Animation and Collision Detection with Timers ",
        "bbox": [
            559,
            951,
            849,
            965
        ],
        "page_idx": 262
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            875,
            950,
            904,
            963
        ],
        "page_idx": 262
    },
    {
        "type": "text",
        "text": "Adding a Slider to Control the Animation Speed ",
        "text_level": 1,
        "bbox": [
            126,
            63,
            722,
            87
        ],
        "page_idx": 263
    },
    {
        "type": "text",
        "text": "At this point, we’ve given the user control over pausing and clearing the screen, as well as the ability to create big and small bubbles. Let’s also give them control over the animation speed by providing a slider that changes the timer’s delay, as shown in Figure 10-14. ",
        "bbox": [
            230,
            94,
            880,
            168
        ],
        "page_idx": 263
    },
    {
        "type": "image",
        "img_path": "images/0c4d2979b24ab45f3230332efea5a69bbe4beff9425fb387cc22a4e4b312f681.jpg",
        "image_caption": [
            "Figure 10-14: Adding a slider will allow the user to speed up or slow down the animation. "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            178,
            676,
            220
        ],
        "page_idx": 263
    },
    {
        "type": "text",
        "text": "First, switch back to the Design tab and add a JLabel and JSlider to the GUI control panel. Scroll down under the Palette to find the Components section and select JLabel. Click inside the small panel just before the Pause/Start button in your GUI design preview to place the label. Change the label’s text to Animation Speed:. ",
        "bbox": [
            230,
            282,
            884,
            372
        ],
        "page_idx": 263
    },
    {
        "type": "text",
        "text": "Next, click the JSlider component on the Palette. Then click between the Animation Speed label and the Pause/Start button to place the slider, as shown in Figure 10-15. ",
        "bbox": [
            230,
            373,
            880,
            427
        ],
        "page_idx": 263
    },
    {
        "type": "image",
        "img_path": "images/5b1837374d872be1cfe6695e5432abc7ce3e4a66c41f4f069c08e4abbdfd182b.jpg",
        "image_caption": [
            "Figure 10-15: Add a label and slider to the app’s GUI control panel in the design view. "
        ],
        "image_footnote": [],
        "bbox": [
            91,
            438,
            902,
            720
        ],
        "page_idx": 263
    },
    {
        "type": "text",
        "text": "You may notice that the JPanel for all the GUI components grows as we add elements. If you click the panel in the Structure pane, you’ll see that the Layout property has the default value java.awt.FlowLayout. This layout expands to fit as many GUI elements as you place inside it. We used the AbsoluteLayout for the Hi-Lo guessing game and Secret Messages apps because we wanted to place elements in specific positions. In this drawing app, we can be more flexible, and the FlowLayout is perfect for adding GUI components on the fly. ",
        "bbox": [
            230,
            765,
            898,
            891
        ],
        "page_idx": 263
    },
    {
        "type": "page_number",
        "text": "240 ",
        "bbox": [
            91,
            950,
            121,
            963
        ],
        "page_idx": 263
    },
    {
        "type": "footer",
        "text": "Chapter 10 ",
        "bbox": [
            144,
            951,
            208,
            966
        ],
        "page_idx": 263
    },
    {
        "type": "text",
        "text": "Customizing the Slider ",
        "text_level": 1,
        "bbox": [
            240,
            63,
            436,
            85
        ],
        "page_idx": 264
    },
    {
        "type": "text",
        "text": "We’ll change a few properties to customize the slider next, so let’s figure out what we want the slider to look like. The slider should allow the user to change the animation speed easily and intuitively. In other words, if the user slides the animation speed to 0, the animation should slow down almost to a stop. If the user slides the animation speed all the way to the right, the animation should go really fast. ",
        "bbox": [
            236,
            91,
            880,
            198
        ],
        "page_idx": 264
    },
    {
        "type": "text",
        "text": "Monitors usually refresh the screen between 30 and 120 times per second, with $6 0 \\ : \\mathrm { H z }$ (short for hertz, a measure of frequency per second) being the most common refresh rate. If we animate the bubbles faster than 120 times per second, your monitor likely won’t be able to show all of the individual frames in the animation. So it makes sense to set our maximum speed value on the slider to 120 frames per second. ",
        "bbox": [
            236,
            199,
            896,
            307
        ],
        "page_idx": 264
    },
    {
        "type": "text",
        "text": "The number of frames per second, abbreviated fps, is often a measure of the smoothness of the animation. A game that runs at 60 fps on your computer will look smoother than a game that runs at 30 fps. ",
        "bbox": [
            236,
            307,
            884,
            360
        ],
        "page_idx": 264
    },
    {
        "type": "text",
        "text": "Select the slider in your design preview. In the Properties pane in the lower left, set the range by specifying a maximum of 120 and a minimum of 0 (the default). To prepare the labels and tick marks, set majorTickSpacing to 30, set minorTickSpacing to 5, and select the checkboxes next to paintLabels, paintTicks, and paintTrack to make all three values true. Finally, change the value property to 30, the default number of frames per second. Figure 10-16 shows the Properties pane with all of our customized values, along with a preview of the JSlider after the changes. ",
        "bbox": [
            236,
            361,
            902,
            506
        ],
        "page_idx": 264
    },
    {
        "type": "image",
        "img_path": "images/04e76599f36d7c8ab7d95c9bd4ce9c254a04487e5f7c6ed9b35ab3d6e388b85f.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            240,
            516,
            498,
            759
        ],
        "page_idx": 264
    },
    {
        "type": "image",
        "img_path": "images/cd962172977b2fa0801ee9d2a87658ac4e3d2bfd3c933e132f38bd6b3956f121.jpg",
        "image_caption": [
            "Figure 10-16: The Properties pane for the Animation Speed slider with customized values (left); a preview of the slider showing the customizations (right) "
        ],
        "image_footnote": [],
        "bbox": [
            529,
            717,
            732,
            759
        ],
        "page_idx": 264
    },
    {
        "type": "text",
        "text": "The slider is labeled from 0 to 120 in increments of 30 because you checked paintLabels and set majorTickSpacing to 30. The small tick marks show up between those values because you set minorTickSpacing to 5 and checked paintTicks. We’ve got a customized slider ready to change the animation speed, so now let’s edit the code to put the slider to work. ",
        "bbox": [
            236,
            837,
            890,
            929
        ],
        "page_idx": 264
    },
    {
        "type": "footer",
        "text": "Adding Animation and Collision Detection with Timers ",
        "bbox": [
            559,
            951,
            849,
            965
        ],
        "page_idx": 264
    },
    {
        "type": "page_number",
        "text": "241 ",
        "bbox": [
            875,
            948,
            902,
            963
        ],
        "page_idx": 264
    },
    {
        "type": "text",
        "text": "Implementing the Slider Event Handler ",
        "text_level": 1,
        "bbox": [
            234,
            64,
            569,
            85
        ],
        "page_idx": 265
    },
    {
        "type": "text",
        "text": "In the Design tab’s design preview, right-click the slider and select Add event handler4change4stateChanged. Eclipse will add a ChangeListener with a stateChanged() method like the one we used in the Secret Messages app’s slider implementation. The code looks like the following: ",
        "bbox": [
            230,
            91,
            873,
            165
        ],
        "page_idx": 265
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "JSlider slider = new JSlider(); slider.addChangeListener(newChangeListener() { public void stateChanged(ChangeEvent e) { } }); ",
        "guess_lang": "javascript",
        "bbox": [
            299,
            178,
            704,
            262
        ],
        "page_idx": 265
    },
    {
        "type": "text",
        "text": "First, we need to declare the JSlider at the top of the class so that we’ll be able to access the slider’s value inside the stateChanged() event handler’s code. Scroll up to the top of the BubblePanel class and add the following line just below the timer and delay variables: ",
        "bbox": [
            230,
            277,
            894,
            351
        ],
        "page_idx": 265
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public class BubblePanel extends JPanel {\n    Random rand = new Random();\n    ArrayList<Bubble> bubbleList;\n    int size = 25;\n    Timer timer;\n    int delay = 33;\n    JPanel slider;\n} ",
        "guess_lang": "txt",
        "bbox": [
            234,
            366,
            583,
            478
        ],
        "page_idx": 265
    },
    {
        "type": "text",
        "text": "Next, scroll back down to the slider code and remove the JSlider type declaration from the beginning of the first line: ",
        "bbox": [
            232,
            496,
            876,
            533
        ],
        "page_idx": 265
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "slider = new JSlider(); // Remove \"JSlider\" from beginning of line slider.addChangeListener(newChangeListener() { public void stateChanged(ChangeEvent e) { } }); ",
        "guess_lang": "javascript",
        "bbox": [
            299,
            548,
            873,
            629
        ],
        "page_idx": 265
    },
    {
        "type": "text",
        "text": "When the user changes the slider’s position, we want to change the speed of the animation by changing the length of delay between each timer event. To do this, we’ll need to get the speed value from the slider, convert the speed into a number of milliseconds, and then set the timer’s delay to the new value. Add the following three lines inside the braces for the stateChanged() method: ",
        "bbox": [
            230,
            647,
            876,
            756
        ],
        "page_idx": 265
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "slider = new JSlider(); slider.addChangeListener(newChangeListener() { public void stateChanged(ChangeEvent arg0) { int speed = slider.getValue() + 1; int delay = 1000 / speed; timer.setDelay(delay); } }); ",
        "guess_lang": "txt",
        "bbox": [
            299,
            771,
            712,
            900
        ],
        "page_idx": 265
    },
    {
        "type": "page_number",
        "text": "242 ",
        "bbox": [
            91,
            950,
            121,
            963
        ],
        "page_idx": 265
    },
    {
        "type": "footer",
        "text": "Chapter 10 ",
        "bbox": [
            144,
            951,
            208,
            966
        ],
        "page_idx": 265
    },
    {
        "type": "text",
        "text": "At $\\bullet$ , we use the getValue() method to get the speed value from the slider and store it in an integer variable named speed. Notice, though, that we add 1 to the slider value here. We’re doing this to prevent a division-byzero error at $\\bullet$ , where we divide 1000 by the speed to determine the number of milliseconds of delay between each frame. The slider can go all the way down to 0, but by adding 1 to its value, we prevent the delay from causing an error: 1000/0 throws a division-by-zero exception, but 1000/1 gives us a very slow 1,000 milliseconds between frames that feels like the animation is nearly stopped. This means that when the user moves the slider to 0, the animation won’t actually stop. In order to stop the animation completely, they’ll need to click the Pause/Start button instead. ",
        "bbox": [
            236,
            64,
            894,
            261
        ],
        "page_idx": 266
    },
    {
        "type": "text",
        "text": "Finally, we update the timer by setting the new delay value in milliseconds $\\otimes$ . This will slow down or speed up the animation by changing the amount of time between timer events. ",
        "bbox": [
            236,
            262,
            896,
            315
        ],
        "page_idx": 266
    },
    {
        "type": "text",
        "text": "Save the file and run it. Move the slider back and forth, and you’ll see you now have control over the speed of the animation. ",
        "bbox": [
            236,
            316,
            884,
            352
        ],
        "page_idx": 266
    },
    {
        "type": "text",
        "text": "The BubbleDrawGUI app is our most interactive, entertaining, visually engaging app so far—a graphical, animated drawing app with a GUI interface that gives the user complete control over the animation. Play around with it for a while—and congratulate yourself on a job well done! ",
        "bbox": [
            236,
            352,
            896,
            424
        ],
        "page_idx": 266
    },
    {
        "type": "text",
        "text": "Share and Share Ali ke ",
        "text_level": 1,
        "bbox": [
            446,
            483,
            698,
            498
        ],
        "page_idx": 266
    },
    {
        "type": "text",
        "text": "This would also be a great app to share with friends. To export a runnable JAR file from Eclipse, go to File4 Export. Then, expand the Java folder and click Runnable JAR file. Click Next and, under Launch configuration, click the drop-down list and choose BubbleDrawGUI – BubbleDrawGUI. ",
        "bbox": [
            273,
            509,
            861,
            579
        ],
        "page_idx": 266
    },
    {
        "type": "text",
        "text": "Under Export destination, click Browse, and then select the destination folder you’d like to save your finished app in, perhaps Desktop. Give your program file a name, such as Bryson’s BubbleDraw.jar. Click Save, then Finish. ",
        "bbox": [
            273,
            582,
            859,
            635
        ],
        "page_idx": 266
    },
    {
        "type": "text",
        "text": "Find where you saved your JAR file, run it, and share it with a friend. Even if your friend doesn’t have Eclipse, as long as they have Java installed, they’ll be able to run your BubbleDrawGUI app. Enjoy! ",
        "bbox": [
            273,
            636,
            861,
            689
        ],
        "page_idx": 266
    },
    {
        "type": "text",
        "text": "What You Learned ",
        "text_level": 1,
        "bbox": [
            130,
            761,
            367,
            783
        ],
        "page_idx": 266
    },
    {
        "type": "text",
        "text": "We built on the BubbleDraw app from Chapter 9 to produce an animated GUI version with bouncing bubbles. Here are some of the skills we’ve added in this chapter: ",
        "bbox": [
            236,
            792,
            906,
            848
        ],
        "page_idx": 266
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Combining a graphical app with a GUI interface ",
            "Copying a project and pasting a new version in the Package Explorer in Eclipse "
        ],
        "bbox": [
            238,
            860,
            900,
            918
        ],
        "page_idx": 266
    },
    {
        "type": "footer",
        "text": "Adding Animation and Collision Detection with Timers ",
        "bbox": [
            559,
            951,
            849,
            966
        ],
        "page_idx": 266
    },
    {
        "type": "page_number",
        "text": "243 ",
        "bbox": [
            875,
            948,
            906,
            965
        ],
        "page_idx": 266
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "Renaming a class or object by refactoring ",
            "•\t Using transparency by setting the alpha component in RGBA colors ",
            "•\t Creating, setting, and starting a Timer object ",
            "•\t Handling Timer object events ",
            "Creating an animation by moving graphical objects with a timer ",
            "Making virtual objects bounce via collision detection ",
            "Using getWidth() and getHeight() to find the edges of the window ",
            "•\t Using a slider to change a timer’s delay ",
            "Varying an animation’s speed by changing the delay property of a timer "
        ],
        "bbox": [
            232,
            64,
            894,
            264
        ],
        "page_idx": 267
    },
    {
        "type": "text",
        "text": "Programming Challenges ",
        "text_level": 1,
        "bbox": [
            126,
            294,
            444,
            318
        ],
        "page_idx": 267
    },
    {
        "type": "text",
        "text": "Try these programming challenge exercises to review and practice what you’ve learned, as well as to expand your programming skills. Visit the book’s website at https://www.nostarch.com/learnjava/ for sample solutions. ",
        "bbox": [
            230,
            325,
            861,
            379
        ],
        "page_idx": 267
    },
    {
        "type": "text",
        "text": "#1: No Bubble Left Behind ",
        "text_level": 1,
        "bbox": [
            232,
            397,
            462,
            418
        ],
        "page_idx": 267
    },
    {
        "type": "text",
        "text": "One problem we noted in the chapter was that some bubbles get a random speed of 0, causing them to seem stuck in place while the other bubbles float away. This happens when the bubble’s xspeed and yspeed are both set to 0. For this challenge, add some code to make sure that no bubbles get a random speed of 0. To do so, you’ll test the xspeed and yspeed values to see whether they’re both equal to 0. If they are, all you need to do is set the two values to something else, like 1. ",
        "bbox": [
            230,
            426,
            890,
            552
        ],
        "page_idx": 267
    },
    {
        "type": "text",
        "text": "Hi n t ",
        "text_level": 1,
        "bbox": [
            150,
            572,
            202,
            587
        ],
        "page_idx": 267
    },
    {
        "type": "text",
        "text": "Add the if statement inside the Bubble() constructor, after the xspeed and yspeed values are created. ",
        "bbox": [
            232,
            570,
            861,
            605
        ],
        "page_idx": 267
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "private class Bubble {\n    --snip--\n    public Bubble(int newX, int newY, int newSize) {\n        --snip--\n        xspeed = rand.nextInt(MAX_SPEED * 2) - MAX_SPEED;\n        yspeed = rand.nextInt(MAX_speed * 2) - MAX_speed;\n        if // Add your code here\n        } ",
        "guess_lang": "java",
        "bbox": [
            232,
            630,
            751,
            759
        ],
        "page_idx": 267
    },
    {
        "type": "text",
        "text": "Make your changes, save and run the file, and voilà—no more stranded bubbles! ",
        "bbox": [
            230,
            777,
            894,
            812
        ],
        "page_idx": 267
    },
    {
        "type": "text",
        "text": "#2: Flexi-Draw! ",
        "text_level": 1,
        "bbox": [
            232,
            831,
            375,
            852
        ],
        "page_idx": 267
    },
    {
        "type": "text",
        "text": "Because of the random speed values, the bubbles move in every direction, which is the effect we originally wanted. But what if we wanted to draw shapes and have them stay together? ",
        "bbox": [
            230,
            858,
            878,
            915
        ],
        "page_idx": 267
    },
    {
        "type": "aside_text",
        "text": "eONNEHNnNINNNIN ",
        "bbox": [
            37,
            64,
            55,
            259
        ],
        "page_idx": 267
    },
    {
        "type": "page_number",
        "text": "244 ",
        "bbox": [
            91,
            950,
            123,
            963
        ],
        "page_idx": 267
    },
    {
        "type": "footer",
        "text": "Chapter 10 ",
        "bbox": [
            144,
            951,
            208,
            966
        ],
        "page_idx": 267
    },
    {
        "type": "text",
        "text": "Setting the speed of every bubble to the same fixed value creates a funky, flexible, twisty effect as the objects bounce off the edges of the screen, as shown in Figure 10-17. ",
        "bbox": [
            236,
            63,
            855,
            118
        ],
        "page_idx": 268
    },
    {
        "type": "image",
        "img_path": "images/f32c4e9dd2e225ba01699890699e54b3fa90cc19539ecf21cd525a43b3f33e4e.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            97,
            127,
            363,
            265
        ],
        "page_idx": 268
    },
    {
        "type": "image",
        "img_path": "images/b8ec333f730e14f6b64a34013a3cfeebd67ef67cad732aab8c19fb5d9e7fcafd.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            367,
            127,
            636,
            265
        ],
        "page_idx": 268
    },
    {
        "type": "image",
        "img_path": "images/bb01d7e4dd8535330b58f0df5cbf393a64f127e9bcdf67329178e53f2e524229.jpg",
        "image_caption": [
            "Figure 10-17: Giving all bubbles the same xspeed and yspeed creates a flexible, bouncy effect that keeps shapes together as they rebound and twist off the edges of the screen. "
        ],
        "image_footnote": [],
        "bbox": [
            638,
            127,
            906,
            265
        ],
        "page_idx": 268
    },
    {
        "type": "text",
        "text": "For this challenge, create a new copy of the app so that the original version is still available. Copy and paste the BubbleDrawGUI project in the Package Explorer pane, renaming it FlexiDraw or another app name of your choice. In the BubblePanel file, change the Bubble() constructor so that instead of creating random xspeed and yspeed variables, it sets them equal to the same value, perhaps like this: ",
        "bbox": [
            236,
            327,
            902,
            436
        ],
        "page_idx": 268
    },
    {
        "type": "equation",
        "text": "$$\nx s p e e d = y s p e e d = 2;\n$$",
        "text_format": "latex",
        "bbox": [
            339,
            453,
            511,
            469
        ],
        "page_idx": 268
    },
    {
        "type": "text",
        "text": "This line of code makes use of an interesting feature of the assignment operator $\\left( = \\right)$ . This is called a chained assignment, because both xspeed and yspeed are being assigned the value of 2, and the equal sign allows us to assign the same value to several variables in a chain sequence. ",
        "bbox": [
            236,
            487,
            902,
            558
        ],
        "page_idx": 268
    },
    {
        "type": "text",
        "text": "You can pick a higher or lower number for your speed value. The important point to note is that we’ve replaced the random speeds with a fixed starting speed and direction for every bubble. Each bubble will move right two pixels and down two pixels the first time it’s drawn, so the bubbles will form groups as you draw. ",
        "bbox": [
            236,
            560,
            886,
            648
        ],
        "page_idx": 268
    },
    {
        "type": "text",
        "text": "Save the file, right-click the FlexiDraw folder in the Package Explorer, and select Run As4Java Application. Pause the animation to draw, and then press Start to see your shapes bend, twist, and bounce as they move around the screen! You can even draw as the animation runs for a cool spiral effect. ",
        "bbox": [
            236,
            650,
            878,
            741
        ],
        "page_idx": 268
    },
    {
        "type": "text",
        "text": "#3: PixelDraw 2.0 ",
        "text_level": 1,
        "bbox": [
            238,
            759,
            404,
            779
        ],
        "page_idx": 268
    },
    {
        "type": "text",
        "text": "For this challenge, you’ll reuse the PixelDraw code from Chapter 9 (Programming Challenge $\\# 2$ on page 219). Adding the pixelated effect to the animated drawing program will allow you to draw square pixel shapes and animate them. Combine this effect with the FlexiDraw trick from the previous challenge exercise, and you’ve got a bouncing, bending Minecraftesque drawing app like the one shown in Figure 10-18. ",
        "bbox": [
            236,
            786,
            898,
            897
        ],
        "page_idx": 268
    },
    {
        "type": "aside_text",
        "text": "PROGRAMMING CHALLENGES ",
        "bbox": [
            938,
            64,
            960,
            258
        ],
        "page_idx": 268
    },
    {
        "type": "footer",
        "text": "Adding Animation and Collision Detection with Timers ",
        "bbox": [
            559,
            951,
            849,
            966
        ],
        "page_idx": 268
    },
    {
        "type": "page_number",
        "text": "245 ",
        "bbox": [
            875,
            950,
            904,
            965
        ],
        "page_idx": 268
    },
    {
        "type": "image",
        "img_path": "images/6d66de8216dd328e21f7d9c207b2e581058716ba4816121ff4871def8a625b47.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            91,
            63,
            494,
            271
        ],
        "page_idx": 269
    },
    {
        "type": "image",
        "img_path": "images/dd8483182461f99eb5ab3b5c245e756b3700fd5bcc13de153862bf89984c3e57.jpg",
        "image_caption": [
            "Figure 10-18: The PixelDraw 2.0 effect (left); the same shape after bouncing off the sides and twisting upside down and backward (right) "
        ],
        "image_footnote": [],
        "bbox": [
            500,
            63,
            900,
            270
        ],
        "page_idx": 269
    },
    {
        "type": "text",
        "text": "Pause the animation to keep the blocks in a clean, gridlike shape like the example in Figure 10-18. Draw with the animation going to achieve a stacked, 3D look like the example in Figure 10-19. ",
        "bbox": [
            230,
            330,
            878,
            387
        ],
        "page_idx": 269
    },
    {
        "type": "image",
        "img_path": "images/fa3d8b7cd0e035e03ec203224564f2077268f59e824cc9d5542716be7fc778f9.jpg",
        "image_caption": [
            "Figure 10-19: The PixelDraw 2.0 code creates a stacked, 3D effect if you drag the mouse while the animation is running. "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            396,
            801,
            686
        ],
        "page_idx": 269
    },
    {
        "type": "text",
        "text": "Here’s a hint to help with the math: to achieve the blocky style, you need to “divide” the screen into a grid based on the size of each block, and then draw a block at that grid location. This time, try changing your x and y variables at the top of the Bubble() constructor to something like the following: ",
        "bbox": [
            230,
            744,
            890,
            819
        ],
        "page_idx": 269
    },
    {
        "type": "equation",
        "text": "$$\nx = \\left(\\text {n e w X} / \\text {n e w S i z e}\\right) * \\text {n e w S i z e} + \\text {n e w S i z e} / 2;\n$$",
        "text_format": "latex",
        "bbox": [
            331,
            833,
            702,
            849
        ],
        "page_idx": 269
    },
    {
        "type": "equation",
        "text": "$$\ny = \\left(\\text {n e w Y} / \\text {n e w S i z e}\\right) * \\text {n e w S i z e} + \\text {n e w S i z e} / 2;\n$$",
        "text_format": "latex",
        "bbox": [
            335,
            851,
            700,
            867
        ],
        "page_idx": 269
    },
    {
        "type": "text",
        "text": "The first part of the formula, (newX / newSize) * newSize, divides the screen into grid blocks based on newSize, the size of the current bubble. In ",
        "bbox": [
            232,
            885,
            880,
            921
        ],
        "page_idx": 269
    },
    {
        "type": "aside_text",
        "text": "eONNEHHTVHNOINWWWRrO ",
        "bbox": [
            37,
            64,
            55,
            258
        ],
        "page_idx": 269
    },
    {
        "type": "page_number",
        "text": "246 ",
        "bbox": [
            91,
            950,
            123,
            963
        ],
        "page_idx": 269
    },
    {
        "type": "footer",
        "text": "Chapter 10 ",
        "bbox": [
            144,
            951,
            210,
            966
        ],
        "page_idx": 269
    },
    {
        "type": "text",
        "text": "order to align the x- and y-positions with a newSize by newSize grid, we need them to be multiples of newSize. For the x-coordinate, we do this by dividing newX by newSize, which results in an integer without decimal points that we multiply by newSize to make an integer that is a multiple of newSize. This places the x-coordinate of the bubble at the edge of the grid block the user clicks in. For example, if newSize is 10, the division and multiplication “snap” the x-coordinate to 10 by 10 gridlines by making x a multiple of 10. If we stopped there, this would result in a bubble with its center at the point where the gridlines meet. Since we want the bubble to be contained within a grid block instead, the second part $^ { ' + }$ newSize/2) shifts the bubble to the center of that block. ",
        "bbox": [
            242,
            61,
            886,
            259
        ],
        "page_idx": 270
    },
    {
        "type": "text",
        "text": "Finally, draw blocks instead of bubbles by changing the draw() method to fill rectangles instead of ovals using fillRect(). ",
        "bbox": [
            242,
            261,
            886,
            297
        ],
        "page_idx": 270
    },
    {
        "type": "text",
        "text": "That’s it! But you can—and should!—make additional changes to customize the new app even further and make it your own. Change the JFrame title in the BubbleDrawGUI.java file or even refactor/rename the files if you’d like. The sky’s the limit! ",
        "bbox": [
            242,
            297,
            886,
            369
        ],
        "page_idx": 270
    },
    {
        "type": "text",
        "text": "After making those changes, you’ll be able to draw beautiful, blocky, pixelized, and animated creations. Take a screenshot and tweet it to your friends. Use the hashtag #JavaTheEasyWay or tag me $@$ brysonpayne, and I’ll retweet it to a few thousand of my friends as well! ",
        "bbox": [
            242,
            369,
            876,
            441
        ],
        "page_idx": 270
    },
    {
        "type": "aside_text",
        "text": "PROGRAMMING CHALLENGES ",
        "bbox": [
            940,
            64,
            958,
            256
        ],
        "page_idx": 270
    },
    {
        "type": "footer",
        "text": "Adding Animation and Collision Detection with Timers ",
        "bbox": [
            561,
            954,
            847,
            965
        ],
        "page_idx": 270
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            875,
            951,
            904,
            963
        ],
        "page_idx": 270
    },
    {
        "type": "text",
        "text": "",
        "text_level": 1,
        "bbox": [
            494,
            187,
            640,
            331
        ],
        "page_idx": 272
    },
    {
        "type": "text",
        "text": "M a k i ng Bu bbl e Dr aw a Mul t i to uc h A nd roid App ",
        "text_level": 1,
        "bbox": [
            307,
            379,
            839,
            432
        ],
        "page_idx": 272
    },
    {
        "type": "image",
        "img_path": "images/237716426bf33ecdd53b08807f4048da0262dc299f3c87c7aadb2da3df14d797.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            162,
            475,
            359,
            626
        ],
        "page_idx": 272
    },
    {
        "type": "text",
        "text": "Our final app will be a multitouch Android version of BubbleDraw that enables the user to draw bubbles with the touch of a finger—or all 10 fingers! ",
        "bbox": [
            327,
            552,
            869,
            660
        ],
        "page_idx": 272
    },
    {
        "type": "text",
        "text": "The processors in Android devices are usually much smaller and slower than desktop CPUs. If you’ve ever gotten an “App Not Responding” error, you’ve seen what happens when an app consumes too much of a device’s processing power. So, instead of a timer, this version of the app will use a new approach to animation called threading, which will make the app use less processing power. Threading is what makes it possible for us to run multiple apps at the same time, or multitask. ",
        "bbox": [
            236,
            662,
            896,
            786
        ],
        "page_idx": 272
    },
    {
        "type": "text",
        "text": "The new BubbleDraw app will also make use of multitouch. Take a look at Figure 11-1, which shows bubbles pouring out of several different locations, where my younger son Max touched his fingers to the screen. ",
        "bbox": [
            236,
            789,
            890,
            843
        ],
        "page_idx": 272
    },
    {
        "type": "image",
        "img_path": "images/2f76d6c8af30c613c06440a52aba415fab169a28a14b7622e7d16fff2544eaf2.jpg",
        "image_caption": [
            "Figure 11-1: The Android version of the BubbleDraw app will use multitouch so that the user can draw bubbles on multiple locations of the screen at once. "
        ],
        "image_footnote": [],
        "bbox": [
            232,
            64,
            597,
            500
        ],
        "page_idx": 273
    },
    {
        "type": "text",
        "text": "The mobile BubbleDraw app will reuse a lot of the features from the desktop and GUI versions, such as the source code from the Bubble class we finished building in Chapter 10. There are a couple of differences in how we draw graphics on Android, however, and since we’re also adding threading and multitouch, you’ll need to learn some new app-building techniques. You’ll develop these new skills using the BubbleDraw app as a foundation. ",
        "bbox": [
            230,
            578,
            898,
            687
        ],
        "page_idx": 273
    },
    {
        "type": "text",
        "text": "Setting Up the BubbleDraw Project ",
        "text_level": 1,
        "bbox": [
            125,
            717,
            563,
            741
        ],
        "page_idx": 273
    },
    {
        "type": "text",
        "text": "Open Android Studio, close any open projects, and click Start a new Android Studio project. In the Create New Project window, enter BubbleDraw in the Application Name field, leave Company Domain the same (example.com or your website name), and then click Next. ",
        "bbox": [
            230,
            749,
            898,
            819
        ],
        "page_idx": 273
    },
    {
        "type": "text",
        "text": "This time, we want to choose a newer API level than we used for our previous apps. Both the Hi-Lo guessing game and Secret Messages apps used GUI interfaces that would work on older Android devices. In this app, however, we’ll need the drawOval() method to draw the bubbles, which requires API level 21 or higher. Select API 21: Android 5.0 (Lollipop) as the Minimum SDK. ",
        "bbox": [
            230,
            821,
            884,
            929
        ],
        "page_idx": 273
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            91,
            950,
            121,
            963
        ],
        "page_idx": 273
    },
    {
        "type": "footer",
        "text": "Chapter 11 ",
        "bbox": [
            144,
            951,
            206,
            966
        ],
        "page_idx": 273
    },
    {
        "type": "text",
        "text": "An additional difference is that instead of the basic activity we used in the Hi-Lo guessing game and Secret Messages apps, in this app we’ll use an empty activity because we don’t need a basic GUI interface. Instead of a regular GUI app layout, we’re going to create an interactive, touch-enabled drawing canvas. On the Add an Activity to Mobile screen, choose Empty Activity and click Next. ",
        "bbox": [
            236,
            63,
            896,
            169
        ],
        "page_idx": 274
    },
    {
        "type": "text",
        "text": "We’ll keep MainActivity as the Activity Name, as we did in our previous apps, but uncheck the Backwards Compatibility checkbox and click Finish. Turning off backward compatibility will keep our code simpler. ",
        "bbox": [
            236,
            171,
            898,
            225
        ],
        "page_idx": 274
    },
    {
        "type": "text",
        "text": "As in the previous two desktop versions of the BubbleDraw app, we’re going to use two Java files to keep our bubble code separate from the main app code. Once your project opens, click the Project tab along the left edge of the screen to display the Project Explorer pane, if it’s not already visible. Then, select the Android tab at the top of the Project Explorer pane. Under app4java, find the main BubbleDraw package (don’t select the androidTest or test packages). Right-click your BubbleDraw package in the Project Explorer and select New4Java Class, as shown in Figure 11-2. ",
        "bbox": [
            236,
            226,
            900,
            369
        ],
        "page_idx": 274
    },
    {
        "type": "image",
        "img_path": "images/897d2bab2027b103eb2863ccb8879cb0a25acf976cae1b7b8e9270e8fb015eb1.jpg",
        "image_caption": [
            "Figure 11-2: Add a new Java class to your main BubbleDraw package for the bubble code. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            381,
            906,
            600
        ],
        "page_idx": 274
    },
    {
        "type": "text",
        "text": "In the Create New Class pop-up window, name the new class BubbleView. In Android, a View is any GUI component. The BubbleView class serves the same function as the BubblePanel class did in the desktop app. All our bubble drawing code will go in this class. ",
        "bbox": [
            236,
            663,
            904,
            732
        ],
        "page_idx": 274
    },
    {
        "type": "text",
        "text": "Android Studio’s Create New Class window allows us to set the superclass and interfaces easily. First, we’ll make our new BubbleView class inherit the ability to draw graphics easily. In the Superclass text field, begin typing ImageView and then click ImageView (android.widget) in the autocomplete drop-down list to make the new class’s parent class ImageView. This will display as android.widget.ImageView after you click it. ",
        "bbox": [
            236,
            735,
            898,
            843
        ],
        "page_idx": 274
    },
    {
        "type": "text",
        "text": "Next we’ll implement an OnTouchListener interface to enable our app to handle touch events, similar to the mouse events we used in the previous versions of the app. In the Interface(s) text field, begin typing ",
        "bbox": [
            236,
            843,
            865,
            897
        ],
        "page_idx": 274
    },
    {
        "type": "footer",
        "text": "Making BubbleDraw a Multitouch Android App ",
        "bbox": [
            597,
            953,
            853,
            966
        ],
        "page_idx": 274
    },
    {
        "type": "page_number",
        "text": "251 ",
        "bbox": [
            875,
            948,
            902,
            963
        ],
        "page_idx": 274
    },
    {
        "type": "text",
        "text": "OnTouchListener and then click OnTouchListener (android.view.View) in the autocomplete drop-down list. Once you click it, it will display as android.view.View.OnTouchListener. ",
        "bbox": [
            230,
            64,
            845,
            115
        ],
        "page_idx": 275
    },
    {
        "type": "text",
        "text": "Click OK. You should now see the BubbleView class inside your com.<yourdomain>.bubbledraw package. Double-click the BubbleView class in the Project Explorer to begin editing the file. The BubbleView class may be underlined in red to let you know it’s missing some code, but we’ll fill in those required pieces as we code the app in the next few sections. ",
        "bbox": [
            230,
            118,
            869,
            208
        ],
        "page_idx": 275
    },
    {
        "type": "text",
        "text": "Creating the BubbleView Constructor ",
        "text_level": 1,
        "bbox": [
            125,
            240,
            585,
            265
        ],
        "page_idx": 275
    },
    {
        "type": "text",
        "text": "Double-click the BubbleView.java tab to expand it to fullscreen in the app for easier editing. Let’s begin building the BubbleView class by adding variables similar to those in the BubblePanel class. Just as in our desktop and GUI versions of the app, we’ll need a random number generator and an ArrayList for the bubbles the user has drawn, as well as some integer variables for the default bubble size and the animation delay in milliseconds. ",
        "bbox": [
            230,
            271,
            898,
            379
        ],
        "page_idx": 275
    },
    {
        "type": "text",
        "text": "Adding the Animation Variables ",
        "text_level": 1,
        "bbox": [
            232,
            397,
            511,
            420
        ],
        "page_idx": 275
    },
    {
        "type": "text",
        "text": "We’ll want random colors and speeds for our bubbles, so inside the opening brace for the BubbleView class, begin typing private Random and then click Random ( java.util) in the autocomplete drop-down list. ",
        "bbox": [
            230,
            426,
            894,
            480
        ],
        "page_idx": 275
    },
    {
        "type": "text",
        "text": "We’ll click the automatic code completion list items every time we add a new type of object in our code. Remember, Android Studio’s code completion feature not only helps you code faster, it reduces errors from mistyped or misspelled class names and import statements. ",
        "bbox": [
            230,
            480,
            896,
            552
        ],
        "page_idx": 275
    },
    {
        "type": "text",
        "text": "Finish declaring your private Random rand $\\mathbf { \\equiv }$ new Random();. Then, add each of the variables shown in the following code. Check your import statements afterward to make sure they match the ones here: ",
        "bbox": [
            230,
            552,
            884,
            606
        ],
        "page_idx": 275
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "package com.yourdomain.bubblesdraw; // Note: your package name may differ  \nimport android.widget.ImageView;  \nimport android.view.View;  \nimport java.util.ArrayList;  \nimport java.util.Random;  \npublic class BubbleView extends ImageView implements View.OnClickListener {  \n    private Random rand = new Random();  \n    private ArrayList<Bubble> bubbleList;  \n    private int size = 50;  \n    private int delay = 33;  \n} ",
        "guess_lang": "java",
        "bbox": [
            232,
            621,
            871,
            798
        ],
        "page_idx": 275
    },
    {
        "type": "text",
        "text": "These four lines are similar to the variables we declared at the top of the BubblePanel class in Chapters 9 and 10, with a few changes for the Android version of the app. The declaration for a random number generator at $\\bullet$ is identical to our old version, because both use java.util.Random. The same goes for ",
        "bbox": [
            230,
            816,
            898,
            888
        ],
        "page_idx": 275
    },
    {
        "type": "page_number",
        "text": "252 ",
        "bbox": [
            91,
            950,
            121,
            963
        ],
        "page_idx": 275
    },
    {
        "type": "footer",
        "text": "Chapter 11 ",
        "bbox": [
            144,
            951,
            206,
            966
        ],
        "page_idx": 275
    },
    {
        "type": "text",
        "text": "the line at $\\bullet$ , where we declare an ArrayList of Bubble objects called bubbleList. This will again be where we store the bubbles created by the user. The Bubble type specifier should show up in red, letting us know we haven’t defined a Bubble class yet. ",
        "bbox": [
            236,
            64,
            902,
            133
        ],
        "page_idx": 276
    },
    {
        "type": "text",
        "text": "At $\\pmb { \\Theta }$ , we’re declaring an integer variable for the default bubble size, but we’ve made it bigger for the Android app because of the smaller pixel size on mobile devices. Your mobile phone or tablet often has a much smaller screen size and denser resolution than your desktop computer, so we’ll set our default bubble size to 50 to make the bubbles easier to see in the app. You can edit this line later to make your bubbles bigger or smaller depending on how you want them to look on your device. ",
        "bbox": [
            236,
            136,
            904,
            261
        ],
        "page_idx": 276
    },
    {
        "type": "text",
        "text": "At $\\bullet$ , we’re keeping the animation speed at 30 fps by setting the delay between frames to 33 milliseconds. Remember, to get the animation speed, we divide 1,000 milliseconds by the number of frames per second, 30 fps, to get the number of milliseconds per frame, $1 , 0 0 0 \\div 3 0 = 3 3$ . ",
        "bbox": [
            236,
            262,
            902,
            334
        ],
        "page_idx": 276
    },
    {
        "type": "text",
        "text": "Both the graphics and animation will be slightly different on Android than they were on desktops, so we’ll need to add two new variables: ",
        "bbox": [
            236,
            334,
            888,
            370
        ],
        "page_idx": 276
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public class BubbleView extends ImageView implements View.OnClickListener {\n    private Random rand = new Random();\n    private ArrayList<Bubble> bubbleList;\n    private int size = 50;\n    private int delay = 33;\n    private Paint myPaint = new Paint();\n    private Handler h = new Handler();\n} ",
        "guess_lang": "java",
        "bbox": [
            238,
            385,
            878,
            515
        ],
        "page_idx": 276
    },
    {
        "type": "text",
        "text": "The line at $\\bullet$ declares an android.graphics.Paint object called myPaint. Think of this as a paintbrush for drawing bubbles on the Android screen. You must have a Paint object to be able to draw shapes on an Android Canvas. Press enter after typing Paint to accept the code completion suggestion, or click Paint after typing it and press alt-enter (or option-enter) to automatically import the android.graphics.Paint class. ",
        "bbox": [
            236,
            531,
            896,
            639
        ],
        "page_idx": 276
    },
    {
        "type": "text",
        "text": "The line at $\\bullet$ declares another new type of variable, an android.os .Handler named h. Make sure you import the android.os version of the Handler class since there are other classes with similar names. This Handler object will enable us to work with threading to accomplish the animation, and you can think of it as analogous to the Timer in the desktop app. Unlike a Timer, however, the Handler will allow us to communicate with a thread, which is an individual process in a multitasking environment where we might be running several apps at once. A Handler won’t keep the CPU busy counting off the time between events as a Timer would; instead, it will release the CPU and allow other tasks to run until it’s time to redraw another frame of animation. ",
        "bbox": [
            236,
            641,
            902,
            837
        ],
        "page_idx": 276
    },
    {
        "type": "text",
        "text": "Next, let’s add a constructor to the app and start drawing bubbles. ",
        "bbox": [
            273,
            837,
            853,
            858
        ],
        "page_idx": 276
    },
    {
        "type": "footer",
        "text": "Making BubbleDraw a Multitouch Android App ",
        "bbox": [
            595,
            953,
            853,
            966
        ],
        "page_idx": 276
    },
    {
        "type": "page_number",
        "text": "253 ",
        "bbox": [
            875,
            948,
            904,
            965
        ],
        "page_idx": 276
    },
    {
        "type": "text",
        "text": "Creating the BubbleView() Constructor ",
        "text_level": 1,
        "bbox": [
            234,
            64,
            565,
            85
        ],
        "page_idx": 277
    },
    {
        "type": "text",
        "text": "The next step will be writing the constructor for the BubbleView class. Below the variables we just declared, enter the constructor code as follows: ",
        "bbox": [
            232,
            91,
            888,
            127
        ],
        "page_idx": 277
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public class BubbleView extends ImageView implements View.OnClickListener {\n    private Random rand = new Random();\n    private ArrayList<Bubble> bubbleList;\n    private int size = 50;\n    private int delay = 33;\n    private Paint myPaint = new Paint();\n    private Handler h = new Handler();\n    public BubbleView(Context context, AttributeSet attributeSet) {\n        super(context, attributeSet);\n    }\n} ",
        "guess_lang": "java",
        "bbox": [
            234,
            142,
            871,
            319
        ],
        "page_idx": 277
    },
    {
        "type": "text",
        "text": "Use automatic code completion to import android.content.Context and android.util.AttributeSet. Android uses these two classes to store information about the current application, and we need to import them to be able to call the super() method. The super() method sets up the app and drawing screen by calling the constructor of the parent class, ImageView. ",
        "bbox": [
            230,
            337,
            896,
            426
        ],
        "page_idx": 277
    },
    {
        "type": "text",
        "text": "For now, the only statement we’ll add to the constructor is a line to initialize the bubbleList: ",
        "bbox": [
            232,
            427,
            888,
            460
        ],
        "page_idx": 277
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public BubbleView(Context context, AttributeSet attributeSet) { super(context, attributeSet); bubbleList = new ArrayList<Bubble>(); } ",
        "guess_lang": "java",
        "bbox": [
            234,
            478,
            769,
            545
        ],
        "page_idx": 277
    },
    {
        "type": "text",
        "text": "Initializing the bubbleList by setting it equal to a new, empty ArrayList of Bubble objects works the same way here as it did in the previous versions of the app. We’ll be able to store new bubbles in bubbleList as the user touches the screen. ",
        "bbox": [
            230,
            561,
            898,
            632
        ],
        "page_idx": 277
    },
    {
        "type": "text",
        "text": "Preparing the Layout to Use BubbleView ",
        "text_level": 1,
        "bbox": [
            232,
            653,
            583,
            675
        ],
        "page_idx": 277
    },
    {
        "type": "text",
        "text": "Now that we’ve begun building the BubbleView class, it’s time to tell our GUI layout file to display BubbleView when the app runs. In the Project Explorer, open app4res4layout4activity_main.xml and switch to the Text tab at the bottom of the window. ",
        "bbox": [
            230,
            680,
            890,
            750
        ],
        "page_idx": 277
    },
    {
        "type": "text",
        "text": "Replace the contents of the activity_main.xml file with the following, substituting your app’s package name in place of mine: ",
        "bbox": [
            232,
            753,
            859,
            789
        ],
        "page_idx": 277
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n\t\txmlns:tools=\"http://schemas.android.com/tools\"\n\t\tandroid:layout_width=\"match_parent\"\n\t\tandroid:layout_height=\"match_parent\" $\\bullet$ android:background=\"#000000\" $\\bullet$ tools:context=\"com.yourdomain.bubblesdraw.BubbleView\"> $\\clubsuit$ <com.yourdomain.bubblesdraw.BubbleView ",
        "bbox": [
            234,
            804,
            863,
            932
        ],
        "page_idx": 277
    },
    {
        "type": "page_number",
        "text": "254 ",
        "bbox": [
            91,
            950,
            121,
            963
        ],
        "page_idx": 277
    },
    {
        "type": "footer",
        "text": "Chapter 11 ",
        "bbox": [
            144,
            951,
            206,
            966
        ],
        "page_idx": 277
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "⑤ android:layout_width=\"match_parent\"  \n⑥ android:layout_height=\"match_parent\"  \n</RelativeLayout> ",
        "guess_lang": "xml",
        "bbox": [
            238,
            63,
            613,
            127
        ],
        "page_idx": 278
    },
    {
        "type": "text",
        "text": "This app uses the default RelativeLayout u, which will allow us to easily place other GUI components later. Much of the RelativeLayout properties are the same as the default, but we’ve added a background color of #000000 v, or black. ",
        "bbox": [
            236,
            145,
            894,
            214
        ],
        "page_idx": 278
    },
    {
        "type": "text",
        "text": "When you replace the package name com.yourdomain.bubbledraw at w and $\\bullet$ with your package name, Android helps you by making a code completion suggestion at $\\bullet$ . ",
        "bbox": [
            236,
            217,
            871,
            271
        ],
        "page_idx": 278
    },
    {
        "type": "text",
        "text": "The line at $\\bullet$ places the BubbleView into the layout, and the lines at $\\pmb { \\Theta }$ and $\\pmb { \\circledcirc }$ tell the program to match the width and height of the activity_main .xml window, which is the parent object of BubbleView. ",
        "bbox": [
            236,
            271,
            888,
            325
        ],
        "page_idx": 278
    },
    {
        "type": "text",
        "text": "The activity_main.xml file is the default GUI layout view that your app loads when it runs. Telling activity_main.xml to load BubbleView as the only item in the layout and match the layout’s width and height results in the BubbleView app taking up the full screen. So, with these changes, the activity_main.xml file now knows to call on BubbleView to show our bubble drawing canvas. ",
        "bbox": [
            236,
            325,
            878,
            433
        ],
        "page_idx": 278
    },
    {
        "type": "text",
        "text": "Speaking of bubbles, let’s reuse the Bubble class from the desktop version of this app. ",
        "bbox": [
            236,
            433,
            878,
            471
        ],
        "page_idx": 278
    },
    {
        "type": "text",
        "text": "Modifying the Bubble Class ",
        "text_level": 1,
        "bbox": [
            130,
            501,
            476,
            525
        ],
        "page_idx": 278
    },
    {
        "type": "text",
        "text": "Open the BubbleDrawGUI project from Chapter 10 in Eclipse to access the old Bubble class. Open the BubblePanel.java class and scroll to the bottom of the file where we defined the Bubble class. Copy the class’s entire source code, from private class Bubble all the way down to the next-to-last closing brace. The final brace in the file is the closing brace for BubblePanel, so make sure you copy only the closing braces for update() and the Bubble class. ",
        "bbox": [
            236,
            533,
            896,
            642
        ],
        "page_idx": 278
    },
    {
        "type": "text",
        "text": "Now that you’ve copied the Bubble class, switch back to Android Studio and place the cursor directly after the closing brace for the BubbleView() constructor. Press enter to insert a blank line before the final closing brace at the bottom of the file. ",
        "bbox": [
            236,
            642,
            898,
            711
        ],
        "page_idx": 278
    },
    {
        "type": "text",
        "text": "Most of the code from the desktop version of Bubble will work, but we’ll need to make a few changes to account for differences in the way Android draws graphics. Let’s start near the top of the Bubble class. In Android graphics, color values are stored as integers instead of Color objects, so change private Color color to private int color as shown here: ",
        "bbox": [
            236,
            713,
            878,
            804
        ],
        "page_idx": 278
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "private class Bubble {\n    private int x;\n    private int y;\n    private int size;\n    private int color;\n    private int xspeed, yspeed;\n    private final int MAX_SPEED = 5; ",
        "guess_lang": "java",
        "bbox": [
            240,
            819,
            547,
            932
        ],
        "page_idx": 278
    },
    {
        "type": "footer",
        "text": "Making BubbleDraw a Multitouch Android App ",
        "bbox": [
            597,
            951,
            853,
            966
        ],
        "page_idx": 278
    },
    {
        "type": "page_number",
        "text": "255 ",
        "bbox": [
            875,
            948,
            904,
            963
        ],
        "page_idx": 278
    },
    {
        "type": "text",
        "text": "All the other variables remain the same. ",
        "bbox": [
            269,
            64,
            621,
            79
        ],
        "page_idx": 279
    },
    {
        "type": "text",
        "text": "We’ll also need to change the color entry in the Bubble() constructor. Delete new Color and replace it with Color.argb, as shown here: ",
        "bbox": [
            232,
            82,
            869,
            118
        ],
        "page_idx": 279
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public Bubble(int newX, int newY, int size) {\n    x = newX;\n    y = newY;\n    size = newVal;\n    color = Color.argrand.nextInt(256), rand.nextInt(256), rand.nextInt(256), rand.nextInt(256));\n    xspeed = rand.nextInt(MAX_SPEED * 2) - MAX_SPEED;\n    yspeed = rand.nextInt(MAX_speed * 2) - MAX_speed; ",
        "guess_lang": "java",
        "bbox": [
            232,
            132,
            684,
            309
        ],
        "page_idx": 279
    },
    {
        "type": "text",
        "text": "Be sure to remove the keyword new, since Color.argb() doesn’t create a new object. Instead, the Color.argb() method will convert four ARGB values (alpha, red, green, and blue) into a single color integer that can be used to change paint colors in Android. ",
        "bbox": [
            230,
            328,
            886,
            399
        ],
        "page_idx": 279
    },
    {
        "type": "text",
        "text": "This is the first time we’ve used the Color class in this app, so it will show up in red in the Android Studio text editor. You can either manually add import android.graphics.Color; to the import statements at the top of the file, or you can click the word Color and press alt-enter (or option-enter) to have Android Studio perform the import for you. Pressing alt-enter is similar to accepting a code completion suggestion, except that you can use alt-enter to import a class even after you’ve typed your code. ",
        "bbox": [
            230,
            400,
            888,
            525
        ],
        "page_idx": 279
    },
    {
        "type": "text",
        "text": "Next, we’ll need to change the entire draw() method in the Bubble class. Replace the draw() method we copied with the following: ",
        "bbox": [
            232,
            525,
            886,
            563
        ],
        "page_idx": 279
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "xspeed $=$ rand.nextInt(MAX_SPEED \\*2)-MAX_SPEED; yspeed $=$ rand.nextInt(MAX_speed \\*2)-MAX_SPEED;   \npublic void draw(Canvas canvas){ myPaint.setColor(color); 3 canvas.drawOval(x-size/2,y-size/2, x+size/2，y+size/2，myPaint);   \npublic void update() { ",
        "bbox": [
            277,
            576,
            751,
            720
        ],
        "page_idx": 279
    },
    {
        "type": "text",
        "text": "At $\\bullet$ , the draw() method accepts a parameter of type android.graphics .Canvas instead of java.awt.Graphics. Be sure to import the Canvas class either as you type or by clicking it and pressing alt-enter (or option-enter) afterward. ",
        "bbox": [
            232,
            740,
            876,
            810
        ],
        "page_idx": 279
    },
    {
        "type": "text",
        "text": "At $\\bullet$ , we set the color for the myPaint object to use this bubble’s color value. ",
        "bbox": [
            267,
            812,
            896,
            828
        ],
        "page_idx": 279
    },
    {
        "type": "text",
        "text": "The line at $\\otimes$ differs from the desktop version in several places. First, the command to draw an oval on an Android Canvas is drawOval() instead of fillOval(). Second, we specify the bounding box that will hold the oval using its left, top, right, bottom values instead of left, top, width, height. The left and top remain the same, at x - size/2 and y - size/2. (Remember, we ",
        "bbox": [
            230,
            830,
            878,
            918
        ],
        "page_idx": 279
    },
    {
        "type": "page_number",
        "text": "256 ",
        "bbox": [
            91,
            950,
            121,
            963
        ],
        "page_idx": 279
    },
    {
        "type": "footer",
        "text": "Chapter 11 ",
        "bbox": [
            144,
            951,
            206,
            966
        ],
        "page_idx": 279
    },
    {
        "type": "text",
        "text": "subtract half the width and height of the bubble to center it on the $( \\textsf { x } , \\textsf { y } )$ location where the user touched the screen.) The right side of the bubble’s bounding box is x + size/2, and the bottom of the bubble is $y ~ + ~ \\mathsf { s i z e } / 2$ , as shown in Figure 11-3. Instead of using the width and height to calculate the bottom-right corner of the bounding box for the oval, as we did in the desktop version, Android requires us to specify the x- and y-coordinates of the bottom-right corner, or x + size/2, y + size/2. Finally, the drawOval() method requires a Paint object, so we pass it myPaint. ",
        "bbox": [
            236,
            63,
            890,
            208
        ],
        "page_idx": 280
    },
    {
        "type": "image",
        "img_path": "images/abd31267dae25110f69d0d3ef4284c03c39ae4a2f66415f7f0868035f56a4cfa.jpg",
        "image_caption": [
            "Figure 11-3: Android’s drawOval() method takes the top-left and bottom-right coordinates of an imaginary bounding box instead of the top, left, width, and height values we saw in the desktop Swing toolkit. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            219,
            759,
            519
        ],
        "page_idx": 280
    },
    {
        "type": "text",
        "text": "Those are the only changes needed to port the Bubble class from desktop to Android. Save your file after making these changes. Next, we’ll draw all the bubbles on the screen. ",
        "bbox": [
            236,
            594,
            894,
            648
        ],
        "page_idx": 280
    },
    {
        "type": "text",
        "text": "Drawing in Android with the onDraw() Method ",
        "text_level": 1,
        "bbox": [
            130,
            680,
            722,
            705
        ],
        "page_idx": 280
    },
    {
        "type": "text",
        "text": "We want to test the app’s ability to draw bubbles on the screen, so next we’ll add an onDraw() method to our BubbleView class. The onDraw() method in a View class is similar to the paintComponent() method in a JPanel: it tells Java what to draw whenever the screen is refreshed. ",
        "bbox": [
            236,
            711,
            898,
            782
        ],
        "page_idx": 280
    },
    {
        "type": "text",
        "text": "We want to draw the list of bubbles, so add the following code below the BubbleView() constructor in BubbleView.java and above the Bubble class: ",
        "bbox": [
            236,
            783,
            904,
            819
        ],
        "page_idx": 280
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public BubbleView(Context context, AttributeSet attributeSet) { super(context, attributeSet); bubbleList = new ArrayList<Bubble>(); } ",
        "guess_lang": "java",
        "bbox": [
            238,
            836,
            773,
            900
        ],
        "page_idx": 280
    },
    {
        "type": "footer",
        "text": "Making BubbleDraw a Multitouch Android App ",
        "bbox": [
            597,
            951,
            853,
            966
        ],
        "page_idx": 280
    },
    {
        "type": "page_number",
        "text": "257 ",
        "bbox": [
            875,
            948,
            904,
            963
        ],
        "page_idx": 280
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "protected void onDraw(Canvas canvas) { for (Bubble b :bubbleList) b.draw(canvas); } private class Bubble { ",
        "guess_lang": "txt",
        "bbox": [
            210,
            64,
            559,
            144
        ],
        "page_idx": 281
    },
    {
        "type": "text",
        "text": "At u, the onDraw() method must be declared as protected with one parameter, a Canvas object, to work because it must exactly match the default View.onDraw() method that we’re overriding. We need this method because it’s required in all View subclasses and BubbleView is a child class of ImageView, which is a subclass of View. The onDraw() method will be called anytime the screen containing our BubbleView needs to be refreshed. ",
        "bbox": [
            230,
            162,
            878,
            268
        ],
        "page_idx": 281
    },
    {
        "type": "text",
        "text": "The inside of the onDraw() method reuses the for-each loop at $\\bullet$ that calls each bubble’s draw() function. The line at $\\bullet$ could be read as follows: “For each Bubble b in bubbleList, draw b on the Android Canvas.” ",
        "bbox": [
            230,
            271,
            880,
            322
        ],
        "page_idx": 281
    },
    {
        "type": "text",
        "text": "There are just a couple of steps left before we can test our app’s ability to draw colorful bubbles. Let’s knock those out to see an early beta test of the Android BubbleDraw app. ",
        "bbox": [
            230,
            324,
            880,
            379
        ],
        "page_idx": 281
    },
    {
        "type": "text",
        "text": "Testing BubbleDraw with 100 Bubbles ",
        "text_level": 1,
        "bbox": [
            125,
            408,
            603,
            430
        ],
        "page_idx": 281
    },
    {
        "type": "text",
        "text": "We wrote a short method called testBubbles() in the first version of the BubbleDraw desktop app. It looked like the following: ",
        "bbox": [
            230,
            439,
            847,
            477
        ],
        "page_idx": 281
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public void testBubbles() { for(int n = 0; n < 100; n++) { int x = rand.nextInt(600); int y = rand.nextInt(400); int size = rand.nextInt(50); bubbleList.add(new Bubble(x, y, size)); } repaint(); } ",
        "guess_lang": "javascript",
        "bbox": [
            265,
            490,
            684,
            636
        ],
        "page_idx": 281
    },
    {
        "type": "text",
        "text": "The purpose of testBubbles() was to see whether we could draw bubbles on the screen before we had implemented the mouse and timer event handlers. Let’s do the same for the Android version of the app. ",
        "bbox": [
            230,
            653,
            878,
            708
        ],
        "page_idx": 281
    },
    {
        "type": "text",
        "text": "Adding testBubbles() ",
        "text_level": 1,
        "bbox": [
            232,
            726,
            416,
            749
        ],
        "page_idx": 281
    },
    {
        "type": "text",
        "text": "First, let’s add a slightly modified version of the testBubbles() function just below the onDraw() method in BubbleView.java: ",
        "bbox": [
            230,
            753,
            878,
            792
        ],
        "page_idx": 281
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "protected void onDraw(Canvas canvas) { for (Bubble b :bubbleList) b.draw(canvas);   \npublic void testBubbles() { for(int n = 0; n < 100; n++) { int x = rand.nextInt(600); int y = rand.nextInt(600); ",
        "guess_lang": "java",
        "bbox": [
            232,
            806,
            559,
            935
        ],
        "page_idx": 281
    },
    {
        "type": "page_number",
        "text": "258 ",
        "bbox": [
            91,
            950,
            121,
            963
        ],
        "page_idx": 281
    },
    {
        "type": "footer",
        "text": "Chapter 11 ",
        "bbox": [
            144,
            951,
            206,
            966
        ],
        "page_idx": 281
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "int s = rand.randint(size) + size;\nBubbleList.add(new Bubble(x, y, s));\n}\n⑤ invalidate();\n} private class Bubble { ",
        "guess_lang": "txt",
        "bbox": [
            238,
            61,
            630,
            159
        ],
        "page_idx": 282
    },
    {
        "type": "text",
        "text": "The first two lines are identical to the Eclipse version of testBubbles(). These lines declare the function and set up a for loop to run 100 times. At $\\bullet$ , we keep the range of x values the same and set it to 600, but you can make this larger if you know the resolution of your device. At $\\bullet$ , we change the range for the random y value to 600 for the bubble’s vertical location. ",
        "bbox": [
            236,
            175,
            890,
            264
        ],
        "page_idx": 282
    },
    {
        "type": "text",
        "text": "At $\\pmb { \\Theta }$ , we generate larger bubbles by adding a random number between 0 and size to the default value size. In this case, we’ll have bubbles ranging from 50 to 100 pixels in diameter. ",
        "bbox": [
            236,
            267,
            894,
            319
        ],
        "page_idx": 282
    },
    {
        "type": "text",
        "text": "At $\\bullet$ , we create a new Bubble object using the three random values we just created and add it to the bubbleList. ",
        "bbox": [
            236,
            321,
            878,
            354
        ],
        "page_idx": 282
    },
    {
        "type": "text",
        "text": "Finally, at $\\pmb { \\Theta }$ we’re using a new function, invalidate(), which works similarly to the repaint() function in the desktop version of BubbleDraw. It tells Java that the screen needs to be updated, or refreshed. The invalidate() function clears the screen and calls the onDraw() method, which will draw all the bubbles in bubbleList. ",
        "bbox": [
            236,
            357,
            898,
            442
        ],
        "page_idx": 282
    },
    {
        "type": "text",
        "text": "Now that we’ve defined the testBubbles() method, we just need to call that method from the BubbleView() constructor to try it out: ",
        "bbox": [
            236,
            447,
            878,
            483
        ],
        "page_idx": 282
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public BubbleView(Context context, AttributeSet attributeSet) { super(context, attributeSet); bubbleList = new ArrayList<Bubble>(); testBubbles(); } ",
        "guess_lang": "java",
        "bbox": [
            238,
            498,
            777,
            579
        ],
        "page_idx": 282
    },
    {
        "type": "text",
        "text": "Now, when the app loads, the testBubbles() method will be called to populate the bubbleList with 100 random bubbles. ",
        "bbox": [
            236,
            597,
            865,
            633
        ],
        "page_idx": 282
    },
    {
        "type": "text",
        "text": "Fixing the OnTouchListener Error ",
        "text_level": 1,
        "bbox": [
            238,
            653,
            521,
            672
        ],
        "page_idx": 282
    },
    {
        "type": "text",
        "text": "There’s only one issue left to fix before we can test our app: the BubbleView class is still underlined in red to let us know there’s a possible compile error. Mouse over the line public class BubbleView, and you’ll see an error that tells us we’re missing an onTouch() method for the OnTouchListener. In other words, this error reminds us that we’ve defined the BubbleView class as implementing an OnTouchListener, but we haven’t yet added an onTouch() method to handle touch events. ",
        "bbox": [
            236,
            680,
            904,
            803
        ],
        "page_idx": 282
    },
    {
        "type": "text",
        "text": "To fix this error, mouse over it and click the red lightbulb warning icon. In the drop-down menu under the red lightbulb, click Implement methods. A pop-up window will appear, asking you to select which methods to implement, as shown in Figure 11-4. ",
        "bbox": [
            236,
            807,
            904,
            879
        ],
        "page_idx": 282
    },
    {
        "type": "footer",
        "text": "Making BubbleDraw a Multitouch Android App ",
        "bbox": [
            597,
            953,
            853,
            966
        ],
        "page_idx": 282
    },
    {
        "type": "page_number",
        "text": "259 ",
        "bbox": [
            875,
            948,
            904,
            963
        ],
        "page_idx": 282
    },
    {
        "type": "image",
        "img_path": "images/13dbd6050c8632c2eaa6d1449adede688db942ebb9d7b84012fef39a7865e6cd.jpg",
        "image_caption": [
            "Figure 11-4: Android Studio implements the onTouch() method to complete the OnTouchListener. "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            64,
            625,
            225
        ],
        "page_idx": 283
    },
    {
        "type": "text",
        "text": "Click OK, and Android Studio will insert an onTouch() method into your code to clear the error: ",
        "bbox": [
            232,
            285,
            896,
            319
        ],
        "page_idx": 283
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "@override   \npublic boolean onTouch(View view, MotionEvent motionEvent) { return false; } ",
        "guess_lang": "txt",
        "bbox": [
            232,
            337,
            742,
            403
        ],
        "page_idx": 283
    },
    {
        "type": "text",
        "text": "If the code Android Studio inserted doesn’t match what you see here, correct the parameter names in your code to match view and motionEvent as shown. This is the method that we’ll modify to handle touch events later, but for now let’s give our app a test run to see it draw 100 bubbles! ",
        "bbox": [
            230,
            421,
            884,
            492
        ],
        "page_idx": 283
    },
    {
        "type": "text",
        "text": "Running the BubbleDraw App ",
        "text_level": 1,
        "bbox": [
            232,
            512,
            492,
            534
        ],
        "page_idx": 283
    },
    {
        "type": "text",
        "text": "Press the green run button to test your app. In the Select Deployment Target window, choose your emulator or device, as we did in “Running the App on the Android Emulator” on page 94. I’m selecting my Nexus 6P emulator, shown in Figure 11-5. ",
        "bbox": [
            230,
            539,
            884,
            612
        ],
        "page_idx": 283
    },
    {
        "type": "image",
        "img_path": "images/f4f5f335b74ee55d3fe4ed5d9d16bb18ac06b7a8afae88c074db2ac3498aaef0.jpg",
        "image_caption": [
            "Figure 11-5: Press the run button to compile and run your app. Then select your emulator or device and click OK. "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            623,
            823,
            819
        ],
        "page_idx": 283
    },
    {
        "type": "text",
        "text": "Click OK to start your device and deploy the BubbleDraw app we’ve developed to this point. You should see bubbles fill the upper-left portion of your screen, as shown in Figure 11-6. The bubbles appear in the upper ",
        "bbox": [
            230,
            881,
            875,
            936
        ],
        "page_idx": 283
    },
    {
        "type": "page_number",
        "text": "260 ",
        "bbox": [
            91,
            950,
            121,
            963
        ],
        "page_idx": 283
    },
    {
        "type": "footer",
        "text": "Chapter 11 ",
        "bbox": [
            144,
            951,
            206,
            965
        ],
        "page_idx": 283
    },
    {
        "type": "text",
        "text": "left because we only generated x- and y-coordinates between 0 and 600 and most Android devices can display 1,000 or more pixels in each direction. Remember, in Java, the (0,0) coordinate is in the upper left. ",
        "bbox": [
            236,
            63,
            898,
            118
        ],
        "page_idx": 284
    },
    {
        "type": "image",
        "img_path": "images/9285b9fa556b564cebe44f5dca9a86323f7f5f6b8f10e207e9d6320fe7294925.jpg",
        "image_caption": [
            "Figure 11-6: A successful test run of the BubbleDraw app to this point; 100 bubbles appear in the upper left of the screen. "
        ],
        "image_footnote": [],
        "bbox": [
            242,
            129,
            648,
            603
        ],
        "page_idx": 284
    },
    {
        "type": "text",
        "text": "Similar to the first test run of the desktop version of the app, there’s no animation or touch interaction, because we haven’t added them yet. But our app runs on the emulator and draws our bubbles correctly on the screen. ",
        "bbox": [
            236,
            666,
            906,
            720
        ],
        "page_idx": 284
    },
    {
        "type": "text",
        "text": "Next, let’s add animation to make the bubbles move. And then we’ll add the final touch—touch! ",
        "bbox": [
            236,
            720,
            869,
            755
        ],
        "page_idx": 284
    },
    {
        "type": "text",
        "text": "Using Threaded Animation and Multitasking in Java ",
        "text_level": 1,
        "bbox": [
            130,
            788,
            781,
            812
        ],
        "page_idx": 284
    },
    {
        "type": "text",
        "text": "The threading we’ll use to achieve smooth animation in the BubbleDraw Android app is just like the threading you’d add to any multitasking app in Java. We mentioned earlier that one advantage of using threading for animation is that it doesn’t tie up the processor while it waits between redrawing each frame. But threading can also be used in any other apps you develop that run multiple processes at once, such as apps that query a ",
        "bbox": [
            236,
            819,
            884,
            930
        ],
        "page_idx": 284
    },
    {
        "type": "footer",
        "text": "Making BubbleDraw a Multitouch Android App ",
        "bbox": [
            597,
            953,
            853,
            966
        ],
        "page_idx": 284
    },
    {
        "type": "page_number",
        "text": "261 ",
        "bbox": [
            875,
            948,
            902,
            963
        ],
        "page_idx": 284
    },
    {
        "type": "text",
        "text": "database or upload a file in the background. Using threading allows your app to do background tasks without freezing up the GUI interface while it waits for a process to finish. ",
        "bbox": [
            230,
            64,
            884,
            117
        ],
        "page_idx": 285
    },
    {
        "type": "text",
        "text": "Threading is especially important on devices such as phones and tablets that have limited processing power. Unresponsive apps are especially annoying, and threading will help prevent the BubbleDraw app from becoming one. ",
        "bbox": [
            230,
            118,
            886,
            190
        ],
        "page_idx": 285
    },
    {
        "type": "text",
        "text": "The Handler h object that we created earlier in the chapter is what lets us communicate with a thread. In this app, we’ll create a thread that executes the animation by updating the positions of all the bubbles. Then, we’ll use our handler, h, to tell the thread when to run. This will allow the handler and thread to function like our Timer animation in the previous chapters, but without hogging the CPU between frames. ",
        "bbox": [
            230,
            190,
            898,
            298
        ],
        "page_idx": 285
    },
    {
        "type": "text",
        "text": "There are two ways to add threading to your applications in Java: by extending the Thread class or by implementing the Runnable interface. We’ll choose the Runnable approach. ",
        "bbox": [
            230,
            298,
            882,
            352
        ],
        "page_idx": 285
    },
    {
        "type": "text",
        "text": "A class that implements Runnable() needs a run() method that tells the thread what to do when the thread is running. For BubbleDraw, we want the run() method to perform the animation by moving the bubbles and redrawing the screen. ",
        "bbox": [
            230,
            352,
            875,
            424
        ],
        "page_idx": 285
    },
    {
        "type": "text",
        "text": "Let’s create a Runnable object called r and place it right below the BubbleView() constructor: ",
        "bbox": [
            232,
            424,
            831,
            460
        ],
        "page_idx": 285
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "public BubbleView(Context context, AttributeSet attributeSet) { super(context, attributeSet); bubbleList = new ArrayList<Bubble>(); testBubbles();   \n} $\\bullet$ private Runnable r = new Runnable() { @Override $\\bullet$ public void run(){   \n} $\\bullet$ }; protected void onDraw(Canvas canvas){ ",
        "bbox": [
            210,
            475,
            769,
            651
        ],
        "page_idx": 285
    },
    {
        "type": "text",
        "text": "As you type the second half of the declaration at $\\bullet$ , a code completion suggestion will pop up to complete the new Runnable() object. Accept the java.lang.Runnable code completion, and Android Studio will automatically add the public void run() method stub for you v. Notice the semicolon after the closing brace for the Runnable object w—this is required because we’re defining r and assigning it to a new Runnable object all at the same time. The semicolon at $\\otimes$ actually completes the statement we started back at $\\bullet$ . The automatic code completion doesn’t add the semicolon after the closing brace at $\\otimes$ , though, so make sure you’ve added it to avoid a compiler error. ",
        "bbox": [
            230,
            669,
            896,
            831
        ],
        "page_idx": 285
    },
    {
        "type": "text",
        "text": "Now we need to add the code inside the run() method to tell Java what we want to happen every time our Runnable thread r is called: ",
        "bbox": [
            230,
            831,
            884,
            869
        ],
        "page_idx": 285
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "private Runnable r = new Runnable() {\n    @Override\n    public void run() { ",
        "guess_lang": "java",
        "bbox": [
            232,
            884,
            549,
            933
        ],
        "page_idx": 285
    },
    {
        "type": "page_number",
        "text": "262 ",
        "bbox": [
            91,
            950,
            121,
            963
        ],
        "page_idx": 285
    },
    {
        "type": "footer",
        "text": "Chapter 11 ",
        "bbox": [
            144,
            951,
            206,
            966
        ],
        "page_idx": 285
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "1 for(Bubble b :bubbleList) 2b.update();   \n3 invalidate();   \n}   \n};   \nprotected void onDraw(Canvas canvas) { for (Bubble b :bubbleList) b.draw(canvas);   \n} ",
        "guess_lang": "txt",
        "bbox": [
            238,
            61,
            567,
            208
        ],
        "page_idx": 286
    },
    {
        "type": "text",
        "text": "At $\\bullet$ , we use the for-each statement again to loop through every Bubble b in bubbleList. At each iteration of the loop, we call b.update() $\\otimes$ to update the location of each bubble for the next frame of animation. ",
        "bbox": [
            236,
            223,
            894,
            277
        ],
        "page_idx": 286
    },
    {
        "type": "text",
        "text": "At $\\pmb { \\Theta }$ , we call the invalidate() function after the loop has finished running to clear the screen and tell Java to redraw the view by calling the onDraw() method. ",
        "bbox": [
            236,
            277,
            904,
            330
        ],
        "page_idx": 286
    },
    {
        "type": "text",
        "text": "The final step to adding thread-based animation is to connect the Handler h to the Runnable thread r. We’ll do this at the end of the onDraw() method: ",
        "bbox": [
            236,
            331,
            906,
            369
        ],
        "page_idx": 286
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "protected void onDraw(Canvas canvas) { for (Bubble b :bubbleList) b.draw(canvas); h.postDelayed(r, delay); } ",
        "guess_lang": "txt",
        "bbox": [
            238,
            384,
            567,
            465
        ],
        "page_idx": 286
    },
    {
        "type": "text",
        "text": "The postDelayed() method sends a message from the handler to our thread r, telling it to run again after a delay of 33 milliseconds, the value of delay. ",
        "bbox": [
            238,
            483,
            595,
            555
        ],
        "page_idx": 286
    },
    {
        "type": "text",
        "text": "Save these changes and run the app again. You’ll see the 100 test bubbles slowly spread out to fill the screen, as shown in Figure 11-7. ",
        "bbox": [
            236,
            555,
            593,
            627
        ],
        "page_idx": 286
    },
    {
        "type": "text",
        "text": "Even at a rate of 30 frames per second, your fastest bubbles probably seem quite slow. This is because of the larger number of pixels on your Android device or emulator. You may recall that we set a MAX_SPEED in the Bubble class of just 5 pixels per frame. The Nexus 6P phone that we’re emulating has a screen resolution of $1 , 4 4 0 \\times 2 , 5 6 0$ , meaning it would take more than 500 frames, or more than 15 seconds, for the fastest bubbles to travel the full length of the screen. ",
        "bbox": [
            236,
            629,
            591,
            861
        ],
        "page_idx": 286
    },
    {
        "type": "image",
        "img_path": "images/c0f7ad95f4e39249ac1ce29da63d3e49278186ef124240284bd53360f56db1fb.jpg",
        "image_caption": [
            "Figure 11-7: We have liftoff! Our bubbles are finally animated, courtesy of threaded animation. "
        ],
        "image_footnote": [],
        "bbox": [
            626,
            484,
            904,
            864
        ],
        "page_idx": 286
    },
    {
        "type": "footer",
        "text": "Making BubbleDraw a Multitouch Android App ",
        "bbox": [
            595,
            951,
            853,
            966
        ],
        "page_idx": 286
    },
    {
        "type": "page_number",
        "text": "263 ",
        "bbox": [
            875,
            948,
            904,
            965
        ],
        "page_idx": 286
    },
    {
        "type": "text",
        "text": "Let’s speed that up just a bit by changing MAX_SPEED to a higher value, like 15 pixels per frame: ",
        "bbox": [
            232,
            64,
            865,
            100
        ],
        "page_idx": 287
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "private class Bubble {\n    private int x;\n    private int y;\n    private int size;\n    private int color;\n    private int xspeed, yspeed;\n    private final int MAX_SPEED = 15; ",
        "guess_lang": "java",
        "bbox": [
            234,
            115,
            551,
            229
        ],
        "page_idx": 287
    },
    {
        "type": "text",
        "text": "Save the file and run it again. Your bubbles will move around the screen more fluidly now. Feel free to increase or decrease the value to suit your taste. ",
        "bbox": [
            230,
            247,
            896,
            280
        ],
        "page_idx": 287
    },
    {
        "type": "text",
        "text": "Now that we’ve implemented the animation, it’s time to add touch to make the app respond to the user. ",
        "bbox": [
            230,
            283,
            869,
            319
        ],
        "page_idx": 287
    },
    {
        "type": "text",
        "text": "Using Touch to Draw with Your Finger ",
        "text_level": 1,
        "bbox": [
            125,
            349,
            601,
            375
        ],
        "page_idx": 287
    },
    {
        "type": "text",
        "text": "One feature that made the desktop BubbleDraw app so much fun was the fact that we could click and drag the mouse to draw bubbles anywhere we wanted. We’re going to bring that same level of enjoyment to the Android app, and then we’ll turn it up to 11 when we add multitouch! ",
        "bbox": [
            230,
            382,
            878,
            453
        ],
        "page_idx": 287
    },
    {
        "type": "text",
        "text": "You’ve already seen where we need to add the touch event handler code—in the onTouch() function we added earlier. ",
        "bbox": [
            230,
            454,
            851,
            487
        ],
        "page_idx": 287
    },
    {
        "type": "text",
        "text": "To handle touch events, first we need to determine the location of the user’s touch. Then we’ll add a bubble at that location. ",
        "bbox": [
            230,
            490,
            882,
            524
        ],
        "page_idx": 287
    },
    {
        "type": "text",
        "text": "To find out the x- and y-coordinates of the user’s touch, we can use motionEvent.getX() and motionEvent.getY(). Let’s add the full onTouch() method and then break it down: ",
        "bbox": [
            230,
            525,
            898,
            578
        ],
        "page_idx": 287
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public boolean onTouch(View view, MotionEvent motionEvent) {  \n    int x = (int) motionEvent.getX();  \n    int y = (int) motionEvent.getY();  \n    int s = rand.nextInt(size) + size;  \n    bubbleList.add(new Bubble(x, y, s));  \n    return true;  \n} ",
        "guess_lang": "txt",
        "bbox": [
            234,
            596,
            742,
            710
        ],
        "page_idx": 287
    },
    {
        "type": "text",
        "text": "At $\\bullet$ , we get the x-location of the user’s touch with the method motionEvent.getX(). Notice, however, that we have to cast the value to an integer—the motionEvent.getX() returns a floating-point value in Android, so we cast it with (int). The y-location $\\bullet$ works the same way, and at $\\otimes$ , we generate a random size as we did in testBubbles() and store it in s. ",
        "bbox": [
            230,
            726,
            894,
            815
        ],
        "page_idx": 287
    },
    {
        "type": "text",
        "text": "At $\\bullet$ , we create a Bubble object with the given x, y, and s values and add it to bubbleList. ",
        "bbox": [
            230,
            816,
            886,
            851
        ],
        "page_idx": 287
    },
    {
        "type": "page_number",
        "text": "264 ",
        "bbox": [
            91,
            950,
            123,
            963
        ],
        "page_idx": 287
    },
    {
        "type": "footer",
        "text": "Chapter 11 ",
        "bbox": [
            144,
            951,
            206,
            966
        ],
        "page_idx": 287
    },
    {
        "type": "text",
        "text": "The last line, at $\\pmb { \\Theta }$ , requires a bit of explanation. Notice that the return type of the onTouch() method is a boolean. This means that the onTouch() method must return a true or false value. In Android, the onTouch() method should return true if you’ve fully handled the touch event. If you want Android to handle a touch event, such as scrolling or zooming, after your onTouch() event handler is finished, return false. ",
        "bbox": [
            236,
            64,
            884,
            171
        ],
        "page_idx": 288
    },
    {
        "type": "text",
        "text": "For the drawing app, we don’t need Android to scroll the screen when the user swipes—we’ve handled the touch event completely for our app by adding a bubble where the user touched, so we return the value true. ",
        "bbox": [
            236,
            172,
            886,
            225
        ],
        "page_idx": 288
    },
    {
        "type": "text",
        "text": "The last step is similar to the steps for the mouse listener in the desktop versions of BubbleDraw: we need to add the listener in the constructor. Scroll up to the BubbleView() constructor, comment out the testBubbles() function, and add the line of code shown here: ",
        "bbox": [
            236,
            226,
            894,
            297
        ],
        "page_idx": 288
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public BubbleView(Context context, AttributeSet attributeSet) { super(context, attributeSet); bubbleList = new ArrayList<Bubble>(); // testBubbles(); setOnTouchListener(this); } ",
        "guess_lang": "txt",
        "bbox": [
            238,
            313,
            777,
            411
        ],
        "page_idx": 288
    },
    {
        "type": "text",
        "text": "We comment out the call to testBubbles() because we don’t need the 100 test bubbles anymore. We’re going to add bubbles by touching the screen on our Android device or by clicking and dragging the mouse to simulate a touch on the Android emulator. The setOnTouchListener(this) statement adds a listener for touch events, telling Java that this, an object of the BubbleView class, will handle the touch events. ",
        "bbox": [
            236,
            429,
            595,
            624
        ],
        "page_idx": 288
    },
    {
        "type": "text",
        "text": "With these changes, we’re ready to try out our app. Save your code and run the app on your emulator. Click and drag on the emulator window to simulate dragging your finger across the screen. You’ll see bubbles flow from the location you touch, as shown in Figure 11-8. ",
        "bbox": [
            236,
            627,
            595,
            753
        ],
        "page_idx": 288
    },
    {
        "type": "text",
        "text": "You can also run this on your physical Android device. We’ll review how to do that in the next section, after adding the ability to handle multiple touch events on the screen at the same time. ",
        "bbox": [
            236,
            753,
            591,
            842
        ],
        "page_idx": 288
    },
    {
        "type": "image",
        "img_path": "images/c80f1f201d92aa7ebb3c995fcb6738bd569c0bb8e866a45e2cf8d59c16585ea4.jpg",
        "image_caption": [
            "Figure 11-8: Click and drag the mouse to simulate a one-finger touch on the emulator, and a stream of bubbles will flow out. "
        ],
        "image_footnote": [],
        "bbox": [
            626,
            430,
            904,
            810
        ],
        "page_idx": 288
    },
    {
        "type": "footer",
        "text": "Making BubbleDraw a Multitouch Android App ",
        "bbox": [
            597,
            953,
            853,
            966
        ],
        "page_idx": 288
    },
    {
        "type": "page_number",
        "text": "265 ",
        "bbox": [
            875,
            948,
            904,
            963
        ],
        "page_idx": 288
    },
    {
        "type": "text",
        "text": "Using Multitouch to Draw with 10 Fingers at a Time! ",
        "text_level": 1,
        "bbox": [
            232,
            64,
            692,
            85
        ],
        "page_idx": 289
    },
    {
        "type": "text",
        "text": "You may have played an app that makes use of multitouch, like a two-player game in which you control objects on one side of the screen with one or more fingers, while your friend controls objects on the other side of the screen. If you have, you understand the awesome power that multitouch brings to apps and games. ",
        "bbox": [
            230,
            91,
            892,
            181
        ],
        "page_idx": 289
    },
    {
        "type": "text",
        "text": "The great news is that the code to handle multiple touch events in Android is almost as simple as the code to handle a single touch! In fact, we’ll just add a statement and modify a couple of lines in onTouch(), and our app will handle multitouch events. ",
        "bbox": [
            230,
            181,
            892,
            253
        ],
        "page_idx": 289
    },
    {
        "type": "text",
        "text": "The method that tells us how many touch events are happening at the same time is getPointerCount(). It returns how many pointers—touch events or fingers—are on the screen in the current MotionEvent. ",
        "bbox": [
            230,
            253,
            884,
            306
        ],
        "page_idx": 289
    },
    {
        "type": "text",
        "text": "We can add a for loop to add bubbles for every pointer in the current touch event: ",
        "bbox": [
            232,
            307,
            878,
            342
        ],
        "page_idx": 289
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "public boolean onTouch(View view, MotionEvent motionEvent) {  \n    for (int n = 0; n < motionEvent.getPointerCount(); n++) {  \n        int x = (int) motionEvent.getX(n);  \n        int y = (int) motionEvent.getY(n);  \n        int s = rand.nextInt(size) + size;  \n        bubbleList.add(new Bubble(x, y, s));  \n    }  \n    return true; ",
        "guess_lang": "java",
        "bbox": [
            232,
            358,
            755,
            501
        ],
        "page_idx": 289
    },
    {
        "type": "text",
        "text": "At $\\bullet$ , we add a for loop that increments the variable n from 0 up to the number of pointers in the current touch event. The function motionEvent .getPointerCount() returns the number of pointers. If there is only one touch event, getPointerCount() will return 1, and the loop will run only once, for ${ \\textsf { n } } = { \\textsf { 0 } }$ . For two touch events, n will get the values 0 and 1, and so on. ",
        "bbox": [
            230,
            522,
            896,
            611
        ],
        "page_idx": 289
    },
    {
        "type": "text",
        "text": "At $\\otimes$ , we modify the motionEvent.getX() method by inserting an n in the parentheses after getX(). Pointers are numbered in touch events, so passing the variable n as an argument to motionEvent.getX() will get the x-location of the nth touch pointer in the current touch event. So, getX(0) will return the x-location of the first touch, getX(1) will return the x-coordinate of the second touch, and so on. At $\\otimes$ , we do the same for the y-coordinates of each touch with getY(n). Finally, don’t forget to close the brace of the for loop at x. ",
        "bbox": [
            230,
            611,
            898,
            753
        ],
        "page_idx": 289
    },
    {
        "type": "text",
        "text": "That’s all it takes! Java and Android make processing multitouch events easy. ",
        "bbox": [
            232,
            756,
            837,
            792
        ],
        "page_idx": 289
    },
    {
        "type": "text",
        "text": "Testing Multitouch Events on an Android Device ",
        "text_level": 1,
        "bbox": [
            232,
            810,
            644,
            831
        ],
        "page_idx": 289
    },
    {
        "type": "text",
        "text": "Save your code so that we can run the app again. This time, we’re going to run the app on a physical Android device. Unfortunately, we can’t easily ",
        "bbox": [
            230,
            839,
            884,
            875
        ],
        "page_idx": 289
    },
    {
        "type": "page_number",
        "text": "266 ",
        "bbox": [
            91,
            950,
            123,
            963
        ],
        "page_idx": 289
    },
    {
        "type": "footer",
        "text": "Chapter 11 ",
        "bbox": [
            144,
            951,
            206,
            966
        ],
        "page_idx": 289
    },
    {
        "type": "text",
        "text": "simulate multitouch events with a single mouse on the Android emulator, so you’ll need to run the app on a real phone or tablet. ",
        "bbox": [
            236,
            63,
            894,
            99
        ],
        "page_idx": 290
    },
    {
        "type": "text",
        "text": "First, plug your Android device into the computer running Android Studio using a USB cable. Allow USB debugging from the computer on the device (see “Running the App on a Real Android Device” on page 100). Close the BubbleDraw app in your emulator, if it’s running. Then, press the run button or go to Run4Run ‘app’. ",
        "bbox": [
            236,
            99,
            894,
            189
        ],
        "page_idx": 290
    },
    {
        "type": "text",
        "text": "In the Select Deployment Target window, find and select your device— mine is the Asus Nexus 7—and click OK. Android Studio will recompile the app and deploy it to your device. ",
        "bbox": [
            236,
            189,
            904,
            241
        ],
        "page_idx": 290
    },
    {
        "type": "text",
        "text": "When the app starts, it looks like a black screen with “BubbleDraw” in the title bar. Once you place one or more fingers on the screen, though, things get much more interesting, as shown in Figure 11-9. ",
        "bbox": [
            236,
            243,
            886,
            298
        ],
        "page_idx": 290
    },
    {
        "type": "image",
        "img_path": "images/be70295c7774ce35d5652f249a05c035975726ceeb8258df1f15e5ce179ba60d.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            240,
            309,
            458,
            572
        ],
        "page_idx": 290
    },
    {
        "type": "image",
        "img_path": "images/107f0fe818b6d450cb560b6b0232a14b7c2a11c69e9f826bafe86a367d78fa00.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            462,
            307,
            682,
            570
        ],
        "page_idx": 290
    },
    {
        "type": "image",
        "img_path": "images/b349b0d689d2dcfb9064fb89152dc617fa00f42939fdedd1de41413847edb7cd.jpg",
        "image_caption": [
            "Figure 11-9: Touching the screen of my Android device with two (left), three (center), or four fingers (right) creates multiple streams of colorful, bouncing bubbles. "
        ],
        "image_footnote": [],
        "bbox": [
            684,
            309,
            904,
            572
        ],
        "page_idx": 290
    },
    {
        "type": "text",
        "text": "As you drag your fingers across the screen, bubbles seem to flow from your fingertips, whether you use one finger, two, five, or even ten! ",
        "bbox": [
            236,
            633,
            884,
            669
        ],
        "page_idx": 290
    },
    {
        "type": "text",
        "text": "There’s one other cool feature we didn’t mention yet: to clear the screen, just turn your device sideways (make sure your device’s orientation lock is set to Auto-rotate, not Portrait view). The change in orientation forces the app to reinitialize the BubbleView, which resets the bubbleList and clears the screen. It’s a cool effect, and it makes the app feel even more tactile and interactive. ",
        "bbox": [
            236,
            669,
            888,
            776
        ],
        "page_idx": 290
    },
    {
        "type": "text",
        "text": "There’s just one more customization we’ll make to our final BubbleDraw app. We’ll replace the default Android app icon with an icon of our own. ",
        "bbox": [
            236,
            777,
            896,
            815
        ],
        "page_idx": 290
    },
    {
        "type": "footer",
        "text": "Making BubbleDraw a Multitouch Android App ",
        "bbox": [
            597,
            953,
            853,
            966
        ],
        "page_idx": 290
    },
    {
        "type": "page_number",
        "text": "267 ",
        "bbox": [
            875,
            948,
            904,
            963
        ],
        "page_idx": 290
    },
    {
        "type": "text",
        "text": "Changing the App Launcher Icon ",
        "text_level": 1,
        "bbox": [
            126,
            63,
            535,
            87
        ],
        "page_idx": 291
    },
    {
        "type": "text",
        "text": "All our apps so far have used the default Android app launcher icons, which feature Android’s friendly green droid. But what if you wanted to use your own, custom icon for the BubbleDraw app—for example, your company’s logo or a screenshot from the app like the one shown in Figure 11-10? ",
        "bbox": [
            230,
            94,
            714,
            202
        ],
        "page_idx": 291
    },
    {
        "type": "text",
        "text": "In order to give your app its own custom icon, you’ll need to create your own ic_launcher.png file, paste it into the app4src4main4res4drawable folder, and then modify the AndroidManifest.xml file to use your new icon as the app launcher icon for your app. ",
        "bbox": [
            230,
            202,
            708,
            295
        ],
        "page_idx": 291
    },
    {
        "type": "image",
        "img_path": "images/c004ee092782a46abbf4a22c57dade1ca09d4f900f6fd6f714ae0f3de1d60495.jpg",
        "image_caption": [
            "Figure 11-10: A custom image cut from a BubbleDraw screenshot "
        ],
        "image_footnote": [],
        "bbox": [
            746,
            96,
            900,
            211
        ],
        "page_idx": 291
    },
    {
        "type": "text",
        "text": "Creating a Custom App Icon ",
        "text_level": 1,
        "bbox": [
            232,
            312,
            474,
            334
        ],
        "page_idx": 291
    },
    {
        "type": "text",
        "text": "By default, Android names the launcher icon for your app ic_launcher.png. If you open the app4src4main4res4mipmap folder, you’ll see several ic_launcher.png files of various sizes—stored inside folders labeled mipmap _mdpi, mipmap_xxhdpi, and so on—that correlate to the various screen sizes of different phones and tablets. ",
        "bbox": [
            230,
            339,
            890,
            427
        ],
        "page_idx": 291
    },
    {
        "type": "text",
        "text": "We’ll call our new image ic_launcher.png as well, just for convenience. Using your favorite image-editing program, create a PNG file with the image you want to use for your app launcher icon. (The site http://www.gimp.org/ has a great, free image editor, and https://www.pixlr.com/editor/ is also free over the web.) It’s best to use a square image, but Android can also work with files that aren’t perfectly square. My image measures $1 5 6 \\times 1 5 6$ pixels, but anything between $6 4 \\times 6 4$ and $2 5 6 \\times 2 5 6$ should work fine. ",
        "bbox": [
            230,
            430,
            896,
            555
        ],
        "page_idx": 291
    },
    {
        "type": "text",
        "text": "No t e ",
        "text_level": 1,
        "bbox": [
            148,
            576,
            204,
            590
        ],
        "page_idx": 291
    },
    {
        "type": "text",
        "text": "If you want to use a screenshot of the app like I did, taking a screenshot is easy: press and hold your Android device’s sleep/wake button and the volume-down button at the same time until the screen flashes to let you know the image is saved. In your Photos app, find Screenshots, and you should see the image. You can edit the image to be $2 5 6 \\times 2 5 6$ pixels or smaller by emailing it to yourself so you can access it on your regular computer, or by cropping the image directly on your Android device and then emailing it to yourself. ",
        "bbox": [
            232,
            573,
            888,
            701
        ],
        "page_idx": 291
    },
    {
        "type": "text",
        "text": "Save or export your file from the image editor as ic_launcher.png. In the next step, we’ll copy this image and paste it into the BubbleDraw project in Android Studio. ",
        "bbox": [
            230,
            717,
            890,
            771
        ],
        "page_idx": 291
    },
    {
        "type": "text",
        "text": "Adding the Custom Icon to Your App ",
        "text_level": 1,
        "bbox": [
            232,
            791,
            549,
            813
        ],
        "page_idx": 291
    },
    {
        "type": "text",
        "text": "Once you’ve created your own ic_launcher.png app icon file, open the folder you saved it into and copy the file. ",
        "bbox": [
            230,
            818,
            890,
            855
        ],
        "page_idx": 291
    },
    {
        "type": "page_number",
        "text": "268 ",
        "bbox": [
            91,
            950,
            123,
            965
        ],
        "page_idx": 291
    },
    {
        "type": "footer",
        "text": "Chapter 11 ",
        "bbox": [
            144,
            951,
            206,
            965
        ],
        "page_idx": 291
    },
    {
        "type": "text",
        "text": "In Android Studio, under the Project Explorer pane for your BubbleDraw app, find the app4res4drawable or app4src4main4res4 drawable folder and paste your new ic_launcher.png image into it, as shown in Figure 11-11. ",
        "bbox": [
            236,
            63,
            880,
            136
        ],
        "page_idx": 292
    },
    {
        "type": "image",
        "img_path": "images/1a416cf6b67ec08ab5f1fdf4154ddc79c0c33c2991f21df4dcd660c553da9779.jpg",
        "image_caption": [
            "Figure 11-11: Paste your new, custom app icon into the app4src4main4res4drawable folder. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            147,
            894,
            423
        ],
        "page_idx": 292
    },
    {
        "type": "text",
        "text": "You’ll see an Android Copy window verifying the location of the file. Click OK. ",
        "bbox": [
            236,
            484,
            876,
            519
        ],
        "page_idx": 292
    },
    {
        "type": "text",
        "text": "When the icon copies into your drawable folder, you’ll be able to open the folder and double-click ic_launcher.png to preview it in Android Studio. ",
        "bbox": [
            236,
            521,
            888,
            558
        ],
        "page_idx": 292
    },
    {
        "type": "text",
        "text": "We now have the new icon we created in the BubbleDraw project’s structure, so we can tell Android to use this image as the app icon. ",
        "bbox": [
            236,
            558,
            904,
            594
        ],
        "page_idx": 292
    },
    {
        "type": "text",
        "text": "Displaying Your New Icon ",
        "text_level": 1,
        "bbox": [
            238,
            612,
            468,
            636
        ],
        "page_idx": 292
    },
    {
        "type": "text",
        "text": "For this last step, we’ll edit the AndroidManifest.xml file for your app. The AndroidManifest.xml file describes some of the basic structure, properties, and functionality of your app to the Android operating system. ",
        "bbox": [
            236,
            639,
            876,
            695
        ],
        "page_idx": 292
    },
    {
        "type": "text",
        "text": "Under app4src4main (or app4manifests), open AndroidManifest.xml. Near the top of the file, find the entry for android:icon, and change it to the new file you just placed in the drawable folder: ",
        "bbox": [
            236,
            695,
            896,
            750
        ],
        "page_idx": 292
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "<application android:allowBackup=\"true\" android:icon\"@drawable/ic_launcher\" ",
        "guess_lang": "txt",
        "bbox": [
            240,
            765,
            581,
            813
        ],
        "page_idx": 292
    },
    {
        "type": "text",
        "text": "We’re telling Android to look inside this project’s drawable folder and find an image file named ic_launcher. We leave the .png extension off in the manifest. ",
        "bbox": [
            236,
            831,
            896,
            884
        ],
        "page_idx": 292
    },
    {
        "type": "footer",
        "text": "Making BubbleDraw a Multitouch Android App ",
        "bbox": [
            597,
            953,
            853,
            966
        ],
        "page_idx": 292
    },
    {
        "type": "page_number",
        "text": "269 ",
        "bbox": [
            875,
            948,
            904,
            963
        ],
        "page_idx": 292
    },
    {
        "type": "text",
        "text": "Now, save the AndroidManifest.xml file and press the run button to compile and deploy the app with the new icon. Once the app updates on your emulator or Android device, you’ll see the new icon for BubbleDraw, as shown in Figure 11-12. ",
        "bbox": [
            232,
            64,
            587,
            189
        ],
        "page_idx": 293
    },
    {
        "type": "text",
        "text": "The custom PNG image we created is now the icon for the app in Android! ",
        "bbox": [
            232,
            190,
            583,
            229
        ],
        "page_idx": 293
    },
    {
        "type": "text",
        "text": "Changing the App Name ",
        "text_level": 1,
        "bbox": [
            232,
            244,
            446,
            268
        ],
        "page_idx": 293
    },
    {
        "type": "text",
        "text": "You can also customize the app’s name as it appears on both the app icon and the title bar inside the app. In your Project Explorer tab on the left, under app4src4main4res4values, open strings.xml. The strings.xml file stores the app_name string that’s used both on the launcher icon, as shown in Figure 11-12, and in the title bar of the app while it’s running. ",
        "bbox": [
            232,
            271,
            585,
            451
        ],
        "page_idx": 293
    },
    {
        "type": "text",
        "text": "Since BubbleDraw without a space between the words is a bit strange, we’ll add a space between the words in the line of XML that defines the app_name variable in strings.xml: ",
        "bbox": [
            232,
            454,
            583,
            543
        ],
        "page_idx": 293
    },
    {
        "type": "image",
        "img_path": "images/37ec16605cb6b56c6bef9f0d070794ed09b9ccacfda98efde995ba5236846b9b.jpg",
        "image_caption": [
            "Figure 11-12: We’ve customized the app launcher icon for the BubbleDraw app. "
        ],
        "image_footnote": [],
        "bbox": [
            621,
            64,
            900,
            448
        ],
        "page_idx": 293
    },
    {
        "type": "code",
        "sub_type": "algorithm",
        "code_caption": [],
        "code_body": "<resources> <string name $=$ \"app_name\">Bubble Draw</string> </resources> ",
        "bbox": [
            232,
            561,
            642,
            606
        ],
        "page_idx": 293
    },
    {
        "type": "text",
        "text": "Of course, you can make this app name anything you want, like Your Name\\'s Bubble Draw App, but only about 11 or 12 characters will fit below the app icon, so you’d see something like Your Name's... on your home screen. You also would need to escape any special characters in the app name, including the single quote, with the backslash character. ",
        "bbox": [
            230,
            627,
            888,
            716
        ],
        "page_idx": 293
    },
    {
        "type": "text",
        "text": "Now that you know how, go back and customize your Hi-Lo guessing game and Secret Messages apps with their own icons as well. Keep refining your apps and trying new things—it’s the best way to keep learning as you code. ",
        "bbox": [
            230,
            717,
            892,
            789
        ],
        "page_idx": 293
    },
    {
        "type": "text",
        "text": "What You Learned ",
        "text_level": 1,
        "bbox": [
            125,
            819,
            361,
            842
        ],
        "page_idx": 293
    },
    {
        "type": "text",
        "text": "You’ve come a long way since Chapter 1. After building three complete mobile and desktop apps, you’ve gained significant computing skills and put those newfound abilities to use. Perhaps most importantly of all, you ",
        "bbox": [
            230,
            851,
            869,
            906
        ],
        "page_idx": 293
    },
    {
        "type": "page_number",
        "text": "270 ",
        "bbox": [
            91,
            950,
            121,
            963
        ],
        "page_idx": 293
    },
    {
        "type": "footer",
        "text": "Chapter 11 ",
        "bbox": [
            144,
            951,
            206,
            965
        ],
        "page_idx": 293
    },
    {
        "type": "text",
        "text": "learned how to improve the apps step-by-step by adding more and more functionality until each app does exactly what you want it to do. ",
        "bbox": [
            236,
            63,
            869,
            99
        ],
        "page_idx": 294
    },
    {
        "type": "text",
        "text": "In this chapter, you reinforced several skills and added the following abilities to your coding tool chest: ",
        "bbox": [
            236,
            99,
            876,
            135
        ],
        "page_idx": 294
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "•\t Drawing graphics in Android ",
            "•\t Adding a new class to an Android Studio project ",
            "Setting up variables and importing classes ",
            "Building a class constructor from scratch ",
            "•\t Converting Java AWT graphics to Android Canvas graphics ",
            "•\t Drawing on an ImageView using the onDraw() method ",
            "Creating a Runnable object to implement threading in Java ",
            "•\t Using a Handler to communicate with a separate thread in Java ",
            "•\t Using threading to improve animation efficiency ",
            "Handling multiple touch events and using MotionEvent methods to locate touch events onscreen ",
            "Customizing the app launcher icon and app name "
        ],
        "bbox": [
            238,
            148,
            847,
            411
        ],
        "page_idx": 294
    },
    {
        "type": "text",
        "text": "Programming Challenges ",
        "text_level": 1,
        "bbox": [
            132,
            441,
            450,
            465
        ],
        "page_idx": 294
    },
    {
        "type": "text",
        "text": "Try these programming challenge exercises to review and practice what you’ve learned, as well as to expand your programming skills. Visit the book’s website at https://www.nostarch.com/learnjava/ for sample solutions. ",
        "bbox": [
            236,
            472,
            867,
            528
        ],
        "page_idx": 294
    },
    {
        "type": "text",
        "text": "#1: Combining One-Finger and Multitouch Events, v1.0 ",
        "text_level": 1,
        "bbox": [
            238,
            546,
            710,
            567
        ],
        "page_idx": 294
    },
    {
        "type": "text",
        "text": "In this chapter, we learned to handle a single-touch event and multipletouch events. In this challenge, your task is to tell the difference between a single-touch and a multitouch event. You’ll change the logic inside the onTouch() method to draw bigger bubbles when one finger is touching the screen and smaller bubbles when more fingers touch the screen. ",
        "bbox": [
            236,
            573,
            878,
            663
        ],
        "page_idx": 294
    },
    {
        "type": "text",
        "text": "Remember, you can find out the number of touch events using the getPointerCount() on your MotionEvent object inside the onTouch() method. ",
        "bbox": [
            236,
            663,
            863,
            699
        ],
        "page_idx": 294
    },
    {
        "type": "text",
        "text": "For extra practice, code your app so that more fingers will result in smaller and smaller bubbles. ",
        "bbox": [
            236,
            699,
            859,
            734
        ],
        "page_idx": 294
    },
    {
        "type": "text",
        "text": "#2: Combining One-Finger and Multitouch Events, v2.0 ",
        "text_level": 1,
        "bbox": [
            238,
            753,
            712,
            777
        ],
        "page_idx": 294
    },
    {
        "type": "text",
        "text": "Once you’ve mastered Programming Challenge #1, give this one a try. Modify both the Bubble class and the onTouch() listener to group bubbles when you draw with one finger by giving them all the same xspeed and yspeed values, but still allow multitouch to blow bubbles in every direction. ",
        "bbox": [
            236,
            782,
            906,
            852
        ],
        "page_idx": 294
    },
    {
        "type": "text",
        "text": "This will require changes to the onTouch() listener similar to those in Programming Challenge #1. But, to group the bubbles, you’ll need a way to draw some bubbles with fixed speeds and other bubbles with random ",
        "bbox": [
            236,
            854,
            880,
            909
        ],
        "page_idx": 294
    },
    {
        "type": "aside_text",
        "text": "PROGRAMMING CHALLENGES ",
        "bbox": [
            938,
            64,
            960,
            258
        ],
        "page_idx": 294
    },
    {
        "type": "footer",
        "text": "Making BubbleDraw a Multitouch Android App ",
        "bbox": [
            597,
            951,
            853,
            966
        ],
        "page_idx": 294
    },
    {
        "type": "page_number",
        "text": "271 ",
        "bbox": [
            875,
            948,
            904,
            963
        ],
        "page_idx": 294
    },
    {
        "type": "text",
        "text": "speeds. The bubbles drawn during a single-touch event should all move at the same fixed speed so that they appear grouped, and bubbles drawn with multitouch should continue to be assigned random speed values. ",
        "bbox": [
            236,
            66,
            886,
            117
        ],
        "page_idx": 295
    },
    {
        "type": "text",
        "text": "To accomplish this, you can create a second Bubble() constructor. It will be similar to the Bubble(x, y, size) constructor that we created for the Bubble class originally, but it will have a different number of parameters. ",
        "bbox": [
            236,
            120,
            880,
            172
        ],
        "page_idx": 295
    },
    {
        "type": "text",
        "text": "For example, you could create a second Bubble() constructor that takes the five parameters x, y, size, xspeed, and yspeed. Then, you could use that constructor whenever the user touches the screen with just one finger to give all the bubbles the same speed values. You’d use the original constructor whenever the user touches more than one finger to the screen so the bubbles flow in random directions. ",
        "bbox": [
            236,
            174,
            890,
            279
        ],
        "page_idx": 295
    },
    {
        "type": "aside_text",
        "text": "PROGRAMMING CHALLENGES ",
        "bbox": [
            37,
            64,
            55,
            258
        ],
        "page_idx": 295
    },
    {
        "type": "page_number",
        "text": "",
        "bbox": [
            93,
            951,
            121,
            963
        ],
        "page_idx": 295
    },
    {
        "type": "footer",
        "text": "Chapter 11 ",
        "bbox": [
            144,
            954,
            204,
            965
        ],
        "page_idx": 295
    },
    {
        "type": "text",
        "text": "De b uggi ng a nd Avoidi ng C o m m o n E r r o r s i n J a v a ",
        "text_level": 1,
        "bbox": [
            309,
            379,
            837,
            433
        ],
        "page_idx": 296
    },
    {
        "type": "image",
        "img_path": "images/9ac7a16fc51033025b56710bf7b47ff85b89921ee465f835bafcad599e94ca80.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            164,
            475,
            359,
            626
        ],
        "page_idx": 296
    },
    {
        "type": "text",
        "text": "While working through this book, you’ve probably made a few typos or mistakes along the way. In this appendix, I’ll go over few common programming pitfalls to avoid. ",
        "bbox": [
            355,
            552,
            886,
            660
        ],
        "page_idx": 296
    },
    {
        "type": "text",
        "text": "One nice feature of both Eclipse and Android Studio that is helpful when debugging is syntax coloring. Class names, functions, variable types, strings, comments, and so on are each colored differently in the IDE based on their syntax. ",
        "bbox": [
            236,
            662,
            894,
            795
        ],
        "page_idx": 296
    },
    {
        "type": "text",
        "text": "Syntax coloring can help you spot typos and other problems quickly. For example, if you forget to close a string with a second pair of double quotes, the semicolon at the end of that line will be colored differently from the other semicolons on the screen. As we go through these common errors, try introducing them into one of the apps you’ve written and look ",
        "bbox": [
            236,
            797,
            886,
            888
        ],
        "page_idx": 296
    },
    {
        "type": "text",
        "text": "for the warnings given by Eclipse and Android Studio. It’s okay if you break an app—you can always go back and fix it, either by using the original code listing in the book or by pressing ctrl-Z (-Z) or clicking Edit4Undo. ",
        "bbox": [
            230,
            64,
            890,
            118
        ],
        "page_idx": 297
    },
    {
        "type": "text",
        "text": "Spelling and Case ",
        "text_level": 1,
        "bbox": [
            126,
            150,
            349,
            172
        ],
        "page_idx": 297
    },
    {
        "type": "text",
        "text": "Spelling is important in any programming language, but in Java, case matters, too. For example, if you use a lowercase s to make a scanner or string, the text editor in Eclipse will underline the class name in red, and Android Studio will color the text red. It might seem silly, but Java only understands String, not string. ",
        "bbox": [
            230,
            181,
            888,
            271
        ],
        "page_idx": 297
    },
    {
        "type": "text",
        "text": "The same goes for variable names, such as playAgain or theNumber. For example, if we accidentally capitalize the P and use a lowercase a, spelling Playagain, Java doesn’t understand that we mean the variable playAgain. Let’s take a look at how each IDE helps us find and fix typographical errors like these, first in Eclipse and then in Android Studio. ",
        "bbox": [
            230,
            271,
            892,
            360
        ],
        "page_idx": 297
    },
    {
        "type": "text",
        "text": "Correcting Typos in Eclipse ",
        "text_level": 1,
        "bbox": [
            232,
            379,
            462,
            402
        ],
        "page_idx": 297
    },
    {
        "type": "text",
        "text": "Eclipse will alert us to an error by underlining the misspelled word in red, and Android will color the text. Figure A-1 shows how Eclipse highlights two errors I’ve introduced into the Hi-Lo guessing game from Chapter 2. ",
        "bbox": [
            230,
            408,
            878,
            463
        ],
        "page_idx": 297
    },
    {
        "type": "image",
        "img_path": "images/af92b11ceee899b6617be46d8716ebb4c695eca0821f26f4f007c3bae792daef.jpg",
        "image_caption": [
            "Figure A-1: Eclipse helps us find misspellings and errors in capitalization. "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            474,
            765,
            509
        ],
        "page_idx": 297
    },
    {
        "type": "text",
        "text": "Where I’ve used a lowercase s in system, Eclipse underlines the misspelling and adds an error alert along the left border of the screen that you can see by mousing over that line. The Java compiler issues the error \"system cannot be resolved\". That means Java can’t figure out what system is supposed to be because it only understands System with a capital S. Eclipse does the same with playagain on the next line—it should be playAgain. ",
        "bbox": [
            230,
            555,
            896,
            663
        ],
        "page_idx": 297
    },
    {
        "type": "text",
        "text": "Remember that you can use the content assist feature in Eclipse to fix many errors like these. Click one of the misspelled words from Figure A-1, and you’ll see a content assist menu like the ones shown in Figure A-2. ",
        "bbox": [
            230,
            665,
            878,
            719
        ],
        "page_idx": 297
    },
    {
        "type": "image",
        "img_path": "images/29d68256c35da5926092f053fd4e412289c23abba2ac9890e16ea16eaa4d8603.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            234,
            731,
            466,
            887
        ],
        "page_idx": 297
    },
    {
        "type": "image",
        "img_path": "images/837555a5a4ecfa5efc2e6ce5c4bfb02c1010efad31a8553c43518c1745fc6d83.jpg",
        "image_caption": [
            "Figure A-2: Eclipse’s content assist feature provides information about errors and offers possible fixes. "
        ],
        "image_footnote": [],
        "bbox": [
            494,
            770,
            732,
            887
        ],
        "page_idx": 297
    },
    {
        "type": "page_number",
        "text": "274 ",
        "bbox": [
            91,
            950,
            121,
            963
        ],
        "page_idx": 297
    },
    {
        "type": "footer",
        "text": "Appendix ",
        "bbox": [
            142,
            954,
            196,
            965
        ],
        "page_idx": 297
    },
    {
        "type": "text",
        "text": "For the first misspelling, Eclipse not only tells us that it can’t resolve or understand system but also offers several possible corrections, including, fourth from the bottom in Figure A-2, Change to 'System' (java.lang). The content assist feature doesn’t always have the right answer, but in this case, one of the 11 quick fixes offered is the correct capitalization of System. For the second misspelling, the first quick fix Eclipse offers is the right answer, Change to 'playAgain'. If Eclipse’s content assist offers the right fix, click the correct entry, and your spelling or capitalization error will be replaced by the correct code. ",
        "bbox": [
            236,
            63,
            894,
            225
        ],
        "page_idx": 298
    },
    {
        "type": "text",
        "text": "Correcting Typos in Android Studio ",
        "text_level": 1,
        "bbox": [
            238,
            244,
            541,
            267
        ],
        "page_idx": 298
    },
    {
        "type": "text",
        "text": "Android Studio tries to help us find errors by coloring the suspected problem in red. In the example shown in Figure A-3, I’ve misspelled the keyword public by typing Public with a capital P. ",
        "bbox": [
            236,
            271,
            894,
            327
        ],
        "page_idx": 298
    },
    {
        "type": "image",
        "img_path": "images/65cfceda58e6acf52f296583d4497e8b5b85bb082264c0709ff6e66b9ef49231.jpg",
        "image_caption": [
            "Figure A-3: Android Studio alerts us to an incorrectly capitalized keyword. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            337,
            759,
            414
        ],
        "page_idx": 298
    },
    {
        "type": "text",
        "text": "Notice that the error is similar to the one we saw in Eclipse earlier: Java is telling us that it can’t resolve or understand the symbol 'Public'. However, Android Studio may not always provide the same level of support in fixing errors, as shown in Figure A-4. ",
        "bbox": [
            236,
            460,
            906,
            533
        ],
        "page_idx": 298
    },
    {
        "type": "image",
        "img_path": "images/4e68495adf4005f9200fbf9bf62599a749baa771ba034d14fe22b2b4e11fd3bd.jpg",
        "image_caption": [
            "Figure A-4: Pressing alt-enter (or option-enter) in Android Studio offers a quick fix, but not quite the right fix for this error. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            543,
            869,
            609
        ],
        "page_idx": 298
    },
    {
        "type": "text",
        "text": "In Figure A-4, I’ve incorrectly typed newGame() as NewGame() with a capital N. Android Studio correctly colored the code red to let me know there’s an error, but notice what happens when I click the code and press alt-enter to attempt a quick fix. Instead of suggesting newGame as the correct spelling, Android Studio offers to create another method with the name NewGame. This isn’t the right fix for the mistyped method name, so you’ll need to find the correct spelling where the method public void newGame() was defined and manually fix the typo. ",
        "bbox": [
            236,
            671,
            898,
            815
        ],
        "page_idx": 298
    },
    {
        "type": "text",
        "text": "Both Android Studio and Eclipse will do their best to help you find errors, and they’ll often provide possible quick fixes, but knowing that spelling and capitalization are common issues can help you avoid and quickly correct errors as they pop up in your code. ",
        "bbox": [
            236,
            815,
            906,
            888
        ],
        "page_idx": 298
    },
    {
        "type": "footer",
        "text": "Debugging and Avoiding Common Errors in Java ",
        "bbox": [
            587,
            951,
            849,
            966
        ],
        "page_idx": 298
    },
    {
        "type": "page_number",
        "text": "275 ",
        "bbox": [
            875,
            948,
            906,
            965
        ],
        "page_idx": 298
    },
    {
        "type": "text",
        "text": "Avoiding Other Common Spelling Errors ",
        "text_level": 1,
        "bbox": [
            232,
            64,
            575,
            85
        ],
        "page_idx": 299
    },
    {
        "type": "text",
        "text": "One error that is particularly difficult to debug is when the name of an event handler or other overridden method is mistyped. These typos can range from typing OnCreate() or OnDraw() instead of the correct onCreate() and onDraw(), to mistyping public void actionPerformed(ActionEvent e) inside an ActionListener for a button in a Java GUI app, or leaving off the “ed” in the mousePressed(), mouseClicked(), or mouseDragged() event handlers. ",
        "bbox": [
            230,
            91,
            880,
            199
        ],
        "page_idx": 299
    },
    {
        "type": "text",
        "text": "We have programming conventions in order to avoid these types of errors. Forgetting to use lowercase to start method or variable names but uppercase to start class names may not necessarily be an error, but it’s bad form in Java. If you get into the habit of using Java conventions like these from the beginning, you’ll save time and avoid frustration in the future. ",
        "bbox": [
            230,
            199,
            884,
            291
        ],
        "page_idx": 299
    },
    {
        "type": "text",
        "text": "Comparison Trouble ",
        "text_level": 1,
        "bbox": [
            126,
            321,
            380,
            345
        ],
        "page_idx": 299
    },
    {
        "type": "text",
        "text": "Remember that the double equal sign $\\scriptstyle ( = = )$ is the comparison operator for “is equal to.” Don’t confuse it with the assignment operator $\\left( = \\right)$ . For example, to assign the value 5 to a variable named number, you would enter: ",
        "bbox": [
            230,
            352,
            884,
            408
        ],
        "page_idx": 299
    },
    {
        "type": "text",
        "text": "int number = 5; // Assigns the value 5 to number ",
        "bbox": [
            234,
            423,
            644,
            441
        ],
        "page_idx": 299
    },
    {
        "type": "text",
        "text": "But, to compare the value of the variable, you use the double equal sign: ",
        "bbox": [
            267,
            457,
            888,
            477
        ],
        "page_idx": 299
    },
    {
        "type": "text",
        "text": "if (number $= = 5$ ) // If number \"is equal to\" 5 ",
        "bbox": [
            234,
            493,
            621,
            510
        ],
        "page_idx": 299
    },
    {
        "type": "text",
        "text": "Also, remember that we check strings using the equals() method instead of the $= =$ operator. For example, the condition if (playAgain == \"y\") would always evaluate to false. The correct if statement would be this: ",
        "bbox": [
            230,
            528,
            898,
            582
        ],
        "page_idx": 299
    },
    {
        "type": "text",
        "text": "if (playAgain.equals(\"y\")) ",
        "bbox": [
            234,
            597,
            456,
            615
        ],
        "page_idx": 299
    },
    {
        "type": "text",
        "text": "The equals() method of the String class checks whether the contents of the strings match, which is usually what we want when we compare strings. The equals() method is also what we use whenever we compare two objects, as in if (bubble1.equals(bubble2)) to see whether two Bubble variables refer to the same Bubble object in the BubbleDraw app, for example. ",
        "bbox": [
            230,
            633,
            896,
            726
        ],
        "page_idx": 299
    },
    {
        "type": "text",
        "text": "Grouping Symbols ",
        "text_level": 1,
        "bbox": [
            125,
            756,
            363,
            780
        ],
        "page_idx": 299
    },
    {
        "type": "text",
        "text": "When coding in Java, it’s also important to keep your parentheses, brackets, and braces balanced. We call these grouping symbols because they group other programming elements together and because you should never have an opening grouping symbol without a closing grouping symbol. Both Eclipse and Android Studio offer different ways to spot and fix unclosed grouping symbols. ",
        "bbox": [
            230,
            786,
            896,
            896
        ],
        "page_idx": 299
    },
    {
        "type": "page_number",
        "text": "276 ",
        "bbox": [
            91,
            950,
            121,
            963
        ],
        "page_idx": 299
    },
    {
        "type": "footer",
        "text": "Appendix ",
        "bbox": [
            142,
            954,
            198,
            966
        ],
        "page_idx": 299
    },
    {
        "type": "text",
        "text": "Quick Fixes in Eclipse ",
        "text_level": 1,
        "bbox": [
            240,
            63,
            426,
            85
        ],
        "page_idx": 300
    },
    {
        "type": "text",
        "text": "Eclipse can help us with grouping symbols in a couple of ways. If you leave out a parenthesis from a condition or function, Eclipse will indicate the error with a red underline beneath the word closest to the missing parenthesis, as shown in Figure A-5. ",
        "bbox": [
            236,
            91,
            900,
            162
        ],
        "page_idx": 300
    },
    {
        "type": "image",
        "img_path": "images/2fe7b5be44c562ea1e2ef97373d9c821ca6ff824bad0178f3ba07ea31b50ea2b.jpg",
        "image_caption": [
            "Figure A-5: Eclipse helps find errors with parentheses and sometimes offers a fix. "
        ],
        "image_footnote": [],
        "bbox": [
            240,
            174,
            875,
            247
        ],
        "page_idx": 300
    },
    {
        "type": "text",
        "text": "Again, Eclipse will do its best to help you spot errors while you type. In Figure A-5, I left out closing parentheses at the ends of two lines, which Eclipse marked with a red error symbol. Clicking the red error marker on the left margin of the editor for the first line offers the suggestion to insert a closing parenthesis. ",
        "bbox": [
            236,
            294,
            894,
            382
        ],
        "page_idx": 300
    },
    {
        "type": "text",
        "text": "If you place the cursor beside a closing or opening brace, Eclipse will outline the corresponding brace that either opens or closes that block of text. Try it out by clicking the cursor next to a brace in any of your programs. ",
        "bbox": [
            236,
            384,
            880,
            456
        ],
        "page_idx": 300
    },
    {
        "type": "text",
        "text": "Also, remember that Eclipse can correct indentation for us if we highlight the code to indent and press ctrl-I. For short programs, this may just be a nice convenience, but for longer programs that span multiple pages, correct indentation can be very helpful in avoiding errors due to missing or misplaced braces. ",
        "bbox": [
            236,
            456,
            900,
            546
        ],
        "page_idx": 300
    },
    {
        "type": "text",
        "text": "Code Completion in Android Studio ",
        "text_level": 1,
        "bbox": [
            238,
            564,
            541,
            587
        ],
        "page_idx": 300
    },
    {
        "type": "text",
        "text": "Android Studio offers even more help for missing grouping symbols. The code completion feature in Android Studio can automatically fill in both opening and closing parentheses, brackets, or braces. ",
        "bbox": [
            236,
            593,
            880,
            647
        ],
        "page_idx": 300
    },
    {
        "type": "text",
        "text": "For example, open the GuessingGame project from Chapter 4 and, inside the onCreate() function, find the line that calls a new game: ",
        "bbox": [
            236,
            647,
            863,
            683
        ],
        "page_idx": 300
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "lblOutput = (TextView) findViewById(R.id.1lblOutput);  \nnewGame();  \nbtnGuess.setOnClickListener(new View.OnClickListener() { ",
        "guess_lang": "javascript",
        "bbox": [
            238,
            698,
            716,
            749
        ],
        "page_idx": 300
    },
    {
        "type": "text",
        "text": "Delete the parentheses and the semicolon at the end of the line: ",
        "bbox": [
            273,
            765,
            837,
            785
        ],
        "page_idx": 300
    },
    {
        "type": "code",
        "sub_type": "code",
        "code_caption": [],
        "code_body": "lblOutput = (TextView) findViewById(R.id.1lblOutput);  \nnewGame  \nbtnGuess.set.OnClickListener(new View.OnClickListener() { ",
        "guess_lang": "txt",
        "bbox": [
            238,
            800,
            716,
            849
        ],
        "page_idx": 300
    },
    {
        "type": "text",
        "text": "Android Studio will color the text red to let you know there’s an error, and then you can use code completion to fill in the missing parentheses ",
        "bbox": [
            236,
            867,
            888,
            903
        ],
        "page_idx": 300
    },
    {
        "type": "footer",
        "text": "Debugging and Avoiding Common Errors in Java ",
        "bbox": [
            585,
            951,
            849,
            966
        ],
        "page_idx": 300
    },
    {
        "type": "page_number",
        "text": "277 ",
        "bbox": [
            875,
            948,
            904,
            963
        ],
        "page_idx": 300
    },
    {
        "type": "text",
        "text": "and semicolon. To complete the statement automatically, position the cursor just after newGame, as shown in Figure A-6, and press ctrl-space to perform basic code completion. ",
        "bbox": [
            230,
            64,
            880,
            118
        ],
        "page_idx": 301
    },
    {
        "type": "image",
        "img_path": "images/5374459ab2e534f8373800bb17b327514d14164524518b7bfcd1494c227afdb7.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            234,
            130,
            859,
            178
        ],
        "page_idx": 301
    },
    {
        "type": "image",
        "img_path": "images/fc275a5e6da1397b618cc29629b88269545af294a796e26b56cae959f91d12fa.jpg",
        "image_caption": [
            "Figure A-6: Place the cursor next to a line with missing parentheses (top) and press ctrl-space to finish the statement using Android Studio’s code completion (bottom). "
        ],
        "image_footnote": [],
        "bbox": [
            234,
            204,
            859,
            253
        ],
        "page_idx": 301
    },
    {
        "type": "text",
        "text": "Notice that code completion filled in both the missing parentheses and the semicolon to end the line. The ctrl-space combination is just the first of three code completion shortcuts in Android Studio. The second one, ctrl-shift-space, is called smart completion and displays relevant options in a pop-up window. Press the keyboard shortcut twice to expand the list of code completion options. Finally, statement completion (ctrl-shiftenter on Windows and Linux, $\\ncong$ -shift-enter on macOS) will add closing parentheses/brackets/braces and a finishing semicolon if needed. Try statement completion by deleting just the closing parenthesis from a method, if statement, or for loop and pressing ctrl-shift-enter. The statement completion feature in Android Studio will often close your grouping symbols and add semicolons or braces wherever they’re needed, making your job easier and faster and helping you avoid errors while you code. ",
        "bbox": [
            230,
            313,
            900,
            549
        ],
        "page_idx": 301
    },
    {
        "type": "text",
        "text": "Summary ",
        "text_level": 1,
        "bbox": [
            126,
            581,
            253,
            603
        ],
        "page_idx": 301
    },
    {
        "type": "text",
        "text": "These are far from the only errors you’ll run across while programming in Java, but you can see that both Eclipse and Android Studio offer very helpful tools for beginners and experienced professionals alike. You’ll get better at spotting and correcting errors the more you code in Java, but your code will probably never be completely error-free. I’ve been programming for over 30 years, and I still have to debug my code. To avoid, find, and fix errors in your code as you go, it’s important to learn good programming practices from the beginning and to take advantage of the support built into professional tools such as Eclipse and Android Studio. ",
        "bbox": [
            230,
            611,
            894,
            776
        ],
        "page_idx": 301
    },
    {
        "type": "page_number",
        "text": "278 ",
        "bbox": [
            91,
            950,
            121,
            963
        ],
        "page_idx": 301
    },
    {
        "type": "footer",
        "text": "Appendix ",
        "bbox": [
            144,
            954,
            198,
            965
        ],
        "page_idx": 301
    },
    {
        "type": "text",
        "text": "I n d e x ",
        "text_level": 1,
        "bbox": [
            509,
            126,
            634,
            148
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "Symbols ",
        "text_level": 1,
        "bbox": [
            236,
            216,
            307,
            238
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "$^ +$ (addition operator), 12 ",
        "bbox": [
            236,
            243,
            436,
            259
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "$=$ (assignment operator), 13–15, 245, 276 ",
        "bbox": [
            236,
            259,
            490,
            291
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "{ } (braces), 23 ",
        "bbox": [
            236,
            292,
            359,
            307
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "$^ +$ (concatenation operator), 12–13, 27, 30, 130–131 ",
        "bbox": [
            236,
            310,
            539,
            339
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "-- (decrement operator), 130 ",
        "bbox": [
            236,
            342,
            470,
            358
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": ". (dot operator), 59, 68 ",
        "bbox": [
            236,
            358,
            422,
            373
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "\" (double quotation marks), 27 ",
        "bbox": [
            236,
            375,
            484,
            391
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "$= =$ (equal-to operator), 30, 276 ",
        "bbox": [
            236,
            391,
            480,
            408
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "// (forward slashes), 23, 28 ",
        "bbox": [
            236,
            409,
            450,
            423
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "> (greater-than operator), 30, 60 ",
        "bbox": [
            236,
            424,
            496,
            441
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "$^ { + + }$ (increment operator), 129 ",
        "bbox": [
            236,
            442,
            466,
            457
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "< (less-than operator), 30, 60 ",
        "bbox": [
            236,
            457,
            466,
            472
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "% (modulo operator), 139 ",
        "bbox": [
            236,
            475,
            438,
            490
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "$\\ ! =$ (not-equal-to operator), 29 ",
        "bbox": [
            236,
            490,
            472,
            507
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "; (semicolon), 24 ",
        "bbox": [
            236,
            507,
            375,
            522
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "~ (tilde), 16 ",
        "bbox": [
            236,
            524,
            331,
            539
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "* (wildcard character), 46 ",
        "bbox": [
            236,
            540,
            444,
            555
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "A ",
        "text_level": 1,
        "bbox": [
            236,
            579,
            253,
            596
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "About screen, 113–114 ",
        "bbox": [
            236,
            605,
            416,
            618
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "AbsoluteLayout value, 240 ",
        "bbox": [
            236,
            621,
            434,
            636
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "ActionListener class, 63–64, 226 ",
        "bbox": [
            236,
            638,
            488,
            653
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "action listeners, 46–47, 68, 234 ",
        "bbox": [
            236,
            654,
            482,
            669
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "actionPerformed() method, 63, 154–156, 227–228, 234 ",
        "bbox": [
            236,
            671,
            549,
            702
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "addActionListener() method, 63 ",
        "bbox": [
            236,
            704,
            484,
            719
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "addMouseListener() method, 213 ",
        "bbox": [
            236,
            720,
            484,
            735
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "addition operator $( + )$ , 12 ",
        "bbox": [
            236,
            737,
            436,
            753
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "AlertDialog class, 113–114 ",
        "bbox": [
            236,
            753,
            440,
            768
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "alert dialog pop-up, 113–114 ",
        "bbox": [
            236,
            771,
            464,
            786
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "Android devices ",
        "bbox": [
            236,
            786,
            369,
            801
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "connecting to computer, 101 ",
        "bbox": [
            267,
            804,
            494,
            819
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "Developer mode, 100–101 ",
        "bbox": [
            267,
            819,
            472,
            834
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "preparing to run apps, 100 ",
        "bbox": [
            267,
            837,
            482,
            852
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "testing apps on, 100–102 ",
        "bbox": [
            267,
            854,
            464,
            869
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "Android emulator ",
        "bbox": [
            236,
            870,
            384,
            882
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "BubbleDraw app, 260–261 ",
        "bbox": [
            267,
            885,
            474,
            902
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "Hi-Lo guessing game, 94–99 ",
        "bbox": [
            267,
            903,
            496,
            918
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "Secret Messages app, 188–189 ",
        "bbox": [
            267,
            918,
            503,
            936
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "Android package files (APK), 101–102 ",
        "bbox": [
            585,
            216,
            821,
            247
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "Android Studio, 1. See also ",
        "bbox": [
            585,
            250,
            793,
            264
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "BubbleDraw app ",
        "bbox": [
            674,
            267,
            809,
            283
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "(Android mobile version); ",
        "bbox": [
            676,
            283,
            884,
            298
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "Hi-Lo guessing game ",
        "bbox": [
            676,
            300,
            845,
            316
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "(Android mobile version); ",
        "bbox": [
            676,
            316,
            884,
            331
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "Secret Messages app ",
        "bbox": [
            676,
            334,
            837,
            349
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "(Android mobile version) ",
        "bbox": [
            676,
            349,
            878,
            364
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "activity selection, 78–79 ",
        "bbox": [
            615,
            366,
            805,
            381
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "Android emulator, 94–99 ",
        "bbox": [
            615,
            382,
            819,
            397
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "code completion, 91–92, 278 ",
        "bbox": [
            615,
            399,
            843,
            414
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "correcting spelling errors, 275 ",
        "bbox": [
            615,
            415,
            857,
            430
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "default project view, 80 ",
        "bbox": [
            615,
            432,
            799,
            447
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "Design tab, 80–81 ",
        "bbox": [
            615,
            448,
            759,
            463
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "grouping symbols, 277–278 ",
        "bbox": [
            615,
            466,
            833,
            481
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "importing classes automatically, 86 ",
        "bbox": [
            615,
            481,
            894,
            496
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "installing, 8–9 ",
        "bbox": [
            615,
            500,
            732,
            513
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "SDK or API levels, 78 ",
        "bbox": [
            615,
            515,
            783,
            528
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "starting projects, 76–80 ",
        "bbox": [
            615,
            531,
            805,
            546
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "Target Android Devices window, 78 ",
        "bbox": [
            615,
            548,
            896,
            563
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "updating, 176 ",
        "bbox": [
            615,
            564,
            726,
            579
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "widgets, 81 ",
        "bbox": [
            615,
            581,
            702,
            596
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "animation, 225–229. See also ",
        "bbox": [
            585,
            597,
            809,
            612
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "BubbleDraw app ",
        "bbox": [
            674,
            614,
            809,
            630
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "(Android mobile version); ",
        "bbox": [
            676,
            630,
            884,
            645
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "BubbleDraw app ",
        "bbox": [
            676,
            648,
            809,
            663
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "(GUI version) ",
        "bbox": [
            676,
            663,
            787,
            678
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "adding timer, 226 ",
        "bbox": [
            615,
            680,
            757,
            695
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "frame rate, 225, 241, 253 ",
        "bbox": [
            615,
            696,
            811,
            711
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "preparing, 227–228 ",
        "bbox": [
            615,
            713,
            773,
            729
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "setting timer, 226–227 ",
        "bbox": [
            615,
            729,
            793,
            744
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "starting timer, 229 ",
        "bbox": [
            615,
            746,
            763,
            761
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "threading, 249 ",
        "bbox": [
            615,
            762,
            732,
            777
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "anonymous inner classes, 63, 91, 155, 167, 184, 210 ",
        "bbox": [
            585,
            779,
            880,
            810
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "APK (Android package files), 101–102 ",
        "bbox": [
            585,
            812,
            888,
            828
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "application program interface (API) levels, 78 ",
        "bbox": [
            585,
            828,
            875,
            858
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "apply() method, 119 ",
        "bbox": [
            585,
            861,
            744,
            876
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "arguments, 155 ",
        "bbox": [
            585,
            879,
            710,
            894
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "arithmetic operators $( + , - , * , / )$ , 12 ",
        "bbox": [
            585,
            894,
            857,
            909
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "ArrayList data structure, 205–210, 253 ",
        "bbox": [
            585,
            911,
            886,
            926
        ],
        "page_idx": 302
    },
    {
        "type": "text",
        "text": "assignment operator (=), 13–15, 245, 276 ",
        "bbox": [
            236,
            64,
            492,
            96
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "attributes, 26 ",
        "bbox": [
            236,
            97,
            345,
            112
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "B ",
        "text_level": 1,
        "bbox": [
            236,
            136,
            253,
            154
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "binary search, 40 ",
        "bbox": [
            236,
            162,
            376,
            177
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "bin folder, 1, 11–12, 141–143 ",
        "bbox": [
            236,
            178,
            456,
            193
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "Boolean expressions, 65 ",
        "bbox": [
            236,
            196,
            430,
            211
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "braces ({ }), 23 ",
        "bbox": [
            236,
            211,
            359,
            226
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "break statement, 113 ",
        "bbox": [
            236,
            229,
            396,
            243
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "Bubble class, 200–205, 255–257 ",
        "bbox": [
            236,
            244,
            480,
            259
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "attributes for, 201 ",
        "bbox": [
            267,
            262,
            406,
            276
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "defining bubbles, 200–202 ",
        "bbox": [
            267,
            277,
            480,
            294
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "methods for, 202–205 ",
        "bbox": [
            267,
            295,
            440,
            309
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "modifying, 255–257 ",
        "bbox": [
            267,
            310,
            426,
            327
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "BubbleDraw app (Android mobile version) ",
        "bbox": [
            236,
            328,
            509,
            358
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "adding animation variables, 252–253 ",
        "bbox": [
            267,
            361,
            490,
            391
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "adding testBubbles() method, 258–259 ",
        "bbox": [
            267,
            394,
            501,
            424
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "BubbleView() constructor, 254 ",
        "bbox": [
            267,
            427,
            496,
            442
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "custom app launcher icon, 268–270 adding, 268–269 ",
        "bbox": [
            267,
            444,
            549,
            475
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "changing app name, 270 ",
        "bbox": [
            297,
            477,
            494,
            492
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "creating, 268 ",
        "bbox": [
            297,
            493,
            402,
            507
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "displaying, 269–270 ",
        "bbox": [
            297,
            510,
            456,
            525
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "drawing with onDraw() method, 257–258 ",
        "bbox": [
            267,
            525,
            513,
            555
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "handling OnTouchListener events, 259–260, 264-265 ",
        "bbox": [
            267,
            558,
            521,
            590
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "modifying Bubble class, 255–257 ",
        "bbox": [
            267,
            591,
            519,
            608
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "running in Android emulator, 260–261 ",
        "bbox": [
            267,
            609,
            507,
            639
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "setting up project, 250–252 ",
        "bbox": [
            267,
            641,
            484,
            657
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "testing, 258–261, 266–267 ",
        "bbox": [
            267,
            659,
            474,
            674
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "threading and multitasking, 261–264 ",
        "bbox": [
            267,
            675,
            492,
            705
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "touch event handler code, 264–265 ",
        "bbox": [
            267,
            708,
            547,
            723
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "combining single-pointer and multitouch events, 271–272 ",
        "bbox": [
            297,
            723,
            509,
            770
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "multitouch, 266–267 ",
        "bbox": [
            297,
            774,
            464,
            788
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "BubbleDraw app (desktop version) ",
        "bbox": [
            236,
            789,
            511,
            806
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "building frame, 199 ",
        "bbox": [
            267,
            807,
            426,
            822
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "creating Bubble class, 200–205 attributes for, 201 ",
        "bbox": [
            267,
            824,
            503,
            854
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "defining bubbles, 200–202 ",
        "bbox": [
            297,
            855,
            509,
            872
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "methods for, 202–205 ",
        "bbox": [
            297,
            873,
            470,
            887
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "creating project files, 198–199 ",
        "bbox": [
            267,
            888,
            507,
            906
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "mouse events, 210–217 ",
        "bbox": [
            615,
            64,
            795,
            79
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "clicks, 212–214 ",
        "bbox": [
            646,
            82,
            763,
            96
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "creating reusable event listener, 211–212 ",
        "bbox": [
            646,
            97,
            896,
            127
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "drags, 214–215 ",
        "bbox": [
            646,
            130,
            765,
            145
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "wheel events, 215–217 ",
        "bbox": [
            646,
            148,
            819,
            162
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "pixelated effect, 219–220 ",
        "bbox": [
            615,
            163,
            815,
            178
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "size variable limits, 218 ",
        "bbox": [
            615,
            181,
            801,
            195
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "storing bubbles in ArrayList, 205–210 ",
        "bbox": [
            615,
            196,
            841,
            226
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "adding constructor, 206–207 ",
        "bbox": [
            646,
            229,
            875,
            244
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "adding method, 207–208 ",
        "bbox": [
            646,
            247,
            845,
            262
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "testing BubblePanel class, 208–210 ",
        "bbox": [
            615,
            264,
            878,
            277
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "BubbleDraw app (GUI version) ",
        "bbox": [
            585,
            280,
            831,
            295
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "adding transparency, 224–225 ",
        "bbox": [
            615,
            297,
            855,
            312
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "animation, 225–229 ",
        "bbox": [
            615,
            313,
            775,
            327
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "adding timer, 226 ",
        "bbox": [
            646,
            330,
            787,
            345
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "frame rate, 225, 241 ",
        "bbox": [
            646,
            346,
            803,
            360
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "preparing, 227–228 ",
        "bbox": [
            646,
            363,
            801,
            378
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "setting timer, 226–227 ",
        "bbox": [
            646,
            379,
            823,
            394
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "starting timer, 229 ",
        "bbox": [
            646,
            396,
            793,
            411
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "building GUI, 232–235 ",
        "bbox": [
            615,
            412,
            799,
            427
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "event handlers, 234–235 ",
        "bbox": [
            646,
            429,
            839,
            442
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "setting up panel and buttons, 232–233 ",
        "bbox": [
            646,
            445,
            878,
            474
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "collision detection, 235–239 ",
        "bbox": [
            615,
            478,
            839,
            492
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "hard bounces, 238–239 ",
        "bbox": [
            646,
            495,
            831,
            507
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "soft bounces, 236–238 ",
        "bbox": [
            646,
            512,
            823,
            525
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "copying project and renaming Java file, 222–223 ",
        "bbox": [
            615,
            528,
            892,
            558
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "fixed speed, 244–245 ",
        "bbox": [
            615,
            561,
            783,
            576
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "pixelated effect, 245–247 ",
        "bbox": [
            615,
            578,
            813,
            591
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "preventing stationary bubbles, 244 ",
        "bbox": [
            615,
            594,
            888,
            609
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "random speed and direction, 229–232 ",
        "bbox": [
            615,
            609,
            847,
            639
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "sharing app as runnable JAR file, 243 ",
        "bbox": [
            615,
            642,
            809,
            675
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "speed control slider, 240–243 ",
        "bbox": [
            615,
            677,
            847,
            692
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "customizing, 241 ",
        "bbox": [
            646,
            693,
            779,
            708
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "event handler, 242–243 ",
        "bbox": [
            646,
            708,
            829,
            723
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "BubbleDraw class, 199 ",
        "bbox": [
            585,
            726,
            746,
            740
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "BubbleListener class, 212–214, 227 ",
        "bbox": [
            585,
            741,
            849,
            756
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "Bubble() method, 202–204 ",
        "bbox": [
            585,
            759,
            791,
            774
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "BubblePanel class, 199, 201, 203, 206–209, 214–215 ",
        "bbox": [
            585,
            776,
            833,
            806
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "BubbleView class, 251–255 ",
        "bbox": [
            585,
            809,
            781,
            822
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "BubbleView() constructor, 254 ",
        "bbox": [
            585,
            825,
            815,
            840
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "Button component, 82, 84, 87, 180 ",
        "bbox": [
            585,
            842,
            851,
            857
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "buttons ",
        "bbox": [
            585,
            858,
            648,
            870
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "adding, 82 ",
        "bbox": [
            615,
            875,
            702,
            890
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "adding event listeners, 62–64, 91–94 ",
        "bbox": [
            615,
            891,
            851,
            920
        ],
        "page_idx": 303
    },
    {
        "type": "page_number",
        "text": "280 ",
        "bbox": [
            95,
            948,
            125,
            963
        ],
        "page_idx": 303
    },
    {
        "type": "footer",
        "text": "Index ",
        "bbox": [
            146,
            953,
            178,
            963
        ],
        "page_idx": 303
    },
    {
        "type": "text",
        "text": "adding labeled, 46–47, 54 ",
        "bbox": [
            267,
            64,
            472,
            79
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "Clear button, 232–235 ",
        "bbox": [
            267,
            81,
            444,
            94
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "Click me! button, 46–47 ",
        "bbox": [
            267,
            97,
            462,
            111
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "Encode/Decode button, 152, 154–156, 159–164, 167, 179–180, 182–186 ",
        "bbox": [
            267,
            112,
            511,
            160
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "floating action button (fab), 84–85, 190–193 ",
        "bbox": [
            267,
            163,
            551,
            193
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "Guess! button, 54–55, 62–63, 66–69, 82, 93, 99 ",
        "bbox": [
            267,
            196,
            501,
            226
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "Move Up ^ button, 172–173, 196 ",
        "bbox": [
            267,
            229,
            521,
            244
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "OK button, 114 ",
        "bbox": [
            267,
            246,
            390,
            259
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "Pause/Start button, 232–235 ",
        "bbox": [
            267,
            262,
            496,
            277
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "Play Again button, 66, 73–74 ",
        "bbox": [
            267,
            279,
            496,
            294
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "showing and hiding, 73–74 ",
        "bbox": [
            267,
            295,
            482,
            310
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "C ",
        "text_level": 1,
        "bbox": [
            236,
            328,
            253,
            345
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "Caesar cipher, 125–126 ",
        "bbox": [
            236,
            352,
            422,
            370
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "camel case, 14, 21 ",
        "bbox": [
            236,
            370,
            378,
            385
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "Canvas class, 256 ",
        "bbox": [
            236,
            387,
            367,
            400
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "case sensitivity, 14, 21, 274 ",
        "bbox": [
            236,
            403,
            444,
            418
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "casts (type casts), 24, 132 ",
        "bbox": [
            236,
            420,
            436,
            435
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "chained assignment, 245 ",
        "bbox": [
            236,
            436,
            434,
            451
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "charAt() method, 130–132 ",
        "bbox": [
            236,
            454,
            442,
            468
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "char data type, 132 ",
        "bbox": [
            236,
            469,
            386,
            484
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "checkGuess() method, 58–59, 65, 68–69, 73, 88–89, 106, 116, 120 ",
        "bbox": [
            236,
            487,
            547,
            516
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "child classes, 49 ",
        "bbox": [
            236,
            519,
            367,
            534
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "classes, 21, 86–87 ",
        "bbox": [
            236,
            536,
            378,
            549
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "anonymous inner classes, 63, 91, 155, 167, 184, 210 ",
        "bbox": [
            267,
            552,
            523,
            582
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "creating, 21–23, 200–204 ",
        "bbox": [
            267,
            585,
            466,
            600
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "extending, 49 ",
        "bbox": [
            267,
            602,
            378,
            617
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "importing, 25 ",
        "bbox": [
            267,
            618,
            378,
            635
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "public, 23 ",
        "bbox": [
            267,
            636,
            347,
            651
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "superclasses, 48 ",
        "bbox": [
            267,
            651,
            394,
            666
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "Clear button, 232–235 ",
        "bbox": [
            236,
            668,
            414,
            681
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "Click me! button, 46–47 ",
        "bbox": [
            236,
            684,
            430,
            698
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "close() method, 37, 135 ",
        "bbox": [
            236,
            701,
            422,
            716
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "code completion, 91–92, 278 ",
        "bbox": [
            236,
            717,
            464,
            732
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "code recommenders, 59, 274–275 ",
        "bbox": [
            236,
            734,
            501,
            747
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "collision detection, 235–239 ",
        "bbox": [
            236,
            750,
            460,
            765
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "hard bounces, 238–239 ",
        "bbox": [
            267,
            767,
            454,
            780
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "soft bounces, 236–238 ",
        "bbox": [
            267,
            783,
            444,
            798
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "Color Chooser dialog (in Eclipse), 160, 165 ",
        "bbox": [
            236,
            800,
            511,
            831
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "Color class, 201, 203, 224, 255–256 ",
        "bbox": [
            236,
            833,
            507,
            846
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "command line apps, running without Eclipse, 141–144 ",
        "bbox": [
            236,
            849,
            535,
            881
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "opening command line window, 142–144 ",
        "bbox": [
            267,
            882,
            523,
            912
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "workspace folders, 141–142 ",
        "bbox": [
            267,
            915,
            482,
            930
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "comments, 23, 28 ",
        "bbox": [
            585,
            64,
            726,
            79
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "comparison operators ",
        "bbox": [
            585,
            82,
            761,
            96
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "equal to $\\scriptstyle \\left( = = \\right)$ , 30, 276 ",
        "bbox": [
            617,
            97,
            783,
            112
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "greater than (>), 30, 60 ",
        "bbox": [
            615,
            114,
            799,
            130
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "less than (<), 30, 60 ",
        "bbox": [
            617,
            130,
            769,
            145
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "not equal to (!=), 29 ",
        "bbox": [
            617,
            148,
            775,
            162
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "compiler directives, 91 ",
        "bbox": [
            585,
            163,
            763,
            178
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "concatenation operator (+), 12–13, 27, 30, 130–131 ",
        "bbox": [
            585,
            180,
            859,
            210
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "conditional expressions, 30 ",
        "bbox": [
            585,
            213,
            803,
            228
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "conditions, 28 ",
        "bbox": [
            585,
            229,
            700,
            243
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "confirm dialogs, 163 ",
        "bbox": [
            585,
            246,
            750,
            261
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "content assist, 59, 274–275 ",
        "bbox": [
            585,
            262,
            795,
            277
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "content panes, 52 ",
        "bbox": [
            585,
            280,
            726,
            295
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "D ",
        "text_level": 1,
        "bbox": [
            585,
            318,
            601,
            334
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "data structures, 205 ",
        "bbox": [
            585,
            343,
            744,
            358
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "debugging, 28 ",
        "bbox": [
            585,
            360,
            700,
            376
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "case sensitivity, 274 ",
        "bbox": [
            617,
            376,
            767,
            391
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "code completion, 278 ",
        "bbox": [
            617,
            393,
            787,
            409
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "commenting out, 28 ",
        "bbox": [
            617,
            409,
            777,
            424
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "grouping symbols, 276–278 ",
        "bbox": [
            617,
            426,
            833,
            441
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "spelling errors, 274–276 ",
        "bbox": [
            617,
            442,
            807,
            457
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "statement completion, 278 ",
        "bbox": [
            617,
            460,
            825,
            475
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "syntax coloring, 273 ",
        "bbox": [
            617,
            475,
            775,
            490
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "USB debugging, 100–102, 188, 267 ",
        "bbox": [
            617,
            492,
            890,
            507
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "decrement operator (--), 130 ",
        "bbox": [
            585,
            509,
            817,
            524
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "defaultCloseOperation property, 51–52 ",
        "bbox": [
            585,
            525,
            882,
            540
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "Dimension class, 64–65 ",
        "bbox": [
            585,
            542,
            759,
            555
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "dismiss() method, 114 ",
        "bbox": [
            585,
            558,
            759,
            573
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "dot notation, 26 ",
        "bbox": [
            585,
            575,
            714,
            588
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "dot operator (.), 59, 68 ",
        "bbox": [
            585,
            591,
            769,
            606
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "double quotation marks (\"), 27 ",
        "bbox": [
            585,
            608,
            833,
            623
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "double variable type (double-precision floating point), 14 ",
        "bbox": [
            585,
            624,
            886,
            657
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "do-while loops, 33–35 ",
        "bbox": [
            585,
            657,
            755,
            672
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "draw() method, 204–205, 247, 256 ",
        "bbox": [
            585,
            674,
            849,
            689
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "drawOval() method, 250, 256–257 ",
        "bbox": [
            585,
            690,
            845,
            705
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "drawRect() method, 204 ",
        "bbox": [
            585,
            707,
            769,
            722
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "E ",
        "text_level": 1,
        "bbox": [
            585,
            746,
            597,
            762
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "Eclipse, 1. See also BubbleDraw app ",
        "bbox": [
            585,
            771,
            861,
            786
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "(GUI version); ",
        "bbox": [
            676,
            788,
            791,
            803
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "Hi-Lo guessing game ",
        "bbox": [
            676,
            804,
            845,
            819
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "(GUI version); Secret ",
        "bbox": [
            676,
            821,
            847,
            836
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "Messages app (GUI version) ",
        "bbox": [
            676,
            837,
            896,
            854
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "automatic indentation clean-up, 35 ",
        "bbox": [
            615,
            855,
            894,
            870
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "content assist and code ",
        "bbox": [
            615,
            870,
            799,
            885
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "recommenders, 59, ",
        "bbox": [
            676,
            887,
            827,
            902
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "274–275 ",
        "bbox": [
            676,
            903,
            742,
            917
        ],
        "page_idx": 304
    },
    {
        "type": "footer",
        "text": "Index ",
        "bbox": [
            819,
            953,
            851,
            963
        ],
        "page_idx": 304
    },
    {
        "type": "page_number",
        "text": "281 ",
        "bbox": [
            873,
            948,
            898,
            963
        ],
        "page_idx": 304
    },
    {
        "type": "text",
        "text": "Eclipse (continued) ",
        "bbox": [
            236,
            64,
            386,
            79
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "correcting spelling errors, 274–275 ",
        "bbox": [
            267,
            82,
            545,
            97
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "creating classes, 21–23 ",
        "bbox": [
            267,
            99,
            446,
            112
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "creating new Java project, 20–21 ",
        "bbox": [
            267,
            115,
            521,
            130
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "customizing appearance of, 7–8 ",
        "bbox": [
            267,
            132,
            521,
            145
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "grouping symbols, 277 ",
        "bbox": [
            267,
            148,
            448,
            163
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "installing, 3–4 ",
        "bbox": [
            267,
            165,
            384,
            178
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "perspectives, 21 ",
        "bbox": [
            267,
            181,
            392,
            196
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "saving code, 25 ",
        "bbox": [
            267,
            198,
            388,
            211
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "",
        "bbox": [
            267,
            214,
            349,
            229
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "default workspace storage ",
        "bbox": [
            297,
            231,
            503,
            246
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "location, 4–5 ",
        "bbox": [
            327,
            247,
            432,
            261
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "installing WindowBuilder ",
        "bbox": [
            297,
            262,
            501,
            277
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "Editor, 6–7 ",
        "bbox": [
            327,
            280,
            416,
            294
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "modifying to run with Java 9, 5 ",
        "bbox": [
            297,
            295,
            543,
            312
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "setting up GUI projects, 48–49 ",
        "bbox": [
            267,
            313,
            513,
            328
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "themes, 7 ",
        "bbox": [
            267,
            330,
            345,
            343
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "WindowBuilder Editor, 50 ",
        "bbox": [
            267,
            346,
            474,
            360
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "Design tab, 50 ",
        "bbox": [
            297,
            361,
            412,
            376
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "installing, 6–7 ",
        "bbox": [
            297,
            379,
            412,
            394
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "Palette pane, 52–54 ",
        "bbox": [
            297,
            396,
            454,
            411
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "Properties pane, 51–52 ",
        "bbox": [
            297,
            412,
            480,
            427
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "Source tab, 56 ",
        "bbox": [
            297,
            429,
            412,
            442
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "workspace folders, 4–5, 141–142 ",
        "bbox": [
            267,
            445,
            519,
            460
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "/edit command, 16 ",
        "bbox": [
            238,
            462,
            390,
            475
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "editor action, 103 ",
        "bbox": [
            238,
            478,
            378,
            492
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "EditText component, 82, 84, 87, 102, 107, 178, 185 ",
        "bbox": [
            238,
            495,
            521,
            525
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "else-if statements, 138–139 ",
        "bbox": [
            238,
            528,
            456,
            542
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "else statements, 31 ",
        "bbox": [
            238,
            545,
            386,
            558
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "encapsulation, 201 ",
        "bbox": [
            238,
            561,
            386,
            575
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "Encode/Decode button, 152, 154–156, 159–164, 167, 179–180, 182–186 ",
        "bbox": [
            238,
            578,
            543,
            623
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "encode() method, 151–155, 182–185 ",
        "bbox": [
            238,
            627,
            513,
            642
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "equalsIgnoreCase() method, 34 ",
        "bbox": [
            238,
            644,
            474,
            657
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "equals() method, 34, 276 ",
        "bbox": [
            238,
            660,
            434,
            675
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "equal-to operator $\\scriptstyle ( = = )$ , 30, 276 ",
        "bbox": [
            238,
            677,
            480,
            692
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "escape character sequence (\\n), 107, 178 ",
        "bbox": [
            238,
            693,
            488,
            723
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "event listeners, 62, 117. See also mouse events; touch events ",
        "bbox": [
            238,
            726,
            533,
            756
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "for buttons, 62–64, 91–94 ",
        "bbox": [
            267,
            759,
            470,
            773
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "creating reusable, 211–212 ",
        "bbox": [
            267,
            776,
            478,
            789
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "for enter key, 103–104 ",
        "bbox": [
            267,
            792,
            448,
            806
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "exception handlers, 70–72 ",
        "bbox": [
            238,
            809,
            448,
            824
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "exceptions, 70 ",
        "bbox": [
            238,
            825,
            353,
            840
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "/exit command, 16 ",
        "bbox": [
            238,
            842,
            390,
            855
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "expressions, evaluating in JShell, 12–13 ",
        "bbox": [
            238,
            858,
            498,
            887
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "extending classes, 49 ",
        "bbox": [
            238,
            891,
            404,
            906
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "F ",
        "text_level": 1,
        "bbox": [
            585,
            64,
            599,
            81
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "fab (floating action button) icon, 84–85, 190–193 ",
        "bbox": [
            585,
            91,
            849,
            121
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "fillOval() method, 204–205 ",
        "bbox": [
            585,
            124,
            809,
            138
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "fillRect() method, 220, 247 ",
        "bbox": [
            585,
            139,
            805,
            154
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "finally block, 71–72 ",
        "bbox": [
            585,
            157,
            746,
            172
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "findViewById() method, 87 ",
        "bbox": [
            585,
            174,
            791,
            187
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "floating action button (fab) icon, 84–85, 190–193 ",
        "bbox": [
            585,
            190,
            849,
            220
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "floating-point numbers, 14 ",
        "bbox": [
            585,
            223,
            799,
            238
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "FlowLayout value, 240 ",
        "bbox": [
            585,
            240,
            751,
            253
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "focus, 69 ",
        "bbox": [
            585,
            256,
            658,
            270
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "Font Chooser dialog (in Eclipse), 159 ",
        "bbox": [
            585,
            273,
            882,
            289
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "for-each loops, 228, 263 ",
        "bbox": [
            585,
            289,
            773,
            304
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "for loops, 129–134 ",
        "bbox": [
            585,
            306,
            734,
            321
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "forward slashes (//), 23, 28 ",
        "bbox": [
            585,
            322,
            797,
            336
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "G ",
        "text_level": 1,
        "bbox": [
            585,
            361,
            601,
            376
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "game loops (do-while loops), 33–35 ",
        "bbox": [
            585,
            387,
            865,
            403
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "getHeight() method, 236–238 ",
        "bbox": [
            585,
            403,
            817,
            418
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "getInt() method, 120 ",
        "bbox": [
            585,
            420,
            753,
            435
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "getMenuInflator() method, 111",
        "bbox": [
            585,
            436,
            821,
            451
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "getPointerCount() method, 266, 271 ",
        "bbox": [
            585,
            453,
            859,
            468
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "getProgress() method, 186 ",
        "bbox": [
            585,
            469,
            793,
            484
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "getSource() method, 235",
        "bbox": [
            585,
            487,
            777,
            501
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "getStringExtra() method, 194 ",
        "bbox": [
            585,
            503,
            815,
            518
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "getText() method, 59, 155, 185 ",
        "bbox": [
            585,
            519,
            823,
            534
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "getUnitsToScroll() method, 216 ",
        "bbox": [
            585,
            536,
            827,
            551
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "getValue() method, 167–168, 243 ",
        "bbox": [
            585,
            552,
            841,
            567
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "getWidth() method, 236–238 ",
        "bbox": [
            585,
            569,
            809,
            584
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "Graphics class, 204 ",
        "bbox": [
            585,
            585,
            730,
            599
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "greater-than operator (>), 30, 60 ",
        "bbox": [
            585,
            602,
            843,
            617
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "grouping symbols, 276–278 ",
        "bbox": [
            585,
            618,
            803,
            633
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "Guess! button, 54–55, 62–63, 66–69, 82, 93, 99 ",
        "bbox": [
            585,
            635,
            876,
            665
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "H ",
        "text_level": 1,
        "bbox": [
            585,
            690,
            601,
            705
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "Handler class, 253, 262 ",
        "bbox": [
            585,
            716,
            759,
            729
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "\"Hello, Java!\" test code, 9 ",
        "bbox": [
            585,
            732,
            787,
            747
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "/help command, 16 ",
        "bbox": [
            585,
            749,
            740,
            764
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "HiLo class, 21–23 ",
        "bbox": [
            585,
            765,
            714,
            779
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "Hi-Lo guessing game (Android mobile version) ",
        "bbox": [
            585,
            782,
            894,
            813
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "adding method to begin new game, 90–91 ",
        "bbox": [
            615,
            815,
            898,
            843
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "adding method to check player’s guess, 88–89 ",
        "bbox": [
            615,
            846,
            875,
            879
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "building GUI layout, 80–83 ",
        "bbox": [
            615,
            881,
            835,
            897
        ],
        "page_idx": 305
    },
    {
        "type": "page_number",
        "text": "282 ",
        "bbox": [
            95,
            948,
            125,
            963
        ],
        "page_idx": 305
    },
    {
        "type": "footer",
        "text": "Index ",
        "bbox": [
            146,
            953,
            176,
            963
        ],
        "page_idx": 305
    },
    {
        "type": "text",
        "text": "changing guessing range, 114–117 ",
        "bbox": [
            267,
            63,
            541,
            79
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "adding variable, 115 ",
        "bbox": [
            297,
            81,
            458,
            96
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "dialog to allow user to select range, 116–117 ",
        "bbox": [
            297,
            97,
            523,
            129
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "modifying behavior of app to use variable, 115–116 ",
        "bbox": [
            297,
            130,
            531,
            160
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "changing number of tries, 122–123 ",
        "bbox": [
            267,
            162,
            545,
            178
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "event listeners, 91–94 ",
        "bbox": [
            267,
            180,
            438,
            193
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "options menu, 109–114 ",
        "bbox": [
            267,
            196,
            452,
            211
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "adding items to XML file, 110–111 ",
        "bbox": [
            297,
            213,
            503,
            243
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "alert dialog pop-up for About screen, 113–114 ",
        "bbox": [
            297,
            244,
            533,
            277
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "displaying, 111–112 ",
        "bbox": [
            297,
            277,
            452,
            294
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "responding to user selections, 112–113 ",
        "bbox": [
            297,
            295,
            535,
            325
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "ratio of wins to losses, 123 ",
        "bbox": [
            267,
            328,
            474,
            343
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "running in Android emulator, 94–99 ",
        "bbox": [
            267,
            345,
            509,
            375
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "running on real Android device, 100–102 ",
        "bbox": [
            267,
            378,
            527,
            409
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "setting up project, 76–80 ",
        "bbox": [
            267,
            411,
            466,
            427
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "storing game stats, 120–122 ",
        "bbox": [
            267,
            427,
            486,
            442
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "storing user preferences, 118–120 ",
        "bbox": [
            267,
            444,
            533,
            460
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "Toast messages, 106 ",
        "bbox": [
            267,
            460,
            426,
            475
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "UX improvements, 102–105 ",
        "bbox": [
            267,
            477,
            488,
            492
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "aligning text field, 104 ",
        "bbox": [
            297,
            493,
            478,
            509
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "centering input in text field, 103 ",
        "bbox": [
            297,
            510,
            478,
            540
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "event listener for enter key, 103–104 ",
        "bbox": [
            297,
            543,
            515,
            573
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "visual improvements, 107 ",
        "bbox": [
            267,
            576,
            468,
            591
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "wiring up, 83–88 ",
        "bbox": [
            267,
            593,
            404,
            609
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "Hi-Lo guessing game (command line version) ",
        "bbox": [
            238,
            609,
            535,
            641
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "completed code for, 37–38 ",
        "bbox": [
            267,
            642,
            478,
            657
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "counting tries, 40–41 ",
        "bbox": [
            267,
            659,
            436,
            674
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "creating HiLo class, 21–23 ",
        "bbox": [
            267,
            675,
            466,
            690
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "creating new Java project, 20–21 ",
        "bbox": [
            267,
            692,
            521,
            708
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "generating random numbers, 23–25 ",
        "bbox": [
            267,
            708,
            503,
            738
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "getting keyboard input, 25–27 ",
        "bbox": [
            267,
            741,
            507,
            756
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "increasing range of numbers, 40 ",
        "bbox": [
            267,
            758,
            525,
            774
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "loops, 28–35 ",
        "bbox": [
            267,
            774,
            369,
            789
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "if statements, 30–32 ",
        "bbox": [
            297,
            791,
            460,
            806
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "play again feature, 33–35 ",
        "bbox": [
            297,
            807,
            498,
            824
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "making program print output, 27–28 ",
        "bbox": [
            267,
            825,
            511,
            854
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "overview of, 19–20 ",
        "bbox": [
            267,
            857,
            414,
            870
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "planning basic version of, 20 ",
        "bbox": [
            267,
            873,
            494,
            890
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "prompting for user input, 26 ",
        "bbox": [
            267,
            891,
            494,
            906
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "testing, 36–37 ",
        "bbox": [
            615,
            64,
            728,
            79
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "thank-you for playing, 36–37 ",
        "bbox": [
            615,
            81,
            843,
            97
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "Hi-Lo guessing game (GUI version) ",
        "bbox": [
            587,
            97,
            869,
            112
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "adding method to check player’s guess, 58 ",
        "bbox": [
            615,
            114,
            875,
            145
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "converting strings to numbers, 60–61 ",
        "bbox": [
            646,
            148,
            888,
            177
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "getting text from text field, 59–60 ",
        "bbox": [
            644,
            180,
            861,
            208
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "designing GUI, 50–58 ",
        "bbox": [
            615,
            213,
            793,
            228
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "aligning elements, 54–55 ",
        "bbox": [
            646,
            229,
            847,
            244
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "customizing components, 52–54 ",
        "bbox": [
            646,
            247,
            849,
            276
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "setting properties, 51–52 ",
        "bbox": [
            646,
            279,
            843,
            295
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "wiring up, 55–58 ",
        "bbox": [
            646,
            295,
            781,
            310
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "event listeners, 62–64 ",
        "bbox": [
            615,
            312,
            787,
            325
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "handling bad input, 69–72 ",
        "bbox": [
            615,
            328,
            827,
            345
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "new game (picking new random number), 61–62 ",
        "bbox": [
            615,
            346,
            871,
            376
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "play again feature, 66–67, 73–74 ",
        "bbox": [
            615,
            378,
            871,
            394
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "setting up GUI window, 64–65 ",
        "bbox": [
            615,
            394,
            857,
            409
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "setting up project, 48–49 ",
        "bbox": [
            615,
            411,
            815,
            427
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "showing and hiding Play Again button, 73–74 ",
        "bbox": [
            615,
            427,
            861,
            457
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "showing number of tries, 73 ",
        "bbox": [
            615,
            460,
            837,
            475
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "testing, 66 ",
        "bbox": [
            615,
            477,
            700,
            492
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "UX improvements, 67–70 ",
        "bbox": [
            617,
            493,
            817,
            509
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "automatically removing old guesses, 68–69 ",
        "bbox": [
            646,
            510,
            863,
            542
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "pressing enter to guess, 68 ",
        "bbox": [
            646,
            543,
            861,
            560
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "/history command, 16 ",
        "bbox": [
            587,
            560,
            763,
            575
        ],
        "page_idx": 306
    },
    {
        "type": "image",
        "img_path": "images/c091d30c64dadea0f7e9600e341c1b9e009b131f7d717254ce9ed25554882463.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            585,
            599,
            593,
            615
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "if-else statements, 31, 135 ",
        "bbox": [
            585,
            624,
            795,
            639
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "if statements, 30–32, 134 ",
        "bbox": [
            585,
            641,
            787,
            654
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "image editors, 268 ",
        "bbox": [
            585,
            657,
            734,
            672
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "ImageView class, 251, 253 ",
        "bbox": [
            585,
            674,
            773,
            689
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "/imports command, 16 ",
        "bbox": [
            585,
            690,
            763,
            705
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "increment operator $\\left( + + \\right)$ , 129 ",
        "bbox": [
            585,
            707,
            815,
            723
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "indentation, 30, 35, 277 ",
        "bbox": [
            585,
            723,
            775,
            738
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "indexes, 129 ",
        "bbox": [
            585,
            740,
            686,
            753
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "inflate() method, 111 ",
        "bbox": [
            585,
            756,
            759,
            771
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "inheritance, 48 ",
        "bbox": [
            585,
            773,
            708,
            786
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "input dialogs, 163 ",
        "bbox": [
            585,
            789,
            728,
            804
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "Integer class, 60 ",
        "bbox": [
            585,
            806,
            712,
            821
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "int variable type (integer), 13 ",
        "bbox": [
            585,
            822,
            821,
            837
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "invalidate() method, 259, 263 ",
        "bbox": [
            585,
            839,
            823,
            854
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "isSpace() method, 135 ",
        "bbox": [
            585,
            855,
            759,
            870
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "<item> tag, 111 ",
        "bbox": [
            585,
            872,
            698,
            888
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "iteration, 128 ",
        "bbox": [
            585,
            888,
            692,
            903
        ],
        "page_idx": 306
    },
    {
        "type": "footer",
        "text": "Index ",
        "bbox": [
            817,
            951,
            851,
            963
        ],
        "page_idx": 306
    },
    {
        "type": "page_number",
        "text": "283 ",
        "bbox": [
            871,
            948,
            902,
            963
        ],
        "page_idx": 306
    },
    {
        "type": "text",
        "text": "J ",
        "text_level": 1,
        "bbox": [
            236,
            64,
            250,
            82
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "JAR (Java archive) files, 169–171, 243 ",
        "bbox": [
            234,
            90,
            535,
            106
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "Java, 1 ",
        "bbox": [
            234,
            108,
            291,
            121
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "as first programming language, xx modifying Eclipse to run with Java 9, 5 ",
        "bbox": [
            267,
            124,
            545,
            172
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "as object-oriented programming language, 21 ",
        "bbox": [
            267,
            174,
            527,
            205
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "printing output in, 15 ",
        "bbox": [
            267,
            207,
            440,
            222
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "testing setup using JShell, 9–17 ",
        "bbox": [
            267,
            223,
            513,
            238
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "Java archive (JAR) files, 169–171, 243 ",
        "bbox": [
            234,
            238,
            533,
            255
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "Java Development Kit (JDK), 2–3, 10 ",
        "bbox": [
            234,
            256,
            527,
            271
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "Java Perspective (in Eclipse), 21 ",
        "bbox": [
            234,
            273,
            488,
            289
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "Java Runtime Environment (JRE) software, 1–2, 141 ",
        "bbox": [
            234,
            289,
            505,
            321
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "Java Virtual Machine (JVM) software, 1–2, 141 ",
        "bbox": [
            234,
            322,
            539,
            352
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "JButton component, 46, 52, 54, 63, 74, 151, 232 ",
        "bbox": [
            236,
            355,
            535,
            385
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "JCheckBox component, 52 ",
        "bbox": [
            236,
            388,
            434,
            403
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "JDK (Java Development Kit), 2–3, 10 ",
        "bbox": [
            236,
            405,
            525,
            421
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "JFrame class, 44, 48–49, 199, 223 ",
        "bbox": [
            236,
            421,
            490,
            436
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "JLabel component, 52–54, 57, 61, 74, 151, 240 ",
        "bbox": [
            236,
            438,
            523,
            469
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "JOptionPane component, 164 ",
        "bbox": [
            236,
            471,
            460,
            486
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "JPanel component, 46, 198–199, 207–208, 232, 240 ",
        "bbox": [
            236,
            487,
            490,
            518
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "JRE (Java Runtime Environment) software, 1–2, 141 ",
        "bbox": [
            234,
            519,
            505,
            552
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "JScrollPane component, 173–174 ",
        "bbox": [
            236,
            554,
            492,
            569
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "JShell, 9 ",
        "bbox": [
            236,
            570,
            305,
            585
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "commands, 16–17 ",
        "bbox": [
            267,
            587,
            410,
            600
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "creating GUIs in, 44–47 ",
        "bbox": [
            267,
            603,
            460,
            618
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "declaring Java variables in, 13–15 ",
        "bbox": [
            267,
            620,
            531,
            635
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "evaluating Java expressions in, 12–13 ",
        "bbox": [
            267,
            636,
            509,
            666
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "\"Hello, Java!\" test code, 9 ",
        "bbox": [
            267,
            669,
            470,
            684
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "opening code in, 16 ",
        "bbox": [
            267,
            686,
            426,
            702
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "printing output, 15 ",
        "bbox": [
            267,
            702,
            420,
            717
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "running, 9–11 ",
        "bbox": [
            267,
            719,
            380,
            735
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "from command line, 10–11 ",
        "bbox": [
            297,
            735,
            511,
            750
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "confirming installed version of JDK, 10 ",
        "bbox": [
            297,
            752,
            523,
            783
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "from shortcut, 11–12 ",
        "bbox": [
            297,
            785,
            464,
            800
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "saving code created in, 16 ",
        "bbox": [
            267,
            801,
            474,
            816
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "starting new code snippets, 17 ",
        "bbox": [
            267,
            818,
            505,
            834
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "testing Java setup, 9–17 ",
        "bbox": [
            267,
            834,
            452,
            849
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "JShell Edit Pad, 46–47 ",
        "bbox": [
            236,
            851,
            416,
            866
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "JSlider component, 164–167 ",
        "bbox": [
            236,
            867,
            464,
            882
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "JTextArea component, 150–152 ",
        "bbox": [
            236,
            884,
            480,
            899
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "scroll bars for, 173–174 ",
        "bbox": [
            267,
            900,
            448,
            915
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "wrapping text, 162 ",
        "bbox": [
            267,
            917,
            418,
            933
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "JTextField component, 52–53, 56–57, 59–60, 68–69, 151–152 ",
        "bbox": [
            585,
            64,
            878,
            96
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "JVM (Java Virtual Machine) software, 1–2, 141 ",
        "bbox": [
            583,
            97,
            886,
            129
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "K ",
        "text_level": 1,
        "bbox": [
            585,
            154,
            601,
            169
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "key/value pairs, 118 ",
        "bbox": [
            585,
            178,
            744,
            195
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "L ",
        "text_level": 1,
        "bbox": [
            585,
            219,
            595,
            234
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "labels ",
        "bbox": [
            585,
            244,
            634,
            256
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "adding, 52–54, 81–82 ",
        "bbox": [
            617,
            259,
            785,
            276
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "alignment, 53 ",
        "bbox": [
            617,
            277,
            726,
            292
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "editing, 53, 81–82 ",
        "bbox": [
            617,
            292,
            759,
            309
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "font, 53 ",
        "bbox": [
            617,
            310,
            678,
            324
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "naming for coding, 56 ",
        "bbox": [
            617,
            327,
            795,
            342
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "length() method, 129–131 ",
        "bbox": [
            585,
            343,
            789,
            358
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "less-than operator (<), 30, 60 ",
        "bbox": [
            585,
            360,
            813,
            375
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "lineWrap property, 162 ",
        "bbox": [
            585,
            376,
            761,
            391
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "/list command, 16 ",
        "bbox": [
            585,
            393,
            740,
            406
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "logarithms, 123 ",
        "bbox": [
            585,
            409,
            712,
            424
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "log() method, 123 ",
        "bbox": [
            585,
            426,
            730,
            441
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "loops, 28–35, 144–145 ",
        "bbox": [
            585,
            442,
            761,
            457
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "do-while loops, 33–35 ",
        "bbox": [
            617,
            460,
            785,
            474
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "for-each loops, 228, 263 ",
        "bbox": [
            617,
            475,
            801,
            490
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "for loops, 129–134 ",
        "bbox": [
            617,
            492,
            765,
            507
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "nested, 38 ",
        "bbox": [
            617,
            509,
            698,
            522
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "while loops, 28–30 ",
        "bbox": [
            617,
            525,
            763,
            540
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "M ",
        "text_level": 1,
        "bbox": [
            585,
            564,
            603,
            579
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "MadLibs class, 41 ",
        "bbox": [
            585,
            590,
            710,
            603
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "MadLibs game ",
        "bbox": [
            585,
            606,
            706,
            621
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "Android mobile version, 107 ",
        "bbox": [
            617,
            623,
            841,
            636
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "command line version, 41 ",
        "bbox": [
            617,
            639,
            819,
            653
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "GUI version, 74 ",
        "bbox": [
            617,
            654,
            740,
            669
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "main() method ",
        "bbox": [
            585,
            672,
            700,
            686
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "BubbleDraw app ",
        "bbox": [
            617,
            689,
            750,
            705
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "desktop version, 210 ",
        "bbox": [
            646,
            705,
            805,
            720
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "GUI version, 222–223 ",
        "bbox": [
            646,
            722,
            817,
            735
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "Hi-Lo guessing game ",
        "bbox": [
            617,
            738,
            787,
            753
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "command line version, 22–23, 25, 29, 35 ",
        "bbox": [
            646,
            755,
            884,
            785
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "GUI version, 48, 64–65 ",
        "bbox": [
            646,
            788,
            829,
            801
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "Secret Messages app ",
        "bbox": [
            617,
            804,
            779,
            819
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "command line version, 127–128, 135–136 ",
        "bbox": [
            646,
            821,
            827,
            849
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "GUI version, 148, 156–157 ",
        "bbox": [
            646,
            852,
            853,
            867
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "majorTickSpacing property, 165, 241 ",
        "bbox": [
            585,
            870,
            857,
            885
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "makeText() method, 106 ",
        "bbox": [
            585,
            887,
            767,
            902
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "manifest file, 193 ",
        "bbox": [
            585,
            903,
            724,
            917
        ],
        "page_idx": 307
    },
    {
        "type": "page_number",
        "text": "284 ",
        "bbox": [
            95,
            948,
            125,
            963
        ],
        "page_idx": 307
    },
    {
        "type": "footer",
        "text": "Index ",
        "bbox": [
            146,
            953,
            178,
            963
        ],
        "page_idx": 307
    },
    {
        "type": "text",
        "text": "Math class, 23 ",
        "bbox": [
            236,
            64,
            341,
            78
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "math expressions, 12 ",
        "bbox": [
            236,
            81,
            404,
            96
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "MenuInflator class, 111 ",
        "bbox": [
            236,
            97,
            410,
            111
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "<menu> tag, 110–111 ",
        "bbox": [
            238,
            114,
            386,
            129
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "message dialogs, 163–164 ",
        "bbox": [
            238,
            130,
            440,
            145
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "methods, 22, 200–210 ",
        "bbox": [
            238,
            147,
            412,
            160
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "designing, 202–205, 207–208 ",
        "bbox": [
            267,
            163,
            498,
            178
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "displaying available methods with content assist, 68–69 ",
        "bbox": [
            267,
            180,
            535,
            210
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "method signature, 207 ",
        "bbox": [
            238,
            213,
            418,
            228
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "minorTickSpacing property, 165, 241 ",
        "bbox": [
            238,
            229,
            509,
            244
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "modulo operator (%), 139 ",
        "bbox": [
            238,
            246,
            440,
            261
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "MouseAdapter class, 212 ",
        "bbox": [
            238,
            262,
            414,
            277
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "mouseClicked() method, 212 ",
        "bbox": [
            238,
            279,
            452,
            294
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "mouseDragged() method, 214–215 ",
        "bbox": [
            238,
            295,
            490,
            310
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "MouseEvent class, 212–213 ",
        "bbox": [
            238,
            312,
            432,
            325
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "mouse events, 210–217 ",
        "bbox": [
            238,
            328,
            418,
            343
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "clicks, 212–214 ",
        "bbox": [
            267,
            345,
            386,
            358
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "creating reusable event listener, 211–212 ",
        "bbox": [
            267,
            361,
            517,
            391
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "drags, 214–215 ",
        "bbox": [
            267,
            394,
            386,
            409
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "wheel events, 215–217 ",
        "bbox": [
            267,
            411,
            440,
            424
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "mouseMoved() method, 214 ",
        "bbox": [
            238,
            427,
            436,
            442
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "mousePressed() method, 212–214 ",
        "bbox": [
            238,
            444,
            488,
            459
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "mouseReleased() method, 212 ",
        "bbox": [
            238,
            460,
            460,
            475
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "MouseWheelEvent class, 215–216 ",
        "bbox": [
            238,
            477,
            474,
            490
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "mouseWheelMoved() method, 216, 218 ",
        "bbox": [
            238,
            493,
            513,
            509
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "Move Up ^ button, 172–173, 196 ",
        "bbox": [
            238,
            510,
            490,
            525
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "multitasking, 249, 261–264 ",
        "bbox": [
            238,
            527,
            450,
            542
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "multitouch, 249, 266–267 ",
        "bbox": [
            238,
            543,
            440,
            557
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "N ",
        "text_level": 1,
        "bbox": [
            238,
            582,
            253,
            597
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "\\n (escape character sequence), 107, 178 ",
        "bbox": [
            238,
            608,
            488,
            636
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "nested loops, 38 ",
        "bbox": [
            238,
            641,
            367,
            656
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "newGame() method, 61–62, 64, 66–67, 90, 113–115, 120 ",
        "bbox": [
            238,
            657,
            525,
            687
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "New Java Class dialog (in Eclipse), 22–23, 49, 148 ",
        "bbox": [
            238,
            690,
            509,
            720
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "New Java Project dialog (in Eclipse), 20–21 ",
        "bbox": [
            238,
            723,
            525,
            753
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "newline character, 107, 178 ",
        "bbox": [
            238,
            756,
            452,
            771
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "nextInt() method, 25, 27–28, 203–204, 224, 231 ",
        "bbox": [
            238,
            773,
            541,
            803
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "nextLine() method, 25, 128 ",
        "bbox": [
            238,
            806,
            450,
            821
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "not-equal-to operator (!=), 29 ",
        "bbox": [
            238,
            822,
            472,
            837
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "numeric variables, 13–14 ",
        "bbox": [
            238,
            839,
            436,
            852
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "O ",
        "text_level": 1,
        "bbox": [
            238,
            876,
            251,
            893
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "object-oriented programming, 21, 198 objects, 21 ",
        "bbox": [
            236,
            903,
            539,
            936
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "OK button, 114 ",
        "bbox": [
            585,
            64,
            708,
            78
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "OnClickListener event handler class, 91–92, 184 ",
        "bbox": [
            585,
            81,
            865,
            111
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "onClick() method, 93, 114, 184–185, 191 ",
        "bbox": [
            585,
            114,
            896,
            127
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "onCreate() method, 87, 90–91, 115, 120, 182, 191 ",
        "bbox": [
            585,
            130,
            894,
            160
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "onCreateOptionsMenu() method, 111 ",
        "bbox": [
            585,
            163,
            855,
            178
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "onDraw() method, 257–258, 263 ",
        "bbox": [
            585,
            180,
            829,
            195
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "online resources, xxi–xxii ",
        "bbox": [
            585,
            196,
            793,
            210
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "onOptionsItemSelected() method, 112, 116, 118–119, 121 ",
        "bbox": [
            585,
            213,
            876,
            243
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "onProgressChanged() method, 188 ",
        "bbox": [
            585,
            246,
            841,
            261
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "OnSeekBarChangeListener event handler, 187–188 ",
        "bbox": [
            585,
            262,
            886,
            292
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "onStartTrackingTouch() method, 188 ",
        "bbox": [
            585,
            295,
            861,
            310
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "onStopTrackingTouch() method, 188 ",
        "bbox": [
            585,
            313,
            851,
            327
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "OnTouchListener interface, 251–252, 259–260 ",
        "bbox": [
            585,
            328,
            857,
            357
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "onTouch() method, 259–260, 264–265, 271 ",
        "bbox": [
            585,
            361,
            803,
            391
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "/open command, 16 ",
        "bbox": [
            585,
            394,
            738,
            409
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "operators ",
        "bbox": [
            585,
            412,
            664,
            427
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "arithmetic (+, -, *, /), 12 ",
        "bbox": [
            617,
            427,
            805,
            442
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "assignment (=), 13–15, 245, 276 ",
        "bbox": [
            617,
            445,
            865,
            459
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "comparison equal to $\\scriptstyle ( = = )$ ), 30, 276 ",
        "bbox": [
            617,
            462,
            813,
            492
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "greater than (>), 30, 60 ",
        "bbox": [
            617,
            493,
            829,
            509
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "less than (<), 30, 60 ",
        "bbox": [
            646,
            510,
            799,
            525
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "not equal to (!=), 29 ",
        "bbox": [
            646,
            528,
            805,
            542
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "concatenation, 12–13, 27, 30, 130–131 ",
        "bbox": [
            617,
            543,
            843,
            573
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "decrement (--), 130 ",
        "bbox": [
            617,
            576,
            773,
            591
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "dot (.), 59, 68 ",
        "bbox": [
            617,
            593,
            726,
            606
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "increment $\\left( + + \\right)$ , 129 ",
        "bbox": [
            617,
            609,
            771,
            624
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "modulo (%), 139 ",
        "bbox": [
            617,
            627,
            744,
            639
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "options menu, adding in Android, 109–114 ",
        "bbox": [
            585,
            642,
            859,
            672
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "adding items to XML file, 110–111 ",
        "bbox": [
            617,
            675,
            886,
            690
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "alert dialog pop-up for About screen, 113–114 ",
        "bbox": [
            617,
            692,
            851,
            723
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "displaying, 111–112 ",
        "bbox": [
            617,
            725,
            769,
            741
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "responding to user selections, 112–113 ",
        "bbox": [
            617,
            741,
            853,
            771
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "P ",
        "text_level": 1,
        "bbox": [
            585,
            795,
            599,
            812
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "package declarations, 85–86 ",
        "bbox": [
            585,
            822,
            813,
            837
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "Paint class, 253 ",
        "bbox": [
            585,
            839,
            706,
            852
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "paintComponent() method, 207 ",
        "bbox": [
            585,
            855,
            817,
            870
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "parameters, 153 ",
        "bbox": [
            585,
            872,
            714,
            887
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "parent classes (superclasses), 48 ",
        "bbox": [
            585,
            888,
            839,
            903
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "parseInt() method, 155, 185 ",
        "bbox": [
            585,
            906,
            805,
            920
        ],
        "page_idx": 308
    },
    {
        "type": "footer",
        "text": "Index ",
        "bbox": [
            819,
            953,
            851,
            963
        ],
        "page_idx": 308
    },
    {
        "type": "page_number",
        "text": "285 ",
        "bbox": [
            871,
            948,
            900,
            963
        ],
        "page_idx": 308
    },
    {
        "type": "text",
        "text": "parsing, 60 ",
        "bbox": [
            236,
            64,
            329,
            81
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "Pause/Start button, 232–235 ",
        "bbox": [
            236,
            82,
            466,
            96
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "persistent information, storing, 118–121 ",
        "bbox": [
            236,
            97,
            486,
            127
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "pixelated effect, 219–220, 245–247 ",
        "bbox": [
            236,
            130,
            511,
            145
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "Play Again button, 66, 73–74 ",
        "bbox": [
            236,
            148,
            466,
            163
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "pointers, 266 ",
        "bbox": [
            236,
            163,
            343,
            178
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "postDelayed() method, 263 ",
        "bbox": [
            236,
            181,
            446,
            196
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "println() method, 15, 26–27 ",
        "bbox": [
            236,
            196,
            460,
            211
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "private modifier, 57 ",
        "bbox": [
            236,
            214,
            396,
            228
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "procedural programming, 198 ",
        "bbox": [
            236,
            229,
            480,
            246
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "public modifier, 58 ",
        "bbox": [
            236,
            247,
            388,
            262
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "R ",
        "text_level": 1,
        "bbox": [
            236,
            286,
            253,
            301
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "Random class, 203 ",
        "bbox": [
            236,
            310,
            367,
            325
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "random() method, 24, 203 ",
        "bbox": [
            236,
            328,
            434,
            342
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "range settings dialog, 116–117 ",
        "bbox": [
            236,
            343,
            476,
            360
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "refactoring, 223 ",
        "bbox": [
            236,
            361,
            365,
            376
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "RelativeLayout value, 255 ",
        "bbox": [
            236,
            378,
            432,
            391
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "repaint() method, 209, 213, 215, 228, 234 ",
        "bbox": [
            236,
            394,
            490,
            424
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "requestFocus() method, 164 ",
        "bbox": [
            236,
            427,
            452,
            442
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "/reset command, 16 ",
        "bbox": [
            236,
            444,
            398,
            457
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "resource leaks, 37, 135 ",
        "bbox": [
            236,
            460,
            416,
            474
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "return statement, 113 ",
        "bbox": [
            236,
            477,
            404,
            490
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "run() method, 262 ",
        "bbox": [
            236,
            493,
            382,
            507
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "Runnable interface, 262 ",
        "bbox": [
            236,
            510,
            416,
            524
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "S ",
        "text_level": 1,
        "bbox": [
            236,
            548,
            250,
            564
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "/save command, 16 ",
        "bbox": [
            236,
            573,
            390,
            587
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "Scanner class, 25, 37 ",
        "bbox": [
            236,
            591,
            392,
            605
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "scrolling ",
        "bbox": [
            236,
            608,
            309,
            623
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "different operating systems and, 216–217 ",
        "bbox": [
            267,
            624,
            523,
            653
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "mouse wheel events, 215–217 ",
        "bbox": [
            267,
            656,
            498,
            669
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "scroll bars, 173–174 ",
        "bbox": [
            267,
            672,
            422,
            687
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "SDK (software development kit) levels, 78 ",
        "bbox": [
            236,
            689,
            490,
            720
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "Secret Messages app (Android mobile version) ",
        "bbox": [
            236,
            723,
            537,
            753
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "connecting Encode button to encode() method, 182–185 ",
        "bbox": [
            267,
            756,
            531,
            786
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "customizing fab icon, 190–193 ",
        "bbox": [
            267,
            789,
            507,
            804
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "designing GUI, 177–181 ",
        "bbox": [
            267,
            806,
            456,
            819
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "Move Up ^ button, 196 ",
        "bbox": [
            267,
            822,
            448,
            837
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "receiving secret messages from other apps, 193–195 ",
        "bbox": [
            267,
            839,
            511,
            870
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "running in Android emulator, 188–189 ",
        "bbox": [
            267,
            872,
            507,
            902
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "running on real Android device, 188–190 ",
        "bbox": [
            615,
            64,
            875,
            94
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "SeekBar component, 187–188, 196 ",
        "bbox": [
            615,
            97,
            878,
            112
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "setting up project, 176–177 ",
        "bbox": [
            615,
            115,
            829,
            130
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "testing, 185–187 ",
        "bbox": [
            615,
            130,
            744,
            145
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "wiring up, 182–188 ",
        "bbox": [
            615,
            148,
            767,
            163
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "Secret Messages app (command line version) ",
        "bbox": [
            585,
            163,
            875,
            196
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "adding loops to, 144–145 ",
        "bbox": [
            615,
            196,
            813,
            211
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "Caesar cipher, 125–126 ",
        "bbox": [
            615,
            214,
            799,
            229
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "character values, 132–133 ",
        "bbox": [
            615,
            229,
            819,
            244
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "closing all input/output resources, 135–136 ",
        "bbox": [
            615,
            247,
            890,
            276
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "custom key values, 137–138 ",
        "bbox": [
            615,
            280,
            831,
            294
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "encoding digits, 138–141 ",
        "bbox": [
            615,
            295,
            811,
            310
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "encoding only letters, 133–135 ",
        "bbox": [
            615,
            313,
            857,
            328
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "full version of, 140–141 ",
        "bbox": [
            615,
            330,
            799,
            343
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "languages other than English, 135 ",
        "bbox": [
            615,
            346,
            886,
            361
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "reversing and encoding, 145 ",
        "bbox": [
            615,
            364,
            839,
            378
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "setting up project, 126–131 ",
        "bbox": [
            615,
            379,
            829,
            394
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "asking user for input, 128 ",
        "bbox": [
            646,
            396,
            849,
            411
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "creating project in Eclipse, 127 ",
        "bbox": [
            646,
            412,
            890,
            427
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "message reverser, 128–131 ",
        "bbox": [
            646,
            429,
            851,
            444
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "strings, 128–131 ",
        "bbox": [
            646,
            445,
            773,
            460
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "try-catch blocks, 145 ",
        "bbox": [
            615,
            462,
            779,
            475
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "Secret Messages app (GUI version) ",
        "bbox": [
            585,
            478,
            861,
            493
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "building main() method, 156–157 ",
        "bbox": [
            615,
            495,
            876,
            509
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "creating encode() method, 151–154 ",
        "bbox": [
            615,
            510,
            888,
            525
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "designing GUI, 148–151 ",
        "bbox": [
            615,
            527,
            805,
            543
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "event handling, 154–156 ",
        "bbox": [
            615,
            545,
            811,
            558
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "full source code, 157–159 ",
        "bbox": [
            615,
            561,
            817,
            573
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "handling bad input, 156, 162–164 ",
        "bbox": [
            615,
            576,
            882,
            591
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "improving GUI, 159–169 ",
        "bbox": [
            615,
            594,
            813,
            609
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "line and word wrap, 161–162 ",
        "bbox": [
            615,
            609,
            841,
            624
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "Move Up ^ button, 172–173 ",
        "bbox": [
            615,
            627,
            831,
            642
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "numeric slider ",
        "bbox": [
            615,
            644,
            732,
            656
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "adding, 164–166 ",
        "bbox": [
            646,
            660,
            779,
            675
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "code cracking with, 166, 168–169 ",
        "bbox": [
            646,
            675,
            839,
            705
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "moving when value in text field changes, 174 ",
        "bbox": [
            646,
            708,
            896,
            741
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "scroll bars, 173–174 ",
        "bbox": [
            615,
            741,
            771,
            756
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "setting up project, 148 ",
        "bbox": [
            615,
            759,
            793,
            774
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "sharing as runnable JAR file, 169–171 ",
        "bbox": [
            615,
            776,
            845,
            804
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "wiring up, 148–151 ",
        "bbox": [
            615,
            807,
            765,
            824
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "SecretMessagesGUI class, 152 ",
        "bbox": [
            585,
            825,
            801,
            840
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "SeekBar component, 179–180, 187–188, 196 ",
        "bbox": [
            585,
            842,
            815,
            870
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "selectAll() method, 69, 164 ",
        "bbox": [
            585,
            873,
            805,
            888
        ],
        "page_idx": 309
    },
    {
        "type": "page_number",
        "text": "286 ",
        "bbox": [
            95,
            948,
            125,
            963
        ],
        "page_idx": 309
    },
    {
        "type": "footer",
        "text": "Index ",
        "bbox": [
            146,
            953,
            178,
            963
        ],
        "page_idx": 309
    },
    {
        "type": "text",
        "text": "Select Deployment Target dialog (in Android Studio), 98, 198 ",
        "bbox": [
            236,
            63,
            527,
            96
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "semicolon (;), 24 ",
        "bbox": [
            236,
            97,
            376,
            112
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "setBackground() method, 207 ",
        "bbox": [
            236,
            112,
            462,
            129
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "setButton() method, 114 ",
        "bbox": [
            236,
            130,
            428,
            145
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "setColor() method, 204 ",
        "bbox": [
            236,
            145,
            422,
            160
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "setItems() method, 117 ",
        "bbox": [
            236,
            162,
            420,
            178
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "setOnClickListener() method, 183–184, 191 ",
        "bbox": [
            236,
            178,
            468,
            210
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "setOnSeekBarChangeListener() method, 187 ",
        "bbox": [
            236,
            211,
            460,
            244
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "setOnTouchListener() method, 265 ",
        "bbox": [
            236,
            244,
            500,
            261
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "setSize() method, 64 ",
        "bbox": [
            236,
            262,
            404,
            277
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "setText() method, 61, 107, 156, 167 ",
        "bbox": [
            236,
            277,
            511,
            294
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "setVisible() method, 45, 65 ",
        "bbox": [
            236,
            295,
            456,
            310
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "shared preferences, 118–121 ",
        "bbox": [
            236,
            310,
            460,
            327
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "showMessageDialog() method, 163 ",
        "bbox": [
            236,
            328,
            494,
            343
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "show() method, 106 ",
        "bbox": [
            236,
            345,
            390,
            361
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "sliders ",
        "bbox": [
            236,
            361,
            291,
            375
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "numeric adding, 164–166 ",
        "bbox": [
            267,
            379,
            430,
            409
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "code cracking with, 166, 168–169 ",
        "bbox": [
            297,
            411,
            492,
            441
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "moving when value in text field changes, 174 ",
        "bbox": [
            297,
            444,
            547,
            475
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "speed control, 240–243 ",
        "bbox": [
            267,
            477,
            452,
            493
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "customizing, 241 ",
        "bbox": [
            297,
            493,
            430,
            509
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "event handler, 242–243 ",
        "bbox": [
            297,
            510,
            482,
            525
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "smart completion, 278 ",
        "bbox": [
            236,
            527,
            416,
            543
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "Snackbar pop-up messages, 191 ",
        "bbox": [
            236,
            543,
            486,
            558
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "software development kit (SDK) levels, 78 ",
        "bbox": [
            236,
            558,
            492,
            591
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "spelling errors, 274–276 ",
        "bbox": [
            236,
            591,
            430,
            608
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "src (source code) folder, 22, 48, 127, 141, 148 ",
        "bbox": [
            236,
            609,
            521,
            641
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "start() method, 229 ",
        "bbox": [
            236,
            642,
            398,
            657
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "stateChanged() method, 166–167, 242 ",
        "bbox": [
            236,
            659,
            527,
            674
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "statement completion, 278 ",
        "bbox": [
            236,
            675,
            448,
            690
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "stop() method, 229 ",
        "bbox": [
            236,
            690,
            390,
            707
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "storeRange() method, 119 ",
        "bbox": [
            236,
            708,
            436,
            723
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "strings, 12 ",
        "bbox": [
            236,
            725,
            321,
            740
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "String variable type, 14–15, 33 ",
        "bbox": [
            236,
            741,
            476,
            756
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "stubs, 22 ",
        "bbox": [
            236,
            758,
            309,
            771
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "superclasses (parent classes), 48 ",
        "bbox": [
            236,
            774,
            492,
            789
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "super() method, 253",
        "bbox": [
            236,
            791,
            398,
            806
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "switch statement, 113 ",
        "bbox": [
            236,
            807,
            404,
            822
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "syntax coloring, 273 ",
        "bbox": [
            236,
            824,
            398,
            840
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "System class, 26 ",
        "bbox": [
            236,
            840,
            357,
            855
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "System.in object, 25 ",
        "bbox": [
            236,
            857,
            390,
            873
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "System.out object, 26 ",
        "bbox": [
            236,
            873,
            398,
            888
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "T ",
        "text_level": 1,
        "bbox": [
            585,
            64,
            599,
            79
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "temporary variables, 12 ",
        "bbox": [
            585,
            90,
            773,
            106
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "Terminal, 142 ",
        "bbox": [
            585,
            106,
            698,
            121
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "testBubbles() method, 208–210, 213, 258–259, 265 ",
        "bbox": [
            585,
            123,
            871,
            154
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "Text class, 88 ",
        "bbox": [
            585,
            156,
            690,
            169
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "text fields ",
        "bbox": [
            585,
            172,
            666,
            186
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "adding, 82 ",
        "bbox": [
            615,
            189,
            702,
            205
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "aligning, 104 ",
        "bbox": [
            615,
            205,
            722,
            222
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "centering input in, 103 ",
        "bbox": [
            615,
            223,
            797,
            238
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "declaring at top level of class, 56–57 ",
        "bbox": [
            615,
            238,
            849,
            268
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "getting text from, 59 ",
        "bbox": [
            615,
            271,
            779,
            288
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "sizing, 83 ",
        "bbox": [
            615,
            289,
            692,
            304
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "wiring up, 55–56, 83–84 ",
        "bbox": [
            615,
            304,
            809,
            319
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "TextView component, 81–82, 84, 87, 104, 107, 114–116, 177 ",
        "bbox": [
            585,
            322,
            898,
            352
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "Thread class, 262 ",
        "bbox": [
            585,
            354,
            714,
            369
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "threading, 249, 261–264 ",
        "bbox": [
            585,
            370,
            779,
            387
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "threads, 253 ",
        "bbox": [
            585,
            388,
            686,
            402
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "tilde (~), 16 ",
        "bbox": [
            585,
            403,
            680,
            418
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "Timer class, 225–227 ",
        "bbox": [
            585,
            420,
            744,
            435
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "title property, 51 ",
        "bbox": [
            585,
            436,
            724,
            453
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "Toast messages, 106 ",
        "bbox": [
            585,
            454,
            744,
            469
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "toString() method, 88, 185 ",
        "bbox": [
            585,
            469,
            797,
            486
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "touch events, 251–252, 259–260, 264–267, 271–272 ",
        "bbox": [
            585,
            487,
            841,
            516
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "transparency, 224–225 ",
        "bbox": [
            585,
            519,
            765,
            534
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "try-catch statements, 71–72, 145, 156, 162–163 ",
        "bbox": [
            585,
            536,
            880,
            566
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "type casts (casts), 24, 132 ",
        "bbox": [
            585,
            569,
            785,
            585
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "U ",
        "text_level": 1,
        "bbox": [
            585,
            606,
            601,
            624
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "undo, 55 ",
        "bbox": [
            585,
            633,
            658,
            648
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "Unicode, 132 ",
        "bbox": [
            585,
            650,
            692,
            663
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "update() method, 228, 237–238, 255 ",
        "bbox": [
            585,
            666,
            867,
            681
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "USB debugging in Android, 100–101 ",
        "bbox": [
            585,
            683,
            876,
            699
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "user experience (UX), 67 ",
        "bbox": [
            585,
            699,
            789,
            714
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "V ",
        "text_level": 1,
        "bbox": [
            585,
            738,
            601,
            753
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "variables ",
        "bbox": [
            585,
            764,
            658,
            777
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "declaring and initializing, 26 ",
        "bbox": [
            615,
            780,
            847,
            795
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "declaring at top level of class, 56–58 ",
        "bbox": [
            615,
            798,
            849,
            827
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "declaring in JShell, 13–15 ",
        "bbox": [
            615,
            830,
            819,
            846
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "temporary, 12 ",
        "bbox": [
            615,
            848,
            728,
            863
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "/vars command, 16 ",
        "bbox": [
            585,
            864,
            740,
            878
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "void modifier, 58 ",
        "bbox": [
            585,
            879,
            722,
            894
        ],
        "page_idx": 310
    },
    {
        "type": "footer",
        "text": "Index ",
        "bbox": [
            819,
            953,
            851,
            963
        ],
        "page_idx": 310
    },
    {
        "type": "page_number",
        "text": "287 ",
        "bbox": [
            871,
            948,
            900,
            963
        ],
        "page_idx": 310
    },
    {
        "type": "text",
        "text": "W ",
        "text_level": 1,
        "bbox": [
            236,
            64,
            259,
            79
        ],
        "page_idx": 311
    },
    {
        "type": "text",
        "text": "what-you-see-is-what-you-get (WYSIWYG) interfaces, 50 ",
        "bbox": [
            236,
            91,
            541,
            121
        ],
        "page_idx": 311
    },
    {
        "type": "text",
        "text": "while loops, 28–30 ",
        "bbox": [
            236,
            124,
            384,
            139
        ],
        "page_idx": 311
    },
    {
        "type": "text",
        "text": "wildcard character (*), 46 ",
        "bbox": [
            236,
            141,
            444,
            154
        ],
        "page_idx": 311
    },
    {
        "type": "text",
        "text": "WindowBuilder Editor (in Eclipse), 50–52 ",
        "bbox": [
            236,
            157,
            519,
            186
        ],
        "page_idx": 311
    },
    {
        "type": "text",
        "text": "Design tab, 50 ",
        "bbox": [
            267,
            189,
            382,
            205
        ],
        "page_idx": 311
    },
    {
        "type": "text",
        "text": "installing, 6–7 ",
        "bbox": [
            267,
            205,
            382,
            222
        ],
        "page_idx": 311
    },
    {
        "type": "text",
        "text": "Palette pane, 52–54 ",
        "bbox": [
            267,
            223,
            424,
            238
        ],
        "page_idx": 311
    },
    {
        "type": "text",
        "text": "Properties pane, 51–52 ",
        "bbox": [
            267,
            238,
            450,
            255
        ],
        "page_idx": 311
    },
    {
        "type": "text",
        "text": "Source tab, 56 ",
        "bbox": [
            267,
            256,
            382,
            271
        ],
        "page_idx": 311
    },
    {
        "type": "text",
        "text": "windows ",
        "bbox": [
            236,
            273,
            307,
            286
        ],
        "page_idx": 311
    },
    {
        "type": "text",
        "text": "close operation, 51–52 ",
        "bbox": [
            267,
            289,
            446,
            304
        ],
        "page_idx": 311
    },
    {
        "type": "text",
        "text": "content panes, 52 ",
        "bbox": [
            267,
            306,
            406,
            321
        ],
        "page_idx": 311
    },
    {
        "type": "text",
        "text": "creating, 44–45 ",
        "bbox": [
            267,
            322,
            392,
            337
        ],
        "page_idx": 311
    },
    {
        "type": "text",
        "text": "sizing, 64 ",
        "bbox": [
            267,
            339,
            343,
            355
        ],
        "page_idx": 311
    },
    {
        "type": "text",
        "text": "titles, 51 ",
        "bbox": [
            267,
            355,
            333,
            369
        ],
        "page_idx": 311
    },
    {
        "type": "text",
        "text": "wrapStyleWord property, 162 ",
        "bbox": [
            236,
            372,
            452,
            388
        ],
        "page_idx": 311
    },
    {
        "type": "text",
        "text": "WYSIWYG (what-you-see-is-what-",
        "bbox": [
            236,
            388,
            503,
            403
        ],
        "page_idx": 311
    },
    {
        "type": "text",
        "text": "you-get) interfaces, 50 ",
        "bbox": [
            327,
            405,
            503,
            420
        ],
        "page_idx": 311
    },
    {
        "type": "page_number",
        "text": "288 ",
        "bbox": [
            95,
            948,
            125,
            963
        ],
        "page_idx": 311
    },
    {
        "type": "footer",
        "text": "Index ",
        "bbox": [
            146,
            953,
            178,
            963
        ],
        "page_idx": 311
    },
    {
        "type": "text",
        "text": "Learn Java the Easy Way is set in New Baskerville, Futura, Dogma, and TheSansMono Condensed. ",
        "bbox": [
            236,
            207,
            833,
            241
        ],
        "page_idx": 312
    },
    {
        "type": "text",
        "text": "RESOURCES ",
        "text_level": 1,
        "bbox": [
            111,
            78,
            303,
            112
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "Visit https://www.nostarch.com/learnjava/ for resources, errata, and more information. ",
        "bbox": [
            109,
            130,
            787,
            169
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "More no-nonsense books from ",
        "bbox": [
            109,
            208,
            384,
            231
        ],
        "page_idx": 313
    },
    {
        "type": "image",
        "img_path": "images/be773405548e8dd4aee000682cbd59ad7e85700bb2832200d3b23763cefb6b39.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            398,
            201,
            442,
            238
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "No S t a rc h P ress ",
        "text_level": 1,
        "bbox": [
            456,
            211,
            579,
            226
        ],
        "page_idx": 313
    },
    {
        "type": "image",
        "img_path": "images/399271c647991505652545182bc17b7dbca0a55dad3a9a51c66a5e42788c9ef1.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            109,
            246,
            271,
            406
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "T e a c h Y our K i d s to C o d e ",
        "text_level": 1,
        "bbox": [
            109,
            415,
            303,
            430
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "A Parent-Friendly Guide to Python Programming ",
        "bbox": [
            109,
            433,
            263,
            463
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "by bryson payne ",
        "bbox": [
            109,
            465,
            222,
            478
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "april 2015, 336 pp., $\\$ 29.95$ ",
        "bbox": [
            109,
            478,
            295,
            492
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "isbn 978-1-59327-614-0 ",
        "bbox": [
            109,
            493,
            271,
            506
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "full color ",
        "bbox": [
            107,
            509,
            170,
            524
        ],
        "page_idx": 313
    },
    {
        "type": "image",
        "img_path": "images/e19a50cce6e584bf7d067b71001abe40c0199bafc56548116244ca55ef1ac38a.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            373,
            246,
            533,
            406
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "Co di ng i P h o n e Apps for K i ds ",
        "text_level": 1,
        "bbox": [
            373,
            415,
            599,
            430
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "A Playful Introduction to Swift ",
        "bbox": [
            373,
            433,
            549,
            448
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "by gloria winquist and matt mccarthy ",
        "bbox": [
            373,
            450,
            539,
            475
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "june 2017, 336 pp., $\\$ 29.95$ ",
        "bbox": [
            373,
            478,
            551,
            492
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "isbn 978-1-59327-756-7 ",
        "bbox": [
            373,
            493,
            533,
            506
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "full color ",
        "bbox": [
            371,
            509,
            432,
            522
        ],
        "page_idx": 313
    },
    {
        "type": "image",
        "img_path": "images/aeaef30039a85b335932e16e9369495f62d8f063fc38efdf60083207d430e669.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            634,
            246,
            795,
            406
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "P yt h o n C r a s h C ourse ",
        "text_level": 1,
        "bbox": [
            634,
            415,
            807,
            430
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "A Hands-On, Project-Based Introduction to Programming ",
        "bbox": [
            634,
            433,
            805,
            463
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "by eric matthes ",
        "bbox": [
            636,
            465,
            750,
            477
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "november 2015, 560 pp., $\\$ 39.95$ ",
        "bbox": [
            636,
            478,
            853,
            492
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "isbn 978-1-59327-603-4 ",
        "bbox": [
            636,
            493,
            799,
            506
        ],
        "page_idx": 313
    },
    {
        "type": "image",
        "img_path": "images/fc484b173025bdf55c9a361c098578816d1549e353ecd30ace6eb818ffbb222b.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            109,
            537,
            271,
            696
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "Auto m ate t h e Bor i ng S tu ff wit h Pyt ho n ",
        "text_level": 1,
        "bbox": [
            109,
            705,
            327,
            740
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "Practical Programming for Total Beginners ",
        "bbox": [
            109,
            743,
            265,
            771
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "by al sweigart ",
        "bbox": [
            109,
            773,
            214,
            786
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "april 2015, 504 pp., $\\$ 29.95$ ",
        "bbox": [
            109,
            788,
            295,
            800
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "isbn 978-1-59327-599-0 ",
        "bbox": [
            109,
            803,
            273,
            815
        ],
        "page_idx": 313
    },
    {
        "type": "image",
        "img_path": "images/ae36de625a76da0eea7dc39b5bcca102c9437887c86fb4b02d1623214b58f22a.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            373,
            537,
            533,
            696
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "The Linu x Co mmand Line A Complete Introduction ",
        "text_level": 1,
        "bbox": [
            371,
            705,
            565,
            740
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "by william e. shotts, jr. ",
        "bbox": [
            371,
            741,
            543,
            755
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "january 2012, 480 pp., $\\$ 39.95$ ",
        "bbox": [
            371,
            756,
            577,
            768
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "isbn 978-1-59327-389-7 ",
        "bbox": [
            373,
            771,
            533,
            783
        ],
        "page_idx": 313
    },
    {
        "type": "image",
        "img_path": "images/f30615d0659c94c0fd01ce73cd8944c4e63531963617d162fbd9d08d0bb4cc87.jpg",
        "image_caption": [],
        "image_footnote": [],
        "bbox": [
            634,
            537,
            795,
            696
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "Elo que nt Java Scr ipt , 2nd Edit io n ",
        "text_level": 1,
        "bbox": [
            634,
            705,
            805,
            740
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "A Modern Introduction to Programming ",
        "bbox": [
            634,
            743,
            863,
            759
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "by marijn haverbeke ",
        "bbox": [
            634,
            759,
            781,
            773
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "december 2014, 472 pp., $\\$ 39.95$ ",
        "bbox": [
            634,
            774,
            849,
            786
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "isbn 978-1-59327-584-6 ",
        "bbox": [
            636,
            789,
            799,
            801
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "phone: ",
        "bbox": [
            456,
            837,
            503,
            849
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "1.800.420.7240 or ",
        "bbox": [
            456,
            852,
            585,
            864
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "1.415.863.9900 ",
        "bbox": [
            456,
            867,
            565,
            879
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "email: ",
        "bbox": [
            678,
            837,
            718,
            849
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "sales@nostarch.com ",
        "bbox": [
            678,
            852,
            833,
            863
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "web: ",
        "bbox": [
            678,
            870,
            710,
            879
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "www.nostarch.com ",
        "bbox": [
            678,
            884,
            821,
            894
        ],
        "page_idx": 313
    },
    {
        "type": "text",
        "text": "Java is the world's most popular programming language,but it'sknown forhavingasteep learning curve.Learn Java the Easy Way takes the chore out of learning Java with hands-on projects that will get you building real,functioningapps right away. ",
        "bbox": [
            45,
            247,
            458,
            343
        ],
        "page_idx": 315
    },
    {
        "type": "text",
        "text": "You'll start byfamiliarizing yourself with JShell,Java's interactivecommand line shell that allows programmers to run single lines of code and get immediate feedback. Then,you'llcreatea guessing game,a secret message encoder,and a multitouch bubble-drawing app for both desktop and mobile devices using Eclipse,an industrystandard IDE,and Android Studio,the development environment for making Android apps. ",
        "bbox": [
            45,
            352,
            476,
            509
        ],
        "page_idx": 315
    },
    {
        "type": "text",
        "text": "As you build these apps, you'll learn how to: ",
        "bbox": [
            45,
            519,
            404,
            537
        ],
        "page_idx": 315
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "·Perform calculations，manipulate text strings,and generate random colors ",
            "· Use conditions,loops,and methods to make your programs responsive and concise "
        ],
        "bbox": [
            49,
            549,
            468,
            635
        ],
        "page_idx": 315
    },
    {
        "type": "list",
        "sub_type": "text",
        "list_items": [
            "·Create functions to reuse code and save time ",
            "· Build graphical user interface (GUl) elements， including butons, menus,pop-ups,and sliders ",
            "·Take advantage of Eclipse and Android Studio features to debug your code and find,fix,nd prevent common mistakes "
        ],
        "bbox": [
            513,
            246,
            912,
            381
        ],
        "page_idx": 315
    },
    {
        "type": "text",
        "text": "If you've been thinkingabout learningJava,Learn Java the Easy Way willbring you up to speed in no time. ",
        "bbox": [
            511,
            391,
            946,
            430
        ],
        "page_idx": 315
    },
    {
        "type": "text",
        "text": "ABOUTTHEAUTHOR ",
        "text_level": 1,
        "bbox": [
            630,
            444,
            829,
            457
        ],
        "page_idx": 315
    },
    {
        "type": "text",
        "text": "Bryson Payne is a professor of computer science at the Universityof North Georgia,where he has taught for more than 17 years. He previously taught middleschool math and programming and continues to work extensively with K-12 schools to promote technology education.He is the author of Teach Your Kids to Code, also from No Starch Press. ",
        "bbox": [
            509,
            471,
            950,
            605
        ],
        "page_idx": 315
    },
    {
        "type": "header",
        "text": "JAVA WITHOUT THE HEADACHE ",
        "bbox": [
            37,
            69,
            291,
            144
        ],
        "page_idx": 315
    },
    {
        "type": "header",
        "text": "",
        "bbox": [
            327,
            0,
            668,
            217
        ],
        "page_idx": 315
    },
    {
        "type": "header",
        "text": "COVERS JAVA8 AND 9 ",
        "bbox": [
            750,
            85,
            910,
            127
        ],
        "page_idx": 315
    },
    {
        "type": "footer",
        "text": "no starch press ",
        "bbox": [
            31,
            783,
            140,
            864
        ],
        "page_idx": 315
    },
    {
        "type": "footer",
        "text": "THEFINEST IN GEEK ENTERTAINMENT ",
        "bbox": [
            152,
            809,
            375,
            822
        ],
        "page_idx": 315
    },
    {
        "type": "footer",
        "text": "www.nostarch.com ",
        "bbox": [
            152,
            828,
            269,
            840
        ],
        "page_idx": 315
    },
    {
        "type": "footer",
        "text": "$29.95 ($39.95 CDN) ",
        "bbox": [
            819,
            834,
            936,
            849
        ],
        "page_idx": 315
    },
    {
        "type": "footer",
        "text": "ISBN:978-1-59327-805-2 ",
        "bbox": [
            658,
            861,
            873,
            875
        ],
        "page_idx": 315
    },
    {
        "type": "footer",
        "text": "9781593278052 ",
        "bbox": [
            658,
            873,
            815,
            966
        ],
        "page_idx": 315
    },
    {
        "type": "footer",
        "text": "52995 ",
        "bbox": [
            823,
            876,
            896,
            956
        ],
        "page_idx": 315
    },
    {
        "type": "footer",
        "text": "",
        "bbox": [
            920,
            861,
            944,
            972
        ],
        "page_idx": 315
    }
]